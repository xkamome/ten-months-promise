(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();var wf={exports:{}},Ml={};var _y;function n1(){if(_y)return Ml;_y=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var y in o)y!=="key"&&(f[y]=o[y])}else f=o;return o=f.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:f}}return Ml.Fragment=e,Ml.jsx=i,Ml.jsxs=i,Ml}var vy;function i1(){return vy||(vy=1,wf.exports=n1()),wf.exports}var ot=i1(),Df={exports:{}},yt={};var Ey;function a1(){if(Ey)return yt;Ey=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.iterator;function F(I){return I===null||typeof I!="object"?null:(I=O&&I[O]||I["@@iterator"],typeof I=="function"?I:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,tt={};function dt(I,Y,W){this.props=I,this.context=Y,this.refs=tt,this.updater=W||J}dt.prototype.isReactComponent={},dt.prototype.setState=function(I,Y){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Y,"setState")},dt.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function Tt(){}Tt.prototype=dt.prototype;function mt(I,Y,W){this.props=I,this.context=Y,this.refs=tt,this.updater=W||J}var xt=mt.prototype=new Tt;xt.constructor=mt,et(xt,dt.prototype),xt.isPureReactComponent=!0;var $t=Array.isArray;function It(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(I,Y,W){var it=W.ref;return{$$typeof:s,type:I,key:Y,ref:it!==void 0?it:null,props:W}}function N(I,Y){return C(I.type,Y,I.props)}function x(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function z(I){var Y={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(W){return Y[W]})}var A=/\/+/g;function Ut(I,Y){return typeof I=="object"&&I!==null&&I.key!=null?z(""+I.key):Y.toString(36)}function ue(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(It,It):(I.status="pending",I.then(function(Y){I.status==="pending"&&(I.status="fulfilled",I.value=Y)},function(Y){I.status==="pending"&&(I.status="rejected",I.reason=Y)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,Y,W,it,gt){var St=typeof I;(St==="undefined"||St==="boolean")&&(I=null);var Ot=!1;if(I===null)Ot=!0;else switch(St){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(I.$$typeof){case s:case e:Ot=!0;break;case S:return Ot=I._init,H(Ot(I._payload),Y,W,it,gt)}}if(Ot)return gt=gt(I),Ot=it===""?"."+Ut(I,0):it,$t(gt)?(W="",Ot!=null&&(W=Ot.replace(A,"$&/")+"/"),H(gt,Y,W,"",function(za){return za})):gt!=null&&(x(gt)&&(gt=N(gt,W+(gt.key==null||I&&I.key===gt.key?"":(""+gt.key).replace(A,"$&/")+"/")+Ot)),Y.push(gt)),1;Ot=0;var we=it===""?".":it+":";if($t(I))for(var ne=0;ne<I.length;ne++)it=I[ne],St=we+Ut(it,ne),Ot+=H(it,Y,W,St,gt);else if(ne=F(I),typeof ne=="function")for(I=ne.call(I),ne=0;!(it=I.next()).done;)it=it.value,St=we+Ut(it,ne++),Ot+=H(it,Y,W,St,gt);else if(St==="object"){if(typeof I.then=="function")return H(ue(I),Y,W,it,gt);throw Y=String(I),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function $(I,Y,W){if(I==null)return I;var it=[],gt=0;return H(I,it,"","",function(St){return Y.call(W,St,gt++)}),it}function ut(I){if(I._status===-1){var Y=I._result;Y=Y(),Y.then(function(W){(I._status===0||I._status===-1)&&(I._status=1,I._result=W)},function(W){(I._status===0||I._status===-1)&&(I._status=2,I._result=W)}),I._status===-1&&(I._status=0,I._result=Y)}if(I._status===1)return I._result.default;throw I._result}var Lt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ht={map:$,forEach:function(I,Y,W){$(I,function(){Y.apply(this,arguments)},W)},count:function(I){var Y=0;return $(I,function(){Y++}),Y},toArray:function(I){return $(I,function(Y){return Y})||[]},only:function(I){if(!x(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return yt.Activity=w,yt.Children=Ht,yt.Component=dt,yt.Fragment=i,yt.Profiler=o,yt.PureComponent=mt,yt.StrictMode=r,yt.Suspense=v,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,yt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},yt.cache=function(I){return function(){return I.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(I,Y,W){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var it=et({},I.props),gt=I.key;if(Y!=null)for(St in Y.key!==void 0&&(gt=""+Y.key),Y)!b.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(it[St]=Y[St]);var St=arguments.length-2;if(St===1)it.children=W;else if(1<St){for(var Ot=Array(St),we=0;we<St;we++)Ot[we]=arguments[we+2];it.children=Ot}return C(I.type,gt,it)},yt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:f,_context:I},I},yt.createElement=function(I,Y,W){var it,gt={},St=null;if(Y!=null)for(it in Y.key!==void 0&&(St=""+Y.key),Y)b.call(Y,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=Y[it]);var Ot=arguments.length-2;if(Ot===1)gt.children=W;else if(1<Ot){for(var we=Array(Ot),ne=0;ne<Ot;ne++)we[ne]=arguments[ne+2];gt.children=we}if(I&&I.defaultProps)for(it in Ot=I.defaultProps,Ot)gt[it]===void 0&&(gt[it]=Ot[it]);return C(I,St,gt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(I){return{$$typeof:y,render:I}},yt.isValidElement=x,yt.lazy=function(I){return{$$typeof:S,_payload:{_status:-1,_result:I},_init:ut}},yt.memo=function(I,Y){return{$$typeof:_,type:I,compare:Y===void 0?null:Y}},yt.startTransition=function(I){var Y=D.T,W={};D.T=W;try{var it=I(),gt=D.S;gt!==null&&gt(W,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(It,Lt)}catch(St){Lt(St)}finally{Y!==null&&W.types!==null&&(Y.types=W.types),D.T=Y}},yt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},yt.use=function(I){return D.H.use(I)},yt.useActionState=function(I,Y,W){return D.H.useActionState(I,Y,W)},yt.useCallback=function(I,Y){return D.H.useCallback(I,Y)},yt.useContext=function(I){return D.H.useContext(I)},yt.useDebugValue=function(){},yt.useDeferredValue=function(I,Y){return D.H.useDeferredValue(I,Y)},yt.useEffect=function(I,Y){return D.H.useEffect(I,Y)},yt.useEffectEvent=function(I){return D.H.useEffectEvent(I)},yt.useId=function(){return D.H.useId()},yt.useImperativeHandle=function(I,Y,W){return D.H.useImperativeHandle(I,Y,W)},yt.useInsertionEffect=function(I,Y){return D.H.useInsertionEffect(I,Y)},yt.useLayoutEffect=function(I,Y){return D.H.useLayoutEffect(I,Y)},yt.useMemo=function(I,Y){return D.H.useMemo(I,Y)},yt.useOptimistic=function(I,Y){return D.H.useOptimistic(I,Y)},yt.useReducer=function(I,Y,W){return D.H.useReducer(I,Y,W)},yt.useRef=function(I){return D.H.useRef(I)},yt.useState=function(I){return D.H.useState(I)},yt.useSyncExternalStore=function(I,Y,W){return D.H.useSyncExternalStore(I,Y,W)},yt.useTransition=function(){return D.H.useTransition()},yt.version="19.2.4",yt}var Ty;function fd(){return Ty||(Ty=1,Df.exports=a1()),Df.exports}var Re=fd(),Vf={exports:{}},zl={},xf={exports:{}},If={};var Sy;function r1(){return Sy||(Sy=1,(function(s){function e(H,$){var ut=H.length;H.push($);t:for(;0<ut;){var Lt=ut-1>>>1,Ht=H[Lt];if(0<o(Ht,$))H[Lt]=$,H[ut]=Ht,ut=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var $=H[0],ut=H.pop();if(ut!==$){H[0]=ut;t:for(var Lt=0,Ht=H.length,I=Ht>>>1;Lt<I;){var Y=2*(Lt+1)-1,W=H[Y],it=Y+1,gt=H[it];if(0>o(W,ut))it<Ht&&0>o(gt,W)?(H[Lt]=gt,H[it]=ut,Lt=it):(H[Lt]=W,H[Y]=ut,Lt=Y);else if(it<Ht&&0>o(gt,ut))H[Lt]=gt,H[it]=ut,Lt=it;else break t}}return $}function o(H,$){var ut=H.sortIndex-$.sortIndex;return ut!==0?ut:H.id-$.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],_=[],S=1,w=null,O=3,F=!1,J=!1,et=!1,tt=!1,dt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function xt(H){for(var $=i(_);$!==null;){if($.callback===null)r(_);else if($.startTime<=H)r(_),$.sortIndex=$.expirationTime,e(v,$);else break;$=i(_)}}function $t(H){if(et=!1,xt(H),!J)if(i(v)!==null)J=!0,It||(It=!0,z());else{var $=i(_);$!==null&&ue($t,$.startTime-H)}}var It=!1,D=-1,b=5,C=-1;function N(){return tt?!0:!(s.unstable_now()-C<b)}function x(){if(tt=!1,It){var H=s.unstable_now();C=H;var $=!0;try{t:{J=!1,et&&(et=!1,Tt(D),D=-1),F=!0;var ut=O;try{e:{for(xt(H),w=i(v);w!==null&&!(w.expirationTime>H&&N());){var Lt=w.callback;if(typeof Lt=="function"){w.callback=null,O=w.priorityLevel;var Ht=Lt(w.expirationTime<=H);if(H=s.unstable_now(),typeof Ht=="function"){w.callback=Ht,xt(H),$=!0;break e}w===i(v)&&r(v),xt(H)}else r(v);w=i(v)}if(w!==null)$=!0;else{var I=i(_);I!==null&&ue($t,I.startTime-H),$=!1}}break t}finally{w=null,O=ut,F=!1}$=void 0}}finally{$?z():It=!1}}}var z;if(typeof mt=="function")z=function(){mt(x)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,Ut=A.port2;A.port1.onmessage=x,z=function(){Ut.postMessage(null)}}else z=function(){dt(x,0)};function ue(H,$){D=dt(function(){H(s.unstable_now())},$)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(H){switch(O){case 1:case 2:case 3:var $=3;break;default:$=O}var ut=O;O=$;try{return H()}finally{O=ut}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=O;O=H;try{return $()}finally{O=ut}},s.unstable_scheduleCallback=function(H,$,ut){var Lt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Lt+ut:Lt):ut=Lt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ut+Ht,H={id:S++,callback:$,priorityLevel:H,startTime:ut,expirationTime:Ht,sortIndex:-1},ut>Lt?(H.sortIndex=ut,e(_,H),i(v)===null&&H===i(_)&&(et?(Tt(D),D=-1):et=!0,ue($t,ut-Lt))):(H.sortIndex=Ht,e(v,H),J||F||(J=!0,It||(It=!0,z()))),H},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(H){var $=O;return function(){var ut=O;O=$;try{return H.apply(this,arguments)}finally{O=ut}}}})(If)),If}var Ay;function s1(){return Ay||(Ay=1,xf.exports=r1()),xf.exports}var Nf={exports:{}},Qe={};var by;function l1(){if(by)return Qe;by=1;var s=fd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(v,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(v,_,null,S)},Qe.flushSync=function(v){var _=d.T,S=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=S,r.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:O,fetchPriority:F}):S==="script"&&r.d.X(v,{crossOrigin:w,integrity:O,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin);r.d.L(v,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Qe.requestFormReset=function(v){r.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.4",Qe}var Ry;function o1(){if(Ry)return Nf.exports;Ry=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Nf.exports=l1(),Nf.exports}var Cy;function u1(){if(Cy)return zl;Cy=1;var s=s1(),e=fd(),i=o1();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(f(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return v(c),t;if(h===l)return v(c),n;h=h.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=h;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=h;break}if(E===l){g=!0,l=c,a=h;break}E=E.sibling}if(!g){for(E=h.child;E;){if(E===a){g=!0,a=h,l=c;break}if(E===l){g=!0,l=h,a=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,O=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function Ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case et:return"Fragment";case dt:return"Profiler";case tt:return"StrictMode";case $t:return"Suspense";case It:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case mt:return t.displayName||"Context";case Tt:return(t._context.displayName||"Context")+".Consumer";case xt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:Ut(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Ut(t(n))}catch{}}return null}var ue=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function I(t){return{current:t}}function Y(t){0>Ht||(t.current=Lt[Ht],Lt[Ht]=null,Ht--)}function W(t,n){Ht++,Lt[Ht]=t.current,t.current=n}var it=I(null),gt=I(null),St=I(null),Ot=I(null);function we(t,n){switch(W(St,n),W(gt,t),W(it,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?qp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=qp(n),t=kp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(it),W(it,t)}function ne(){Y(it),Y(gt),Y(St)}function za(t){t.memoizedState!==null&&W(Ot,t);var n=it.current,a=kp(n,t.type);n!==a&&(W(gt,t),W(it,a))}function Sr(t){gt.current===t&&(Y(it),Y(gt)),Ot.current===t&&(Y(Ot),xl._currentValue=ut)}var Ar,br;function Qn(t){if(Ar===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ar=n&&n[1]||"",br=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ar+t+br}var xs=!1;function Ua(t,n){if(!t||xs)return"";xs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var j=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){j=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){j=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],E=h[1];if(g&&E){var R=g.split(`
`),B=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===B.length)for(l=R.length-1,c=B.length-1;1<=l&&0<=c&&R[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==B[c]){var k=`
`+R[l].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=l&&0<=c);break}}}finally{xs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Qn(a):""}function Is(t,n){switch(t.tag){case 26:case 27:case 5:return Qn(t.type);case 16:return Qn("Lazy");case 13:return t.child!==n&&n!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return Ua(t.type,!1);case 11:return Ua(t.type.render,!1);case 1:return Ua(t.type,!0);case 31:return Qn("Activity");default:return""}}function Ns(t){try{var n="",a=null;do n+=Is(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ge=Object.prototype.hasOwnProperty,De=s.unstable_scheduleCallback,Hi=s.unstable_cancelCallback,Dc=s.unstable_shouldYield,uo=s.unstable_requestPaint,Ze=s.unstable_now,La=s.unstable_getCurrentPriorityLevel,Os=s.unstable_ImmediatePriority,Ms=s.unstable_UserBlockingPriority,Gi=s.unstable_NormalPriority,Vc=s.unstable_LowPriority,co=s.unstable_IdlePriority,ho=s.log,fo=s.unstable_setDisableYieldValue,On=null,Le=null;function vn(t){if(typeof ho=="function"&&fo(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(On,t)}catch{}}var ce=Math.clz32?Math.clz32:go,mo=Math.log,Rr=Math.LN2;function go(t){return t>>>=0,t===0?32:31-(mo(t)/Rr|0)|0}var Yn=256,Ba=262144,pe=4194304;function Kn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=Kn(l):(g&=E,g!==0?c=Kn(g):a||(a=E&~t,a!==0&&(c=Kn(a))))):(E=l&~h,E!==0?c=Kn(E):g!==0?c=Kn(g):a||(a=l&~t,a!==0&&(c=Kn(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function Mn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function po(){var t=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),t}function Zn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ja(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ic(t,n,a,l,c,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var k=31-ce(a),Q=1<<k;E[k]=0,R[k]=-1;var j=B[k];if(j!==null)for(B[k]=null,k=0;k<j.length;k++){var q=j[k];q!==null&&(q.lane&=-536870913)}a&=~Q}l!==0&&Pa(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function Pa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ce(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function zs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ce(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Us(t,n){var a=n&-n;return a=(a&42)!==0?1:qa(a),(a&(t.suspendedLanes|n))!==0?0:a}function qa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ti(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yo(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:hy(t.type))}function zn(t,n){var a=$.p;try{return $.p=t,n()}finally{$.p=a}}var Un=Math.random().toString(36).slice(2),ye="__reactFiber$"+Un,Oe="__reactProps$"+Un,Jn="__reactContainer$"+Un,Cr="__reactEvents$"+Un,Nc="__reactListeners$"+Un,_o="__reactHandles$"+Un,vo="__reactResources$"+Un,$n="__reactMarker$"+Un;function wr(t){delete t[ye],delete t[Oe],delete t[Cr],delete t[Nc],delete t[_o]}function Wn(t){var n=t[ye];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Jn]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Xp(t);t!==null;){if(a=t[ye])return a;t=Xp(t)}return n}t=a,a=t.parentNode}return null}function En(t){if(t=t[ye]||t[Jn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ti(t){var n=t[vo];return n||(n=t[vo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(t){t[$n]=!0}var Ls=new Set,Bs={};function ei(t,n){ni(t,n),ni(t+"Capture",n)}function ni(t,n){for(Bs[t]=n,t=0;t<n.length;t++)Ls.add(n[t])}var js=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ps={},qs={};function Eo(t){return ge.call(qs,t)?!0:ge.call(Ps,t)?!1:js.test(t)?qs[t]=!0:(Ps[t]=!0,!1)}function Dr(t,n,a){if(Eo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ve(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ks(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Gt(t){if(!t._valueTracker){var n=Fi(t)?"checked":"value";t._valueTracker=ks(t,n,""+t[n])}}function ka(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Fi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ha=/[\n"\\]/g;function We(t){return t.replace(Ha,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vr(t,n,a,l,c,h,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Hs(t,g,Me(n)):a!=null?Hs(t,g,Me(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Me(E):t.removeAttribute("name")}function To(t,n,a,l,c,h,g,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Gt(t);return}a=a!=null?""+Me(a):"",n=n!=null?""+Me(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Gt(t)}function Hs(t,n,a){n==="number"&&ii(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Qi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Me(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function So(t,n,a){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Me(a):""}function Yi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ue(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Me(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Gt(t)}function tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ao=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gs(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ao.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Fs(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Gs(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&Gs(t,h,n[h])}function xr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ir(t){return Ki.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ln(){}var Qs=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,ai=null;function Ga(t){var n=En(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Vr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(r(90));Vr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&ka(l)}break t;case"textarea":So(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Qi(t,!!a.multiple,n,!1)}}}var Nr=!1;function Zi(t,n,a){if(Nr)return t(n,a);Nr=!0;try{var l=t(n);return l}finally{if(Nr=!1,(Xi!==null||ai!==null)&&(yu(),Xi&&(n=Xi,t=ai,ai=Xi=null,Ga(n),t)))for(n=0;n<t.length;n++)Ga(t[n])}}function Bn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=!1;if(Sn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{Fa=!1}var ri=null,Ys=null,Qa=null;function Ks(){if(Qa)return Qa;var t,n=Ys,a=n.length,l,c="value"in ri?ri.value:ri.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[h-l];l++);return Qa=c.slice(t,1<l?1-l:void 0)}function Ya(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Si(){return!0}function jn(){return!1}function Be(t){function n(a,l,c,h,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Si:jn,this.isPropagationStopped=jn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),n}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=Be(Ai),Ji=w({},Ai,{view:0,detail:0}),Xs=Be(Ji),$i,Or,li,Mr=w({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?($i=t.screenX-li.screenX,Or=t.screenY-li.screenY):Or=$i=0,li=t),$i)},movementY:function(t){return"movementY"in t?t.movementY:Or}}),Zs=Be(Mr),Ka=w({},Mr,{dataTransfer:0}),Ro=Be(Ka),Co=w({},Ji,{relatedTarget:0}),Xa=Be(Co),Js=w({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),wo=Be(Js),zr=w({},Ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Do=Be(zr),Vo=w({},Ai,{data:0}),oi=Be(Vo),xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},No={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=No[t])?!!n[t]:!1}function Wi(){return Oo}var Je=w({},Ji,{key:function(t){if(t.key){var n=xo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ya(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Io[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wi,charCode:function(t){return t.type==="keypress"?Ya(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ya(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mo=Be(Je),zo=w({},Mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bi=Be(zo),u=w({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wi}),m=Be(u),p=w({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(p),U=w({},Mr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=Be(U),Z=w({},Ai,{newState:0,oldState:0}),vt=Be(Z),he=[9,13,27,32],Pt=Sn&&"CompositionEvent"in window,ie=null;Sn&&"documentMode"in document&&(ie=document.documentMode);var An=Sn&&"TextEvent"in window&&!ie,ui=Sn&&(!Pt||ie&&8<ie&&11>=ie),Pn=" ",qn=!1;function Za(t,n){switch(t){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lr=!1;function C0(t,n){switch(t){case"compositionend":return Ur(n);case"keypress":return n.which!==32?null:(qn=!0,Pn);case"textInput":return t=n.data,t===Pn&&qn?null:t;default:return null}}function w0(t,n){if(Lr)return t==="compositionend"||!Pt&&Za(t,n)?(t=Ks(),Qa=Ys=ri=null,Lr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ui&&n.locale!=="ko"?null:n.data;default:return null}}var D0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $d(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!D0[t.type]:n==="textarea"}function Wd(t,n,a,l){Xi?ai?ai.push(l):ai=[l]:Xi=l,n=bu(n,"onChange"),0<n.length&&(a=new si("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var $s=null,Ws=null;function V0(t){zp(t,0)}function Uo(t){var n=un(t);if(ka(n))return t}function tm(t,n){if(t==="change")return n}var em=!1;if(Sn){var Oc;if(Sn){var Mc="oninput"in document;if(!Mc){var nm=document.createElement("div");nm.setAttribute("oninput","return;"),Mc=typeof nm.oninput=="function"}Oc=Mc}else Oc=!1;em=Oc&&(!document.documentMode||9<document.documentMode)}function im(){$s&&($s.detachEvent("onpropertychange",am),Ws=$s=null)}function am(t){if(t.propertyName==="value"&&Uo(Ws)){var n=[];Wd(n,Ws,t,Tn(t)),Zi(V0,n)}}function x0(t,n,a){t==="focusin"?(im(),$s=n,Ws=a,$s.attachEvent("onpropertychange",am)):t==="focusout"&&im()}function I0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uo(Ws)}function N0(t,n){if(t==="click")return Uo(n)}function O0(t,n){if(t==="input"||t==="change")return Uo(n)}function M0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:M0;function tl(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ge.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function rm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sm(t,n){var a=rm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=rm(a)}}function lm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?lm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function om(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ii(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ii(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var z0=Sn&&"documentMode"in document&&11>=document.documentMode,Br=null,Uc=null,el=null,Lc=!1;function um(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lc||Br==null||Br!==ii(l)||(l=Br,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&tl(el,l)||(el=l,l=bu(Uc,"onSelect"),0<l.length&&(n=new si("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Br)))}function Ja(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var jr={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},Bc={},cm={};Sn&&(cm=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function $a(t){if(Bc[t])return Bc[t];if(!jr[t])return t;var n=jr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in cm)return Bc[t]=n[a];return t}var hm=$a("animationend"),fm=$a("animationiteration"),dm=$a("animationstart"),U0=$a("transitionrun"),L0=$a("transitionstart"),B0=$a("transitioncancel"),mm=$a("transitionend"),gm=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function kn(t,n){gm.set(t,n),ei(n,[t])}var Lo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bn=[],Pr=0,Pc=0;function Bo(){for(var t=Pr,n=Pc=Pr=0;n<t;){var a=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var h=bn[n];if(bn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&pm(a,c,h)}}function jo(t,n,a,l){bn[Pr++]=t,bn[Pr++]=n,bn[Pr++]=a,bn[Pr++]=l,Pc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qc(t,n,a,l){return jo(t,n,a,l),Po(t)}function Wa(t,n){return jo(t,null,null,n),Po(t)}function pm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-ce(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function Po(t){if(50<Al)throw Al=0,Zh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qr={};function j0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new j0(t,n,a,l)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ri(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ym(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qo(t,n,a,l,c,h){var g=0;if(l=t,typeof t=="function")kc(t)&&(g=1);else if(typeof t=="string")g=GE(t,a,it.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=fn(31,a,n,c),t.elementType=C,t.lanes=h,t;case et:return tr(a.children,c,h,n);case tt:g=8,c|=24;break;case dt:return t=fn(12,a,n,c|2),t.elementType=dt,t.lanes=h,t;case $t:return t=fn(13,a,n,c),t.elementType=$t,t.lanes=h,t;case It:return t=fn(19,a,n,c),t.elementType=It,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mt:g=10;break t;case Tt:g=9;break t;case xt:g=11;break t;case D:g=14;break t;case b:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function tr(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function Hc(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function _m(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function Gc(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var vm=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var a=vm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ns(n)},vm.set(t,n),n)}return{value:t,source:n,stack:Ns(n)}}var kr=[],Hr=0,ko=null,nl=0,Cn=[],wn=0,ta=null,ci=1,hi="";function Ci(t,n){kr[Hr++]=nl,kr[Hr++]=ko,ko=t,nl=n}function Em(t,n,a){Cn[wn++]=ci,Cn[wn++]=hi,Cn[wn++]=ta,ta=t;var l=ci;t=hi;var c=32-ce(l)-1;l&=~(1<<c),a+=1;var h=32-ce(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,ci=1<<32-ce(n)+c|a<<c|l,hi=h+t}else ci=1<<h|a<<c|l,hi=t}function Fc(t){t.return!==null&&(Ci(t,1),Em(t,1,0))}function Qc(t){for(;t===ko;)ko=kr[--Hr],kr[Hr]=null,nl=kr[--Hr],kr[Hr]=null;for(;t===ta;)ta=Cn[--wn],Cn[wn]=null,hi=Cn[--wn],Cn[wn]=null,ci=Cn[--wn],Cn[wn]=null}function Tm(t,n){Cn[wn++]=ci,Cn[wn++]=hi,Cn[wn++]=ta,ci=n.id,hi=n.overflow,ta=t}var je=null,Wt=null,Nt=!1,ea=null,Dn=!1,Yc=Error(r(519));function na(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Rn(n,t)),Yc}function Sm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ye]=t,n[Oe]=l,a){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Rt(Rl[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),To(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),Yi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||jp(n.textContent,a)?(l.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),l.onScroll!=null&&Rt("scroll",n),l.onScrollEnd!=null&&Rt("scrollend",n),l.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||na(t,!0)}function Am(t){for(je=t.return;je;)switch(je.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:je=je.return}}function Gr(t){if(t!==je)return!1;if(!Nt)return Am(t),Nt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ff(t.type,t.memoizedProps)),a=!a),a&&Wt&&na(t),Am(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Wt=Kp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Wt=Kp(t)}else n===27?(n=Wt,pa(t.type)?(t=yf,yf=null,Wt=t):Wt=n):Wt=je?xn(t.stateNode.nextSibling):null;return!0}function er(){Wt=je=null,Nt=!1}function Kc(){var t=ea;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),ea=null),t}function il(t){ea===null?ea=[t]:ea.push(t)}var Xc=I(null),nr=null,wi=null;function ia(t,n,a){W(Xc,n._currentValue),n._currentValue=a}function Di(t){t._currentValue=Xc.current,Y(Xc)}function Zc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Jc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),Zc(h.return,a,t),l||(g=null);break t}h=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),Zc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Fr(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ot.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}c=c.return}t!==null&&Jc(n,t,a,l),n.flags|=262144}function Ho(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ir(t){nr=t,wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pe(t){return bm(nr,t)}function Go(t,n){return nr===null&&ir(t),bm(t,n)}function bm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},wi===null){if(t===null)throw Error(r(308));wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wi=wi.next=n;return a}var P0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},q0=s.unstable_scheduleCallback,k0=s.unstable_NormalPriority,Ee={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $c(){return{controller:new P0,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&q0(k0,function(){t.controller.abort()})}var rl=null,Wc=0,Qr=0,Yr=null;function H0(t,n){if(rl===null){var a=rl=[];Wc=0,Qr=nf(),Yr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wc++,n.then(Rm,Rm),n}function Rm(){if(--Wc===0&&rl!==null){Yr!==null&&(Yr.status="fulfilled");var t=rl;rl=null,Qr=0,Yr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function G0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Cm=H.S;H.S=function(t,n){up=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&H0(t,n),Cm!==null&&Cm(t,n)};var ar=I(null);function th(){var t=ar.current;return t!==null?t:Jt.pooledCache}function Fo(t,n){n===null?W(ar,ar.current):W(ar,n.pool)}function wm(){var t=th();return t===null?null:{parent:Ee._currentValue,pool:t}}var Kr=Error(r(460)),eh=Error(r(474)),Qo=Error(r(542)),Yo={then:function(){}};function Dm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ln,Ln),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Im(t),t;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Im(t),t}throw sr=n,Kr}}function rr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(sr=a,Kr):a}}var sr=null;function xm(){if(sr===null)throw Error(r(459));var t=sr;return sr=null,t}function Im(t){if(t===Kr||t===Qo)throw Error(r(483))}var Xr=null,sl=0;function Ko(t){var n=sl;return sl+=1,Xr===null&&(Xr=[]),Vm(Xr,t,n)}function ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Xo(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Nm(t){function n(M,V){if(t){var L=M.deletions;L===null?(M.deletions=[V],M.flags|=16):L.push(V)}}function a(M,V){if(!t)return null;for(;V!==null;)n(M,V),V=V.sibling;return null}function l(M){for(var V=new Map;M!==null;)M.key!==null?V.set(M.key,M):V.set(M.index,M),M=M.sibling;return V}function c(M,V){return M=Ri(M,V),M.index=0,M.sibling=null,M}function h(M,V,L){return M.index=L,t?(L=M.alternate,L!==null?(L=L.index,L<V?(M.flags|=67108866,V):L):(M.flags|=67108866,V)):(M.flags|=1048576,V)}function g(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,V,L,G){return V===null||V.tag!==6?(V=Hc(L,M.mode,G),V.return=M,V):(V=c(V,L),V.return=M,V)}function R(M,V,L,G){var lt=L.type;return lt===et?k(M,V,L.props.children,G,L.key):V!==null&&(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&rr(lt)===V.type)?(V=c(V,L.props),ll(V,L),V.return=M,V):(V=qo(L.type,L.key,L.props,null,M.mode,G),ll(V,L),V.return=M,V)}function B(M,V,L,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=Gc(L,M.mode,G),V.return=M,V):(V=c(V,L.children||[]),V.return=M,V)}function k(M,V,L,G,lt){return V===null||V.tag!==7?(V=tr(L,M.mode,G,lt),V.return=M,V):(V=c(V,L),V.return=M,V)}function Q(M,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Hc(""+V,M.mode,L),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case F:return L=qo(V.type,V.key,V.props,null,M.mode,L),ll(L,V),L.return=M,L;case J:return V=Gc(V,M.mode,L),V.return=M,V;case b:return V=rr(V),Q(M,V,L)}if(ue(V)||z(V))return V=tr(V,M.mode,L,null),V.return=M,V;if(typeof V.then=="function")return Q(M,Ko(V),L);if(V.$$typeof===mt)return Q(M,Go(M,V),L);Xo(M,V)}return null}function j(M,V,L,G){var lt=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(M,V,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===lt?R(M,V,L,G):null;case J:return L.key===lt?B(M,V,L,G):null;case b:return L=rr(L),j(M,V,L,G)}if(ue(L)||z(L))return lt!==null?null:k(M,V,L,G,null);if(typeof L.then=="function")return j(M,V,Ko(L),G);if(L.$$typeof===mt)return j(M,V,Go(M,L),G);Xo(M,L)}return null}function q(M,V,L,G,lt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(L)||null,E(V,M,""+G,lt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case F:return M=M.get(G.key===null?L:G.key)||null,R(V,M,G,lt);case J:return M=M.get(G.key===null?L:G.key)||null,B(V,M,G,lt);case b:return G=rr(G),q(M,V,L,G,lt)}if(ue(G)||z(G))return M=M.get(L)||null,k(V,M,G,lt,null);if(typeof G.then=="function")return q(M,V,L,Ko(G),lt);if(G.$$typeof===mt)return q(M,V,L,Go(V,G),lt);Xo(V,G)}return null}function at(M,V,L,G){for(var lt=null,Bt=null,rt=V,At=V=0,wt=null;rt!==null&&At<L.length;At++){rt.index>At?(wt=rt,rt=null):wt=rt.sibling;var jt=j(M,rt,L[At],G);if(jt===null){rt===null&&(rt=wt);break}t&&rt&&jt.alternate===null&&n(M,rt),V=h(jt,V,At),Bt===null?lt=jt:Bt.sibling=jt,Bt=jt,rt=wt}if(At===L.length)return a(M,rt),Nt&&Ci(M,At),lt;if(rt===null){for(;At<L.length;At++)rt=Q(M,L[At],G),rt!==null&&(V=h(rt,V,At),Bt===null?lt=rt:Bt.sibling=rt,Bt=rt);return Nt&&Ci(M,At),lt}for(rt=l(rt);At<L.length;At++)wt=q(rt,M,At,L[At],G),wt!==null&&(t&&wt.alternate!==null&&rt.delete(wt.key===null?At:wt.key),V=h(wt,V,At),Bt===null?lt=wt:Bt.sibling=wt,Bt=wt);return t&&rt.forEach(function(Ta){return n(M,Ta)}),Nt&&Ci(M,At),lt}function ht(M,V,L,G){if(L==null)throw Error(r(151));for(var lt=null,Bt=null,rt=V,At=V=0,wt=null,jt=L.next();rt!==null&&!jt.done;At++,jt=L.next()){rt.index>At?(wt=rt,rt=null):wt=rt.sibling;var Ta=j(M,rt,jt.value,G);if(Ta===null){rt===null&&(rt=wt);break}t&&rt&&Ta.alternate===null&&n(M,rt),V=h(Ta,V,At),Bt===null?lt=Ta:Bt.sibling=Ta,Bt=Ta,rt=wt}if(jt.done)return a(M,rt),Nt&&Ci(M,At),lt;if(rt===null){for(;!jt.done;At++,jt=L.next())jt=Q(M,jt.value,G),jt!==null&&(V=h(jt,V,At),Bt===null?lt=jt:Bt.sibling=jt,Bt=jt);return Nt&&Ci(M,At),lt}for(rt=l(rt);!jt.done;At++,jt=L.next())jt=q(rt,M,At,jt.value,G),jt!==null&&(t&&jt.alternate!==null&&rt.delete(jt.key===null?At:jt.key),V=h(jt,V,At),Bt===null?lt=jt:Bt.sibling=jt,Bt=jt);return t&&rt.forEach(function(e1){return n(M,e1)}),Nt&&Ci(M,At),lt}function Zt(M,V,L,G){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:t:{for(var lt=L.key;V!==null;){if(V.key===lt){if(lt=L.type,lt===et){if(V.tag===7){a(M,V.sibling),G=c(V,L.props.children),G.return=M,M=G;break t}}else if(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&rr(lt)===V.type){a(M,V.sibling),G=c(V,L.props),ll(G,L),G.return=M,M=G;break t}a(M,V);break}else n(M,V);V=V.sibling}L.type===et?(G=tr(L.props.children,M.mode,G,L.key),G.return=M,M=G):(G=qo(L.type,L.key,L.props,null,M.mode,G),ll(G,L),G.return=M,M=G)}return g(M);case J:t:{for(lt=L.key;V!==null;){if(V.key===lt)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){a(M,V.sibling),G=c(V,L.children||[]),G.return=M,M=G;break t}else{a(M,V);break}else n(M,V);V=V.sibling}G=Gc(L,M.mode,G),G.return=M,M=G}return g(M);case b:return L=rr(L),Zt(M,V,L,G)}if(ue(L))return at(M,V,L,G);if(z(L)){if(lt=z(L),typeof lt!="function")throw Error(r(150));return L=lt.call(L),ht(M,V,L,G)}if(typeof L.then=="function")return Zt(M,V,Ko(L),G);if(L.$$typeof===mt)return Zt(M,V,Go(M,L),G);Xo(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(a(M,V.sibling),G=c(V,L),G.return=M,M=G):(a(M,V),G=Hc(L,M.mode,G),G.return=M,M=G),g(M)):a(M,V)}return function(M,V,L,G){try{sl=0;var lt=Zt(M,V,L,G);return Xr=null,lt}catch(rt){if(rt===Kr||rt===Qo)throw rt;var Bt=fn(29,rt,null,M.mode);return Bt.lanes=G,Bt.return=M,Bt}}}var lr=Nm(!0),Om=Nm(!1),aa=!1;function nh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ih(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ra(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Po(t),pm(t,null,a),n}return jo(t,l,n,a),Po(t)}function ol(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,zs(t,a)}}function ah(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var rh=!1;function ul(){if(rh){var t=Yr;if(t!==null)throw t}}function cl(t,n,a,l){rh=!1;var c=t.updateQueue;aa=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,B=R.next;R.next=null,g===null?h=B:g.next=B,g=R;var k=t.alternate;k!==null&&(k=k.updateQueue,E=k.lastBaseUpdate,E!==g&&(E===null?k.firstBaseUpdate=B:E.next=B,k.lastBaseUpdate=R))}if(h!==null){var Q=c.baseState;g=0,k=B=R=null,E=h;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ct&j)===j:(l&j)===j){j!==0&&j===Qr&&(rh=!0),k!==null&&(k=k.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=t,ht=E;j=n;var Zt=a;switch(ht.tag){case 1:if(at=ht.payload,typeof at=="function"){Q=at.call(Zt,Q,j);break t}Q=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ht.payload,j=typeof at=="function"?at.call(Zt,Q,j):at,j==null)break t;Q=w({},Q,j);break t;case 2:aa=!0}}j=E.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},k===null?(B=k=q,R=Q):k=k.next=q,g|=j;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);k===null&&(R=Q),c.baseState=R,c.firstBaseUpdate=B,c.lastBaseUpdate=k,h===null&&(c.shared.lanes=0),ha|=g,t.lanes=g,t.memoizedState=Q}}function Mm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function zm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Mm(a[t],n)}var Zr=I(null),Zo=I(0);function Um(t,n){t=Li,W(Zo,t),W(Zr,n),Li=t|n.baseLanes}function sh(){W(Zo,Li),W(Zr,Zr.current)}function lh(){Li=Zo.current,Y(Zr),Y(Zo)}var dn=I(null),Vn=null;function la(t){var n=t.alternate;W(fe,fe.current&1),W(dn,t),Vn===null&&(n===null||Zr.current!==null||n.memoizedState!==null)&&(Vn=t)}function oh(t){W(fe,fe.current),W(dn,t),Vn===null&&(Vn=t)}function Lm(t){t.tag===22?(W(fe,fe.current),W(dn,t),Vn===null&&(Vn=t)):oa()}function oa(){W(fe,fe.current),W(dn,dn.current)}function mn(t){Y(dn),Vn===t&&(Vn=null),Y(fe)}var fe=I(0);function Jo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||gf(a)||pf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vi=0,Et=null,Kt=null,Te=null,$o=!1,Jr=!1,or=!1,Wo=0,hl=0,$r=null,F0=0;function le(){throw Error(r(321))}function uh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function ch(t,n,a,l,c,h){return Vi=h,Et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Eg:Rh,or=!1,h=a(l,c),or=!1,Jr&&(h=jm(n,a,l,c)),Bm(t),h}function Bm(t){H.H=ml;var n=Kt!==null&&Kt.next!==null;if(Vi=0,Te=Kt=Et=null,$o=!1,hl=0,$r=null,n)throw Error(r(300));t===null||Se||(t=t.dependencies,t!==null&&Ho(t)&&(Se=!0))}function jm(t,n,a,l){Et=t;var c=0;do{if(Jr&&($r=null),hl=0,Jr=!1,25<=c)throw Error(r(301));if(c+=1,Te=Kt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=Tg,h=n(a,l)}while(Jr);return h}function Q0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(Et.flags|=1024),n}function hh(){var t=Wo!==0;return Wo=0,t}function fh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function dh(t){if($o){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$o=!1}Vi=0,Te=Kt=Et=null,Jr=!1,hl=Wo=0,$r=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Et.memoizedState=Te=t:Te=Te.next=t,Te}function de(){if(Kt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=Te===null?Et.memoizedState:Te.next;if(n!==null)Te=n,Kt=t;else{if(t===null)throw Et.alternate===null?Error(r(467)):Error(r(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Te===null?Et.memoizedState=Te=t:Te=Te.next=t}return Te}function tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,$r===null&&($r=[]),t=Vm($r,t,n),n=Et,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Eg:Rh),t}function eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===mt)return Pe(t)}throw Error(r(438,String(t)))}function mh(t){var n=null,a=Et.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Et.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=tu(),Et.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=N;return n.index++,a}function xi(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=de();return gh(n,Kt,t)}function gh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=g=null,R=null,B=n,k=!1;do{var Q=B.lane&-536870913;if(Q!==B.lane?(Ct&Q)===Q:(Vi&Q)===Q){var j=B.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Q===Qr&&(k=!0);else if((Vi&j)===j){B=B.next,j===Qr&&(k=!0);continue}else Q={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(E=R=Q,g=h):R=R.next=Q,Et.lanes|=j,ha|=j;Q=B.action,or&&a(h,Q),h=B.hasEagerState?B.eagerState:a(h,Q)}else j={lane:Q,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(E=R=j,g=h):R=R.next=j,Et.lanes|=Q,ha|=Q;B=B.next}while(B!==null&&B!==n);if(R===null?g=h:R.next=E,!hn(h,t.memoizedState)&&(Se=!0,k&&(a=Yr,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=R,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ph(t){var n=de(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);hn(h,n.memoizedState)||(Se=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function Pm(t,n,a){var l=Et,c=de(),h=Nt;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!hn((Kt||c).memoizedState,a);if(g&&(c.memoizedState=a,Se=!0),c=c.queue,vh(Hm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,Wr(9,{destroy:void 0},km.bind(null,l,c,a,n),null),Jt===null)throw Error(r(349));h||(Vi&127)!==0||qm(l,n,a)}return a}function qm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Et.updateQueue,n===null?(n=tu(),Et.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function km(t,n,a,l){n.value=a,n.getSnapshot=l,Gm(n)&&Fm(t)}function Hm(t,n,a){return a(function(){Gm(n)&&Fm(t)})}function Gm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function Fm(t){var n=Wa(t,2);n!==null&&sn(n,t,2)}function yh(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),or){vn(!0);try{a()}finally{vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},n}function Qm(t,n,a,l){return t.baseState=a,gh(t,Kt,typeof l=="function"?l:xi)}function Y0(t,n,a,l,c){if(ru(t))throw Error(r(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};H.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,Ym(n,h)):(h.next=a.next,n.pending=a.next=h)}}function Ym(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=H.T,g={};H.T=g;try{var E=a(c,l),R=H.S;R!==null&&R(g,E),Km(t,n,E)}catch(B){_h(t,n,B)}finally{h!==null&&g.types!==null&&(h.types=g.types),H.T=h}}else try{h=a(c,l),Km(t,n,h)}catch(B){_h(t,n,B)}}function Km(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Xm(t,n,l)},function(l){return _h(t,n,l)}):Xm(t,n,a)}function Xm(t,n,a){n.status="fulfilled",n.value=a,Zm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ym(t,a)))}function _h(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Zm(n),n=n.next;while(n!==l)}t.action=null}function Zm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Jm(t,n){return n}function $m(t,n){if(Nt){var a=Jt.formState;if(a!==null){t:{var l=Et;if(Nt){if(Wt){e:{for(var c=Wt,h=Dn;c.nodeType!==8;){if(!h){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Wt=xn(c.nextSibling),l=c.data==="F!";break t}}na(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jm,lastRenderedState:n},a.queue=l,a=yg.bind(null,Et,l),l.dispatch=a,l=yh(!1),h=bh.bind(null,Et,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=Y0.bind(null,Et,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Wm(t){var n=de();return tg(n,Kt,t)}function tg(t,n,a){if(n=gh(t,n,Jm)[0],t=nu(xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fl(n)}catch(g){throw g===Kr?Qo:g}else l=n;n=de();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(Et.flags|=2048,Wr(9,{destroy:void 0},K0.bind(null,c,a),null)),[l,h,t]}function K0(t,n){t.action=n}function eg(t){var n=de(),a=Kt;if(a!==null)return tg(n,a,t);de(),n=n.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Wr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Et.updateQueue,n===null&&(n=tu(),Et.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function ng(){return de().memoizedState}function iu(t,n,a,l){var c=$e();Et.flags|=t,c.memoizedState=Wr(1|n,{destroy:void 0},a,l===void 0?null:l)}function au(t,n,a,l){var c=de();l=l===void 0?null:l;var h=c.memoizedState.inst;Kt!==null&&l!==null&&uh(l,Kt.memoizedState.deps)?c.memoizedState=Wr(n,h,a,l):(Et.flags|=t,c.memoizedState=Wr(1|n,h,a,l))}function ig(t,n){iu(8390656,8,t,n)}function vh(t,n){au(2048,8,t,n)}function X0(t){Et.flags|=4;var n=Et.updateQueue;if(n===null)n=tu(),Et.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function ag(t){var n=de().memoizedState;return X0({ref:n,nextImpl:t}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function rg(t,n){return au(4,2,t,n)}function sg(t,n){return au(4,4,t,n)}function lg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function og(t,n,a){a=a!=null?a.concat([t]):null,au(4,4,lg.bind(null,n,t),a)}function Eh(){}function ug(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&uh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function cg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&uh(n,l[1]))return l[0];if(l=t(),or){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l}function Th(t,n,a){return a===void 0||(Vi&1073741824)!==0&&(Ct&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=hp(),Et.lanes|=t,ha|=t,a)}function hg(t,n,a,l){return hn(a,n)?a:Zr.current!==null?(t=Th(t,a,l),hn(t,n)||(Se=!0),t):(Vi&42)===0||(Vi&1073741824)!==0&&(Ct&261930)===0?(Se=!0,t.memoizedState=a):(t=hp(),Et.lanes|=t,ha|=t,n)}function fg(t,n,a,l,c){var h=$.p;$.p=h!==0&&8>h?h:8;var g=H.T,E={};H.T=E,bh(t,!1,n,a);try{var R=c(),B=H.S;if(B!==null&&B(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var k=G0(R,l);dl(t,n,k,yn(t))}else dl(t,n,l,yn(t))}catch(Q){dl(t,n,{then:function(){},status:"rejected",reason:Q},yn())}finally{$.p=h,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function Z0(){}function Sh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=dg(t).queue;fg(t,c,n,ut,a===null?Z0:function(){return mg(t),a(l)})}function dg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function mg(t){var n=dg(t);n.next===null&&(n=t.alternate.memoizedState),dl(t,n.next.queue,{},yn())}function Ah(){return Pe(xl)}function gg(){return de().memoizedState}function pg(){return de().memoizedState}function J0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=ra(a);var l=sa(n,t,a);l!==null&&(sn(l,n,a),ol(l,n,a)),n={cache:$c()},t.payload=n;return}n=n.return}}function $0(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ru(t)?_g(n,a):(a=qc(t,n,a,l),a!==null&&(sn(a,t,l),vg(a,n,l)))}function yg(t,n,a){var l=yn();dl(t,n,a,l)}function dl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ru(t))_g(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,E=h(g,a);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return jo(t,n,c,0),Jt===null&&Bo(),!1}catch{}if(a=qc(t,n,c,l),a!==null)return sn(a,t,l),vg(a,n,l),!0}return!1}function bh(t,n,a,l){if(l={lane:2,revertLane:nf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ru(t)){if(n)throw Error(r(479))}else n=qc(t,a,l,2),n!==null&&sn(n,t,2)}function ru(t){var n=t.alternate;return t===Et||n!==null&&n===Et}function _g(t,n){Jr=$o=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function vg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,zs(t,a)}}var ml={readContext:Pe,use:eu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};ml.useEffectEvent=le;var Eg={readContext:Pe,use:eu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:Pe,useEffect:ig,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,iu(4194308,4,lg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return iu(4194308,4,t,n)},useInsertionEffect:function(t,n){iu(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(or){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(or){vn(!0);try{a(n)}finally{vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=$0.bind(null,Et,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=yh(t);var n=t.queue,a=yg.bind(null,Et,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Eh,useDeferredValue:function(t,n){var a=$e();return Th(a,t,n)},useTransition:function(){var t=yh(!1);return t=fg.bind(null,Et,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Et,c=$e();if(Nt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Jt===null)throw Error(r(349));(Ct&127)!==0||qm(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,ig(Hm.bind(null,l,h,t),[t]),l.flags|=2048,Wr(9,{destroy:void 0},km.bind(null,l,h,a,n),null),a},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(Nt){var a=hi,l=ci;a=(l&~(1<<32-ce(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Wo++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=F0++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ah,useFormState:$m,useActionState:$m,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=bh.bind(null,Et,!0,a),a.dispatch=n,[t,n]},useMemoCache:mh,useCacheRefresh:function(){return $e().memoizedState=J0.bind(null,Et)},useEffectEvent:function(t){var n=$e(),a={impl:t};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Rh={readContext:Pe,use:eu,useCallback:ug,useContext:Pe,useEffect:vh,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:sg,useMemo:cg,useReducer:nu,useRef:ng,useState:function(){return nu(xi)},useDebugValue:Eh,useDeferredValue:function(t,n){var a=de();return hg(a,Kt.memoizedState,t,n)},useTransition:function(){var t=nu(xi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Pm,useId:gg,useHostTransitionStatus:Ah,useFormState:Wm,useActionState:Wm,useOptimistic:function(t,n){var a=de();return Qm(a,Kt,t,n)},useMemoCache:mh,useCacheRefresh:pg};Rh.useEffectEvent=ag;var Tg={readContext:Pe,use:eu,useCallback:ug,useContext:Pe,useEffect:vh,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:sg,useMemo:cg,useReducer:ph,useRef:ng,useState:function(){return ph(xi)},useDebugValue:Eh,useDeferredValue:function(t,n){var a=de();return Kt===null?Th(a,t,n):hg(a,Kt.memoizedState,t,n)},useTransition:function(){var t=ph(xi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Pm,useId:gg,useHostTransitionStatus:Ah,useFormState:eg,useActionState:eg,useOptimistic:function(t,n){var a=de();return Kt!==null?Qm(a,Kt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:mh,useCacheRefresh:pg};Tg.useEffectEvent=ag;function Ch(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var wh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),c=ra(l);c.payload=n,a!=null&&(c.callback=a),n=sa(t,c,l),n!==null&&(sn(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),c=ra(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=sa(t,c,l),n!==null&&(sn(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=ra(a);l.tag=2,n!=null&&(l.callback=n),n=sa(t,l,a),n!==null&&(sn(n,t,a),ol(n,t,a))}};function Sg(t,n,a,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!tl(a,l)||!tl(c,h):!0}function Ag(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&wh.enqueueReplaceState(n,n.state,null)}function ur(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function bg(t){Lo(t)}function Rg(t){console.error(t)}function Cg(t){Lo(t)}function su(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function wg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Dh(t,n,a){return a=ra(a),a.tag=3,a.payload={element:null},a.callback=function(){su(t,n)},a}function Dg(t){return t=ra(t),t.tag=3,t}function Vg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){wg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){wg(n,a,l),typeof c!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function W0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Fr(n,a,c,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?_u():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Yo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Wh(t,l,c)),!1;case 22:return a.flags|=65536,l===Yo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Wh(t,l,c)),!1}throw Error(r(435,a.tag))}return Wh(t,l,c),_u(),!1}if(Nt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Yc&&(t=Error(r(422),{cause:l}),il(Rn(t,a)))):(l!==Yc&&(n=Error(r(423),{cause:l}),il(Rn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Rn(l,a),c=Dh(t.stateNode,l,c),ah(t,c),oe!==4&&(oe=2)),!1;var h=Error(r(520),{cause:l});if(h=Rn(h,a),Sl===null?Sl=[h]:Sl.push(h),oe!==4&&(oe=2),n===null)return!0;l=Rn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Dh(a.stateNode,l,t),ah(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(fa===null||!fa.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Dg(c),Vg(c,t,a,l),ah(a,c),!1}a=a.return}while(a!==null);return!1}var Vh=Error(r(461)),Se=!1;function qe(t,n,a,l){n.child=t===null?Om(n,null,a,l):lr(n,t.child,a,l)}function xg(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return ir(n),l=ch(t,n,a,g,h,c),E=hh(),t!==null&&!Se?(fh(t,n,c),Ii(t,n,c)):(Nt&&E&&Fc(n),n.flags|=1,qe(t,n,l,c),n.child)}function Ig(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!kc(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Ng(t,n,h,l,c)):(t=qo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Lh(t,c)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(g,l)&&t.ref===n.ref)return Ii(t,n,c)}return n.flags|=1,t=Ri(h,l),t.ref=n.ref,t.return=n,n.child=t}function Ng(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(tl(h,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=h,Lh(t,c))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,Ii(t,n,c)}return xh(t,n,a,l,c)}function Og(t,n,a,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return Mg(t,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fo(n,h!==null?h.cachePool:null),h!==null?Um(n,h):sh(),Lm(n);else return l=n.lanes=536870912,Mg(t,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(Fo(n,h.cachePool),Um(n,h),oa(),n.memoizedState=null):(t!==null&&Fo(n,null),sh(),oa());return qe(t,n,c,a),n.child}function gl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Mg(t,n,a,l,c){var h=th();return h=h===null?null:{parent:Ee._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&Fo(n,null),sh(),Lm(n),t!==null&&Fr(t,n,l,!0),n.childLanes=c,null}function lu(t,n){return n=uu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function zg(t,n,a){return lr(n,t.child,null,a),t=lu(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function tE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Nt){if(l.mode==="hidden")return t=lu(n,l),n.lanes=536870912,gl(null,t);if(oh(n),(t=Wt)?(t=Yp(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ta!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},a=_m(t),a.return=n,n.child=a,je=n,Wt=null)):t=null,t===null)throw na(n);return n.lanes=536870912,null}return lu(n,l)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(oh(n),c)if(n.flags&256)n.flags&=-257,n=zg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Se||Fr(t,n,a,!1),c=(a&t.childLanes)!==0,Se||c){if(l=Jt,l!==null&&(g=Us(l,a),g!==0&&g!==h.retryLane))throw h.retryLane=g,Wa(t,g),sn(l,t,g),Vh;_u(),n=zg(t,n,a)}else t=h.treeContext,Wt=xn(g.nextSibling),je=n,Nt=!0,ea=null,Dn=!1,t!==null&&Tm(n,t),n=lu(n,l),n.flags|=4096;return n}return t=Ri(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ou(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function xh(t,n,a,l,c){return ir(n),a=ch(t,n,a,l,void 0,c),l=hh(),t!==null&&!Se?(fh(t,n,c),Ii(t,n,c)):(Nt&&l&&Fc(n),n.flags|=1,qe(t,n,a,c),n.child)}function Ug(t,n,a,l,c,h){return ir(n),n.updateQueue=null,a=jm(n,l,a,c),Bm(t),l=hh(),t!==null&&!Se?(fh(t,n,h),Ii(t,n,h)):(Nt&&l&&Fc(n),n.flags|=1,qe(t,n,a,h),n.child)}function Lg(t,n,a,l,c){if(ir(n),n.stateNode===null){var h=qr,g=a.contextType;typeof g=="object"&&g!==null&&(h=Pe(g)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=wh,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},nh(n),g=a.contextType,h.context=typeof g=="object"&&g!==null?Pe(g):qr,h.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Ch(n,a,g,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&wh.enqueueReplaceState(h,h.state,null),cl(n,l,h,c),ul(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,R=ur(a,E);h.props=R;var B=h.context,k=a.contextType;g=qr,typeof k=="object"&&k!==null&&(g=Pe(k));var Q=a.getDerivedStateFromProps;k=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,k||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||B!==g)&&Ag(n,h,l,g),aa=!1;var j=n.memoizedState;h.state=j,cl(n,l,h,c),ul(),B=n.memoizedState,E||j!==B||aa?(typeof Q=="function"&&(Ch(n,a,Q,l),B=n.memoizedState),(R=aa||Sg(n,a,R,l,j,B,g))?(k||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=g,l=R):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,ih(t,n),g=n.memoizedProps,k=ur(a,g),h.props=k,Q=n.pendingProps,j=h.context,B=a.contextType,R=qr,typeof B=="object"&&B!==null&&(R=Pe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==Q||j!==R)&&Ag(n,h,l,R),aa=!1,j=n.memoizedState,h.state=j,cl(n,l,h,c),ul();var q=n.memoizedState;g!==Q||j!==q||aa||t!==null&&t.dependencies!==null&&Ho(t.dependencies)?(typeof E=="function"&&(Ch(n,a,E,l),q=n.memoizedState),(k=aa||Sg(n,a,k,l,j,q,R)||t!==null&&t.dependencies!==null&&Ho(t.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,q,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,q,R)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),h.props=l,h.state=q,h.context=R,l=k):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,ou(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=lr(n,t.child,null,c),n.child=lr(n,null,a,c)):qe(t,n,a,c),n.memoizedState=h.state,t=n.child):t=Ii(t,n,c),t}function Bg(t,n,a,l){return er(),n.flags|=256,qe(t,n,a,l),n.child}var Ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nh(t){return{baseLanes:t,cachePool:wm()}}function Oh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function jg(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(fe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Nt){if(c?la(n):oa(),(t=Wt)?(t=Yp(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ta!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},a=_m(t),a.return=n,n.child=a,je=n,Wt=null)):t=null,t===null)throw na(n);return pf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(oa(),c=n.mode,E=uu({mode:"hidden",children:E},c),l=tr(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Nh(a),l.childLanes=Oh(t,g,a),n.memoizedState=Ih,gl(null,l)):(la(n),Mh(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(h)n.flags&256?(la(n),n.flags&=-257,n=zh(t,n,a)):n.memoizedState!==null?(oa(),n.child=t.child,n.flags|=128,n=null):(oa(),E=l.fallback,c=n.mode,l=uu({mode:"visible",children:l.children},c),E=tr(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,lr(n,t.child,null,a),l=n.child,l.memoizedState=Nh(a),l.childLanes=Oh(t,g,a),n.memoizedState=Ih,n=gl(null,l));else if(la(n),pf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(r(419)),l.stack="",l.digest=g,il({value:l,source:null,stack:null}),n=zh(t,n,a)}else if(Se||Fr(t,n,a,!1),g=(a&t.childLanes)!==0,Se||g){if(g=Jt,g!==null&&(l=Us(g,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,Wa(t,l),sn(g,t,l),Vh;gf(E)||_u(),n=zh(t,n,a)}else gf(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,Wt=xn(E.nextSibling),je=n,Nt=!0,ea=null,Dn=!1,t!==null&&Tm(n,t),n=Mh(n,l.children),n.flags|=4096);return n}return c?(oa(),E=l.fallback,c=n.mode,R=t.child,B=R.sibling,l=Ri(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,B!==null?E=Ri(B,E):(E=tr(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,gl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Nh(a):(c=E.cachePool,c!==null?(R=Ee._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=wm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Oh(t,g,a),n.memoizedState=Ih,gl(t.child,l)):(la(n),a=t.child,t=a.sibling,a=Ri(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Mh(t,n){return n=uu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function uu(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function zh(t,n,a){return lr(n,t.child,null,a),t=Mh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Pg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Zc(t.return,n,a)}function Uh(t,n,a,l,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=h)}function qg(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,W(fe,g),qe(t,n,l,a),l=Nt?nl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pg(t,a,n);else if(t.tag===19)Pg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Jo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Uh(n,!1,c,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Jo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Uh(n,!0,a,null,h,l);break;case"together":Uh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ii(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ha|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Fr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ri(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ri(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Lh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ho(t)))}function eE(t,n,a){switch(n.tag){case 3:we(n,n.stateNode.containerInfo),ia(n,Ee,t.memoizedState.cache),er();break;case 27:case 5:za(n);break;case 4:we(n,n.stateNode.containerInfo);break;case 10:ia(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,oh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(la(n),n.flags|=128,null):(a&n.child.childLanes)!==0?jg(t,n,a):(la(n),t=Ii(t,n,a),t!==null?t.sibling:null);la(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Fr(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return qg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(fe,fe.current),l)break;return null;case 22:return n.lanes=0,Og(t,n,a,n.pendingProps);case 24:ia(n,Ee,t.memoizedState.cache)}return Ii(t,n,a)}function kg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!Lh(t,a)&&(n.flags&128)===0)return Se=!1,eE(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,Nt&&(n.flags&1048576)!==0&&Em(n,nl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=rr(n.elementType),n.type=t,typeof t=="function")kc(t)?(l=ur(t,l),n.tag=1,n=Lg(null,n,t,l,a)):(n.tag=0,n=xh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===xt){n.tag=11,n=xg(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=Ig(null,n,t,l,a);break t}}throw n=Ut(t)||t,Error(r(306,n,""))}}return n;case 0:return xh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ur(l,n.pendingProps),Lg(t,n,l,c,a);case 3:t:{if(we(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,ih(t,n),cl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ia(n,Ee,l),l!==h.cache&&Jc(n,[Ee],a,!0),ul(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Bg(t,n,l,a);break t}else if(l!==c){c=Rn(Error(r(424)),n),il(c),n=Bg(t,n,l,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Wt=xn(t.firstChild),je=n,Nt=!0,ea=null,Dn=!0,a=Om(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(er(),l===c){n=Ii(t,n,a);break t}qe(t,n,l,a)}n=n.child}return n;case 26:return ou(t,n),t===null?(a=Wp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Nt||(a=n.type,t=n.pendingProps,l=Ru(St.current).createElement(a),l[ye]=n,l[Oe]=t,ke(l,a,t),_e(l),n.stateNode=l):n.memoizedState=Wp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return za(n),t===null&&Nt&&(l=n.stateNode=Zp(n.type,n.pendingProps,St.current),je=n,Dn=!0,c=Wt,pa(n.type)?(yf=c,Wt=xn(l.firstChild)):Wt=c),qe(t,n,n.pendingProps.children,a),ou(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Nt&&((c=l=Wt)&&(l=IE(l,n.type,n.pendingProps,Dn),l!==null?(n.stateNode=l,je=n,Wt=xn(l.firstChild),Dn=!1,c=!0):c=!1),c||na(n)),za(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,ff(c,h)?l=null:g!==null&&ff(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=ch(t,n,Q0,null,null,a),xl._currentValue=c),ou(t,n),qe(t,n,l,a),n.child;case 6:return t===null&&Nt&&((t=a=Wt)&&(a=NE(a,n.pendingProps,Dn),a!==null?(n.stateNode=a,je=n,Wt=null,t=!0):t=!1),t||na(n)),null;case 13:return jg(t,n,a);case 4:return we(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=lr(n,null,l,a):qe(t,n,l,a),n.child;case 11:return xg(t,n,n.type,n.pendingProps,a);case 7:return qe(t,n,n.pendingProps,a),n.child;case 8:return qe(t,n,n.pendingProps.children,a),n.child;case 12:return qe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ia(n,n.type,l.value),qe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ir(n),c=Pe(c),l=l(c),n.flags|=1,qe(t,n,l,a),n.child;case 14:return Ig(t,n,n.type,n.pendingProps,a);case 15:return Ng(t,n,n.type,n.pendingProps,a);case 19:return qg(t,n,a);case 31:return tE(t,n,a);case 22:return Og(t,n,a,n.pendingProps);case 24:return ir(n),l=Pe(Ee),t===null?(c=th(),c===null&&(c=Jt,h=$c(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},nh(n),ia(n,Ee,c)):((t.lanes&a)!==0&&(ih(t,n),cl(n,null,null,a),ul()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ia(n,Ee,l)):(l=h.cache,ia(n,Ee,l),l!==c.cache&&Jc(n,[Ee],a,!0))),qe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ni(t){t.flags|=4}function Bh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(gp())t.flags|=8192;else throw sr=Yo,eh}else t.flags&=-16777217}function Hg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ay(n))if(gp())t.flags|=8192;else throw sr=Yo,eh}function cu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?po():536870912,t.lanes|=n,is|=n)}function pl(t,n){if(!Nt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function nE(t,n,a){var l=n.pendingProps;switch(Qc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(Ee),ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Gr(n)?Ni(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kc())),te(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(Ni(n),h!==null?(te(n),Hg(n,h)):(te(n),Bh(n,c,null,l,a))):h?h!==t.memoizedState?(Ni(n),te(n),Hg(n,h)):(te(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ni(n),te(n),Bh(n,c,t,l,a)),null;case 27:if(Sr(n),a=St.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return te(n),null}t=it.current,Gr(n)?Sm(n):(t=Zp(c,l,a),n.stateNode=t,Ni(n))}return te(n),null;case 5:if(Sr(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return te(n),null}if(h=it.current,Gr(n))Sm(n);else{var g=Ru(St.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[ye]=n,h[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;t:switch(ke(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ni(n)}}return te(n),Bh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=St.current,Gr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||jp(t.nodeValue,a)),t||na(n,!0)}else t=Ru(t).createTextNode(l),t[ye]=n,n.stateNode=t}return te(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Gr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ye]=n}else er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),t=!1}else a=Kc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Gr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ye]=n}else er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=Kc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),cu(n,n.updateQueue),te(n),null);case 4:return ne(),t===null&&lf(n.stateNode.containerInfo),te(n),null;case 10:return Di(n.type),te(n),null;case 19:if(Y(fe),l=n.memoizedState,l===null)return te(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)pl(l,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=Jo(t),h!==null){for(n.flags|=128,pl(l,!1),t=h.updateQueue,n.updateQueue=t,cu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)ym(a,t),a=a.sibling;return W(fe,fe.current&1|2),Nt&&Ci(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>gu&&(n.flags|=128,c=!0,pl(l,!1),n.lanes=4194304)}else{if(!c)if(t=Jo(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,cu(n,t),pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Nt)return te(n),null}else 2*Ze()-l.renderingStartTime>gu&&a!==536870912&&(n.flags|=128,c=!0,pl(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=fe.current,W(fe,c?a&1|2:a&1),Nt&&Ci(n,l.treeForkCount),t):(te(n),null);case 22:case 23:return mn(n),lh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&cu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Y(ar),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(Ee),te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function iE(t,n){switch(Qc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(Ee),ne(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Sr(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(r(340));er()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));er()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(fe),null;case 4:return ne(),null;case 10:return Di(n.type),null;case 22:case 23:return mn(n),lh(),t!==null&&Y(ar),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(Ee),null;case 25:return null;default:return null}}function Gg(t,n){switch(Qc(n),n.tag){case 3:Di(Ee),ne();break;case 26:case 27:case 5:Sr(n);break;case 4:ne();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:Y(fe);break;case 10:Di(n.type);break;case 22:case 23:mn(n),lh(),t!==null&&Y(ar);break;case 24:Di(Ee)}}function yl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,g=a.inst;l=h(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Qt(n,n.return,E)}}function ua(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var R=a,B=E;try{B()}catch(k){Qt(c,R,k)}}}l=l.next}while(l!==h)}}catch(k){Qt(n,n.return,k)}}function Fg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{zm(n,a)}catch(l){Qt(t,t.return,l)}}}function Qg(t,n,a){a.props=ur(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qt(t,n,l)}}function _l(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Qt(t,n,c)}}function fi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Qt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Qt(t,n,c)}else a.current=null}function Yg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Qt(t,t.return,c)}}function jh(t,n,a){try{var l=t.stateNode;RE(l,t.type,a,n),l[Oe]=n}catch(c){Qt(t,t.return,c)}}function Kg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&pa(t.type)||t.tag===4}function Ph(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Kg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&pa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ln));else if(l!==4&&(l===27&&pa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(qh(t,n,a),t=t.sibling;t!==null;)qh(t,n,a),t=t.sibling}function hu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&pa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(hu(t,n,a),t=t.sibling;t!==null;)hu(t,n,a),t=t.sibling}function Xg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ke(n,l,a),n[ye]=t,n[Oe]=a}catch(h){Qt(t,t.return,h)}}var Oi=!1,Ae=!1,kh=!1,Zg=typeof WeakSet=="function"?WeakSet:Set,ze=null;function aE(t,n){if(t=t.containerInfo,cf=Nu,t=om(t),zc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,B=0,k=0,Q=t,j=null;e:for(;;){for(var q;Q!==a||c!==0&&Q.nodeType!==3||(E=g+c),Q!==h||l!==0&&Q.nodeType!==3||(R=g+l),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)j=Q,Q=q;for(;;){if(Q===t)break e;if(j===a&&++B===c&&(E=g),j===h&&++k===l&&(R=g),(q=Q.nextSibling)!==null)break;Q=j,j=Q.parentNode}Q=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(hf={focusedElem:t,selectionRange:a},Nu=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var at=ur(a.type,c);t=l.getSnapshotBeforeUpdate(at,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Qt(a,a.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)mf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":mf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function Jg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zi(t,a),l&4&&yl(5,a);break;case 1:if(zi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Qt(a,a.return,g)}else{var c=ur(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(a,a.return,g)}}l&64&&Fg(a),l&512&&_l(a,a.return);break;case 3:if(zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{zm(t,n)}catch(g){Qt(a,a.return,g)}}break;case 27:n===null&&l&4&&Xg(a);case 26:case 5:zi(t,a),n===null&&l&4&&Yg(a),l&512&&_l(a,a.return);break;case 12:zi(t,a);break;case 31:zi(t,a),l&4&&tp(t,a);break;case 13:zi(t,a),l&4&&ep(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=dE.bind(null,a),OE(t,a))));break;case 22:if(l=a.memoizedState!==null||Oi,!l){n=n!==null&&n.memoizedState!==null||Ae,c=Oi;var h=Ae;Oi=l,(Ae=n)&&!h?Ui(t,a,(a.subtreeFlags&8772)!==0):zi(t,a),Oi=c,Ae=h}break;case 30:break;default:zi(t,a)}}function $g(t){var n=t.alternate;n!==null&&(t.alternate=null,$g(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&wr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,en=!1;function Mi(t,n,a){for(a=a.child;a!==null;)Wg(t,n,a),a=a.sibling}function Wg(t,n,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(On,a)}catch{}switch(a.tag){case 26:Ae||fi(a,n),Mi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||fi(a,n);var l=ae,c=en;pa(a.type)&&(ae=a.stateNode,en=!1),Mi(t,n,a),wl(a.stateNode),ae=l,en=c;break;case 5:Ae||fi(a,n);case 6:if(l=ae,c=en,ae=null,Mi(t,n,a),ae=l,en=c,ae!==null)if(en)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(h){Qt(a,n,h)}else try{ae.removeChild(a.stateNode)}catch(h){Qt(a,n,h)}break;case 18:ae!==null&&(en?(t=ae,Fp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),hs(t)):Fp(ae,a.stateNode));break;case 4:l=ae,c=en,ae=a.stateNode.containerInfo,en=!0,Mi(t,n,a),ae=l,en=c;break;case 0:case 11:case 14:case 15:ua(2,a,n),Ae||ua(4,a,n),Mi(t,n,a);break;case 1:Ae||(fi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Qg(a,n,l)),Mi(t,n,a);break;case 21:Mi(t,n,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,Mi(t,n,a),Ae=l;break;default:Mi(t,n,a)}}function tp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{hs(t)}catch(a){Qt(n,n.return,a)}}}function ep(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hs(t)}catch(a){Qt(n,n.return,a)}}function rE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Zg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Zg),n;default:throw Error(r(435,t.tag))}}function fu(t,n){var a=rE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=mE.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(pa(E.type)){ae=E.stateNode,en=!1;break t}break;case 5:ae=E.stateNode,en=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ae===null)throw Error(r(160));Wg(h,g,c),ae=null,en=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)np(n,t),n=n.sibling}var Hn=null;function np(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),an(t),l&4&&(ua(3,t,t.return),yl(3,t),ua(5,t,t.return));break;case 1:nn(n,t),an(t),l&512&&(Ae||a===null||fi(a,a.return)),l&64&&Oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Hn;if(nn(n,t),an(t),l&512&&(Ae||a===null||fi(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[$n]||h[ye]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),ke(h,l,a),h[ye]=t,_e(h),l=h;break t;case"link":var g=ny("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(h=g[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}h=c.createElement(l),ke(h,l,a),c.head.appendChild(h);break;case"meta":if(g=ny("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(h=g[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}h=c.createElement(l),ke(h,l,a),c.head.appendChild(h);break;default:throw Error(r(468,l))}h[ye]=t,_e(h),l=h}t.stateNode=l}else iy(c,t.type,t.stateNode);else t.stateNode=ey(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?iy(c,t.type,t.stateNode):ey(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&jh(t,t.memoizedProps,a.memoizedProps)}break;case 27:nn(n,t),an(t),l&512&&(Ae||a===null||fi(a,a.return)),a!==null&&l&4&&jh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(nn(n,t),an(t),l&512&&(Ae||a===null||fi(a,a.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(at){Qt(t,t.return,at)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,jh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(kh=!0);break;case 6:if(nn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(at){Qt(t,t.return,at)}}break;case 3:if(Du=null,c=Hn,Hn=Cu(n.containerInfo),nn(n,t),Hn=c,an(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{hs(n.containerInfo)}catch(at){Qt(t,t.return,at)}kh&&(kh=!1,ip(t));break;case 4:l=Hn,Hn=Cu(t.stateNode.containerInfo),nn(n,t),an(t),Hn=l;break;case 12:nn(n,t),an(t);break;case 31:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fu(t,l)));break;case 13:nn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fu(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,B=Oi,k=Ae;if(Oi=B||c,Ae=k||R,nn(n,t),Ae=k,Oi=B,an(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||Oi||Ae||cr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(h=R.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,j=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Qt(R,R.return,at)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(at){Qt(R,R.return,at)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;c?Qp(q,!0):Qp(R.stateNode,!1)}catch(at){Qt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fu(t,a))));break;case 19:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fu(t,l)));break;case 30:break;case 21:break;default:nn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Kg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,h=Ph(t);hu(t,h,c);break;case 5:var g=a.stateNode;a.flags&32&&(tn(g,""),a.flags&=-33);var E=Ph(t);hu(t,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,B=Ph(t);qh(t,B,R);break;default:throw Error(r(161))}}catch(k){Qt(t,t.return,k)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ip(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ip(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Jg(t,n.alternate,n),n=n.sibling}function cr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ua(4,n,n.return),cr(n);break;case 1:fi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Qg(n,n.return,a),cr(n);break;case 27:wl(n.stateNode);case 26:case 5:fi(n,n.return),cr(n);break;case 22:n.memoizedState===null&&cr(n);break;case 30:cr(n);break;default:cr(n)}t=t.sibling}}function Ui(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:Ui(c,h,a),yl(4,h);break;case 1:if(Ui(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Qt(l,l.return,B)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Mm(R[c],E)}catch(B){Qt(l,l.return,B)}}a&&g&64&&Fg(h),_l(h,h.return);break;case 27:Xg(h);case 26:case 5:Ui(c,h,a),a&&l===null&&g&4&&Yg(h),_l(h,h.return);break;case 12:Ui(c,h,a);break;case 31:Ui(c,h,a),a&&g&4&&tp(c,h);break;case 13:Ui(c,h,a),a&&g&4&&ep(c,h);break;case 22:h.memoizedState===null&&Ui(c,h,a),_l(h,h.return);break;case 30:break;default:Ui(c,h,a)}n=n.sibling}}function Hh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function Gh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function Gn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ap(t,n,a,l),n=n.sibling}function ap(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(t,n,a,l),c&2048&&yl(9,n);break;case 1:Gn(t,n,a,l);break;case 3:Gn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){Gn(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,E=h.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Qt(n,n.return,R)}}else Gn(t,n,a,l);break;case 31:Gn(t,n,a,l);break;case 13:Gn(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?Gn(t,n,a,l):vl(t,n):h._visibility&2?Gn(t,n,a,l):(h._visibility|=2,ts(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Hh(g,n);break;case 24:Gn(t,n,a,l),c&2048&&Gh(n.alternate,n);break;default:Gn(t,n,a,l)}}function ts(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,g=n,E=a,R=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:ts(h,g,E,R,c),yl(8,g);break;case 23:break;case 22:var k=g.stateNode;g.memoizedState!==null?k._visibility&2?ts(h,g,E,R,c):vl(h,g):(k._visibility|=2,ts(h,g,E,R,c)),c&&B&2048&&Hh(g.alternate,g);break;case 24:ts(h,g,E,R,c),c&&B&2048&&Gh(g.alternate,g);break;default:ts(h,g,E,R,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:vl(a,l),c&2048&&Hh(l.alternate,l);break;case 24:vl(a,l),c&2048&&Gh(l.alternate,l);break;default:vl(a,l)}n=n.sibling}}var El=8192;function es(t,n,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)rp(t,n,a),t=t.sibling}function rp(t,n,a){switch(t.tag){case 26:es(t,n,a),t.flags&El&&t.memoizedState!==null&&FE(a,Hn,t.memoizedState,t.memoizedProps);break;case 5:es(t,n,a);break;case 3:case 4:var l=Hn;Hn=Cu(t.stateNode.containerInfo),es(t,n,a),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,es(t,n,a),El=l):es(t,n,a));break;default:es(t,n,a)}}function sp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,op(l,t)}sp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lp(t),t=t.sibling}function lp(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&ua(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,du(t)):Tl(t);break;default:Tl(t)}}function du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,op(l,t)}sp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ua(8,n,n.return),du(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,du(n));break;default:du(n)}t=t.sibling}}function op(t,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:ua(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=t;ze!==null;){l=ze;var c=l.sibling,h=l.return;if($g(l),l===a){ze=null;break t}if(c!==null){c.return=h,ze=c;break t}ze=h}}}var sE={getCacheForType:function(t){var n=Pe(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Pe(Ee).controller.signal}},lE=typeof WeakMap=="function"?WeakMap:Map,qt=0,Jt=null,bt=null,Ct=0,Ft=0,gn=null,ca=!1,ns=!1,Fh=!1,Li=0,oe=0,ha=0,hr=0,Qh=0,pn=0,is=0,Sl=null,rn=null,Yh=!1,mu=0,up=0,gu=1/0,pu=null,fa=null,Ve=0,da=null,as=null,Bi=0,Kh=0,Xh=null,cp=null,Al=0,Zh=null;function yn(){return(qt&2)!==0&&Ct!==0?Ct&-Ct:H.T!==null?nf():yo()}function hp(){if(pn===0)if((Ct&536870912)===0||Nt){var t=Ba;Ba<<=1,(Ba&3932160)===0&&(Ba=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function sn(t,n,a){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(rs(t,0),ma(t,Ct,pn,!1)),ja(t,a),((qt&2)===0||t!==Jt)&&(t===Jt&&((qt&2)===0&&(hr|=a),oe===4&&ma(t,Ct,pn,!1)),di(t))}function fp(t,n,a){if((qt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Mn(t,n),c=l?cE(t,n):$h(t,n,!0),h=l;do{if(c===0){ns&&!l&&ma(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!oE(a)){c=$h(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Sl;var R=E.current.memoizedState.isDehydrated;if(R&&(rs(E,g).flags|=256),g=$h(E,g,!1),g!==2){if(Fh&&!R){E.errorRecoveryDisabledLanes|=h,hr|=h,c=4;break t}h=rn,rn=c,h!==null&&(rn===null?rn=h:rn.push.apply(rn,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){rs(t,0),ma(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ma(l,n,pn,!ca);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=mu+300-Ze(),10<c)){if(ma(l,n,pn,!ca),Xn(l,0,!0)!==0)break t;Bi=n,l.timeoutHandle=Hp(dp.bind(null,l,a,rn,pu,Yh,n,pn,hr,is,ca,h,"Throttled",-0,0),c);break t}dp(l,a,rn,pu,Yh,n,pn,hr,is,ca,h,null,-0,0)}}break}while(!0);di(t)}function dp(t,n,a,l,c,h,g,E,R,B,k,Q,j,q){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},rp(n,h,Q);var at=(h&62914560)===h?mu-Ze():(h&4194048)===h?up-Ze():0;if(at=QE(Q,at),at!==null){Bi=h,t.cancelPendingCommit=at(Tp.bind(null,t,n,h,a,l,c,g,E,R,k,Q,null,j,q)),ma(t,h,g,!B);return}}Tp(t,n,h,a,l,c,g,E,R)}function oE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!hn(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ma(t,n,a,l){n&=~Qh,n&=~hr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-ce(c),g=1<<h;l[h]=-1,c&=~g}a!==0&&Pa(t,a,n)}function yu(){return(qt&6)===0?(bl(0),!1):!0}function Jh(){if(bt!==null){if(Ft===0)var t=bt.return;else t=bt,wi=nr=null,dh(t),Xr=null,sl=0,t=bt;for(;t!==null;)Gg(t.alternate,t),t=t.return;bt=null}}function rs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,DE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Bi=0,Jh(),Jt=t,bt=a=Ri(t.current,null),Ct=n,Ft=0,gn=null,ca=!1,ns=Mn(t,n),Fh=!1,is=pn=Qh=hr=ha=oe=0,rn=Sl=null,Yh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ce(l),h=1<<c;n|=t[c],l&=~h}return Li=n,Bo(),a}function mp(t,n){Et=null,H.H=ml,n===Kr||n===Qo?(n=xm(),Ft=3):n===eh?(n=xm(),Ft=4):Ft=n===Vh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,bt===null&&(oe=1,su(t,Rn(n,t.current)))}function gp(){var t=dn.current;return t===null?!0:(Ct&4194048)===Ct?Vn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?t===Vn:!1}function pp(){var t=H.H;return H.H=ml,t===null?ml:t}function yp(){var t=H.A;return H.A=sE,t}function _u(){oe=4,ca||(Ct&4194048)!==Ct&&dn.current!==null||(ns=!0),(ha&134217727)===0&&(hr&134217727)===0||Jt===null||ma(Jt,Ct,pn,!1)}function $h(t,n,a){var l=qt;qt|=2;var c=pp(),h=yp();(Jt!==t||Ct!==n)&&(pu=null,rs(t,n)),n=!1;var g=oe;t:do try{if(Ft!==0&&bt!==null){var E=bt,R=gn;switch(Ft){case 8:Jh(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var B=Ft;if(Ft=0,gn=null,ss(t,E,R,B),a&&ns){g=0;break t}break;default:B=Ft,Ft=0,gn=null,ss(t,E,R,B)}}uE(),g=oe;break}catch(k){mp(t,k)}while(!0);return n&&t.shellSuspendCounter++,wi=nr=null,qt=l,H.H=c,H.A=h,bt===null&&(Jt=null,Ct=0,Bo()),g}function uE(){for(;bt!==null;)_p(bt)}function cE(t,n){var a=qt;qt|=2;var l=pp(),c=yp();Jt!==t||Ct!==n?(pu=null,gu=Ze()+500,rs(t,n)):ns=Mn(t,n);t:do try{if(Ft!==0&&bt!==null){n=bt;var h=gn;e:switch(Ft){case 1:Ft=0,gn=null,ss(t,n,h,1);break;case 2:case 9:if(Dm(h)){Ft=0,gn=null,vp(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),di(t)},h.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Dm(h)?(Ft=0,gn=null,vp(n)):(Ft=0,gn=null,ss(t,n,h,7));break;case 5:var g=null;switch(bt.tag){case 26:g=bt.memoizedState;case 5:case 27:var E=bt;if(g?ay(g):E.stateNode.complete){Ft=0,gn=null;var R=E.sibling;if(R!==null)bt=R;else{var B=E.return;B!==null?(bt=B,vu(B)):bt=null}break e}}Ft=0,gn=null,ss(t,n,h,5);break;case 6:Ft=0,gn=null,ss(t,n,h,6);break;case 8:Jh(),oe=6;break t;default:throw Error(r(462))}}hE();break}catch(k){mp(t,k)}while(!0);return wi=nr=null,H.H=l,H.A=c,qt=a,bt!==null?0:(Jt=null,Ct=0,Bo(),oe)}function hE(){for(;bt!==null&&!Dc();)_p(bt)}function _p(t){var n=kg(t.alternate,t,Li);t.memoizedProps=t.pendingProps,n===null?vu(t):bt=n}function vp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ug(a,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=Ug(a,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:dh(n);default:Gg(a,n),n=bt=ym(n,Li),n=kg(a,n,Li)}t.memoizedProps=t.pendingProps,n===null?vu(t):bt=n}function ss(t,n,a,l){wi=nr=null,dh(n),Xr=null,sl=0;var c=n.return;try{if(W0(t,c,n,a,Ct)){oe=1,su(t,Rn(a,t.current)),bt=null;return}}catch(h){if(c!==null)throw bt=c,h;oe=1,su(t,Rn(a,t.current)),bt=null;return}n.flags&32768?(Nt||l===1?t=!0:ns||(Ct&536870912)!==0?t=!1:(ca=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ep(n,t)):vu(n)}function vu(t){var n=t;do{if((n.flags&32768)!==0){Ep(n,ca);return}t=n.return;var a=nE(n.alternate,n,Li);if(a!==null){bt=a;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=t}while(n!==null);oe===0&&(oe=5)}function Ep(t,n){do{var a=iE(t.alternate,t);if(a!==null){a.flags&=32767,bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){bt=t;return}bt=t=a}while(t!==null);oe=6,bt=null}function Tp(t,n,a,l,c,h,g,E,R){t.cancelPendingCommit=null;do Eu();while(Ve!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(h=n.lanes|n.childLanes,h|=Pc,Ic(t,a,h,g,E,R),t===Jt&&(bt=Jt=null,Ct=0),as=n,da=t,Bi=a,Kh=h,Xh=c,cp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gE(Gi,function(){return Cp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=$.p,$.p=2,g=qt,qt|=4;try{aE(t,n,a)}finally{qt=g,$.p=c,H.T=l}}Ve=1,Sp(),Ap(),bp()}}function Sp(){if(Ve===1){Ve=0;var t=da,n=as,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=$.p;$.p=2;var c=qt;qt|=4;try{np(n,t);var h=hf,g=om(t.containerInfo),E=h.focusedElem,R=h.selectionRange;if(g!==E&&E&&E.ownerDocument&&lm(E.ownerDocument.documentElement,E)){if(R!==null&&zc(E)){var B=R.start,k=R.end;if(k===void 0&&(k=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(k,E.value.length);else{var Q=E.ownerDocument||document,j=Q&&Q.defaultView||window;if(j.getSelection){var q=j.getSelection(),at=E.textContent.length,ht=Math.min(R.start,at),Zt=R.end===void 0?ht:Math.min(R.end,at);!q.extend&&ht>Zt&&(g=Zt,Zt=ht,ht=g);var M=sm(E,ht),V=sm(E,Zt);if(M&&V&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var L=Q.createRange();L.setStart(M.node,M.offset),q.removeAllRanges(),ht>Zt?(q.addRange(L),q.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),q.addRange(L))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Nu=!!cf,hf=cf=null}finally{qt=c,$.p=l,H.T=a}}t.current=n,Ve=2}}function Ap(){if(Ve===2){Ve=0;var t=da,n=as,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=$.p;$.p=2;var c=qt;qt|=4;try{Jg(t,n.alternate,n)}finally{qt=c,$.p=l,H.T=a}}Ve=3}}function bp(){if(Ve===4||Ve===3){Ve=0,uo();var t=da,n=as,a=Bi,l=cp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,as=da=null,Rp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(fa=null),Ti(a),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=$.p,$.p=2,H.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];h(E.value,{componentStack:E.stack})}}finally{H.T=n,$.p=c}}(Bi&3)!==0&&Eu(),di(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Zh?Al++:(Al=0,Zh=t):Al=0,bl(0)}}function Rp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function Eu(){return Sp(),Ap(),bp(),Cp()}function Cp(){if(Ve!==5)return!1;var t=da,n=Kh;Kh=0;var a=Ti(Bi),l=H.T,c=$.p;try{$.p=32>a?32:a,H.T=null,a=Xh,Xh=null;var h=da,g=Bi;if(Ve=0,as=da=null,Bi=0,(qt&6)!==0)throw Error(r(331));var E=qt;if(qt|=4,lp(h.current),ap(h,h.current,g,a),qt=E,bl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(On,h)}catch{}return!0}finally{$.p=c,H.T=l,Rp(t,n)}}function wp(t,n,a){n=Rn(a,n),n=Dh(t.stateNode,n,2),t=sa(t,n,2),t!==null&&(ja(t,2),di(t))}function Qt(t,n,a){if(t.tag===3)wp(t,t,a);else for(;n!==null;){if(n.tag===3){wp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fa===null||!fa.has(l))){t=Rn(a,t),a=Dg(2),l=sa(n,a,2),l!==null&&(Vg(a,l,n,t),ja(l,2),di(l));break}}n=n.return}}function Wh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new lE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Fh=!0,c.add(a),t=fE.bind(null,t,n,a),n.then(t,t))}function fE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Ct&a)===a&&(oe===4||oe===3&&(Ct&62914560)===Ct&&300>Ze()-mu?(qt&2)===0&&rs(t,0):Qh|=a,is===Ct&&(is=0)),di(t)}function Dp(t,n){n===0&&(n=po()),t=Wa(t,n),t!==null&&(ja(t,n),di(t))}function dE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Dp(t,a)}function mE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Dp(t,a)}function gE(t,n){return De(t,n)}var Tu=null,ls=null,tf=!1,Su=!1,ef=!1,ga=0;function di(t){t!==ls&&t.next===null&&(ls===null?Tu=ls=t:ls=ls.next=t),Su=!0,tf||(tf=!0,yE())}function bl(t,n){if(!ef&&Su){ef=!0;do for(var a=!1,l=Tu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-ce(42|t)+1)-1,h&=c&~(g&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Np(l,h))}else h=Ct,h=Xn(l,l===Jt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Mn(l,h)||(a=!0,Np(l,h));l=l.next}while(a);ef=!1}}function pE(){Vp()}function Vp(){Su=tf=!1;var t=0;ga!==0&&wE()&&(t=ga);for(var n=Ze(),a=null,l=Tu;l!==null;){var c=l.next,h=xp(l,n);h===0?(l.next=null,a===null?Tu=c:a.next=c,c===null&&(ls=a)):(a=l,(t!==0||(h&3)!==0)&&(Su=!0)),l=c}Ve!==0&&Ve!==5||bl(t),ga!==0&&(ga=0)}function xp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-ce(h),E=1<<g,R=c[g];R===-1?((E&a)===0||(E&l)!==0)&&(c[g]=xc(E,n)):R<=n&&(t.expiredLanes|=E),h&=~E}if(n=Jt,a=Ct,a=Xn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Hi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Mn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Hi(l),Ti(a)){case 2:case 8:a=Ms;break;case 32:a=Gi;break;case 268435456:a=co;break;default:a=Gi}return l=Ip.bind(null,t),a=De(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Hi(l),t.callbackPriority=2,t.callbackNode=null,2}function Ip(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Eu()&&t.callbackNode!==a)return null;var l=Ct;return l=Xn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(fp(t,l,n),xp(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?Ip.bind(null,t):null)}function Np(t,n){if(Eu())return null;fp(t,n,!0)}function yE(){VE(function(){(qt&6)!==0?De(Os,pE):Vp()})}function nf(){if(ga===0){var t=Qr;t===0&&(t=Yn,Yn<<=1,(Yn&261888)===0&&(Yn=256)),ga=t}return ga}function Op(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ir(""+t)}function Mp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function _E(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=Op((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?Op(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var E=new si("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ga!==0){var R=g?Mp(c,g):new FormData(c);Sh(a,{pending:!0,data:R,method:c.method,action:h},null,R)}}else typeof h=="function"&&(E.preventDefault(),R=g?Mp(c,g):new FormData(c),Sh(a,{pending:!0,data:R,method:c.method,action:h},h,R))},currentTarget:c}]})}}for(var af=0;af<jc.length;af++){var rf=jc[af],vE=rf.toLowerCase(),EE=rf[0].toUpperCase()+rf.slice(1);kn(vE,"on"+EE)}kn(hm,"onAnimationEnd"),kn(fm,"onAnimationIteration"),kn(dm,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(U0,"onTransitionRun"),kn(L0,"onTransitionStart"),kn(B0,"onTransitionCancel"),kn(mm,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function zp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,B=E.currentTarget;if(E=E.listener,R!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(k){Lo(k)}c.currentTarget=null,h=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,B=E.currentTarget,E=E.listener,R!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(k){Lo(k)}c.currentTarget=null,h=R}}}}function Rt(t,n){var a=n[Cr];a===void 0&&(a=n[Cr]=new Set);var l=t+"__bubble";a.has(l)||(Up(n,t,2,!1),a.add(l))}function sf(t,n,a){var l=0;n&&(l|=4),Up(a,t,l,n)}var Au="_reactListening"+Math.random().toString(36).slice(2);function lf(t){if(!t[Au]){t[Au]=!0,Ls.forEach(function(a){a!=="selectionchange"&&(TE.has(a)||sf(a,!1,t),sf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Au]||(n[Au]=!0,sf("selectionchange",!1,n))}}function Up(t,n,a,l){switch(hy(n)){case 2:var c=XE;break;case 8:c=ZE;break;default:c=Sf}a=c.bind(null,n,a,t),c=void 0,!Fa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function of(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=Wn(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=h=g;continue t}E=E.parentNode}}l=l.return}Zi(function(){var B=h,k=Tn(a),Q=[];t:{var j=gm.get(t);if(j!==void 0){var q=si,at=t;switch(t){case"keypress":if(Ya(a)===0)break t;case"keydown":case"keyup":q=Mo;break;case"focusin":at="focus",q=Xa;break;case"focusout":at="blur",q=Xa;break;case"beforeblur":case"afterblur":q=Xa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ro;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case hm:case fm:case dm:q=wo;break;case mm:q=T;break;case"scroll":case"scrollend":q=Xs;break;case"wheel":q=P;break;case"copy":case"cut":case"paste":q=Do;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=bi;break;case"toggle":case"beforetoggle":q=vt}var ht=(n&4)!==0,Zt=!ht&&(t==="scroll"||t==="scrollend"),M=ht?j!==null?j+"Capture":null:j;ht=[];for(var V=B,L;V!==null;){var G=V;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||M===null||(G=Bn(V,M),G!=null&&ht.push(Cl(V,G,L))),Zt)break;V=V.return}0<ht.length&&(j=new q(j,at,null,a,k),Q.push({event:j,listeners:ht}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&a!==Qs&&(at=a.relatedTarget||a.fromElement)&&(Wn(at)||at[Jn]))break t;if((q||j)&&(j=k.window===k?k:(j=k.ownerDocument)?j.defaultView||j.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=B,at=at?Wn(at):null,at!==null&&(Zt=f(at),ht=at.tag,at!==Zt||ht!==5&&ht!==27&&ht!==6)&&(at=null)):(q=null,at=B),q!==at)){if(ht=Zs,G="onMouseLeave",M="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ht=bi,G="onPointerLeave",M="onPointerEnter",V="pointer"),Zt=q==null?j:un(q),L=at==null?j:un(at),j=new ht(G,V+"leave",q,a,k),j.target=Zt,j.relatedTarget=L,G=null,Wn(k)===B&&(ht=new ht(M,V+"enter",at,a,k),ht.target=L,ht.relatedTarget=Zt,G=ht),Zt=G,q&&at)e:{for(ht=SE,M=q,V=at,L=0,G=M;G;G=ht(G))L++;G=0;for(var lt=V;lt;lt=ht(lt))G++;for(;0<L-G;)M=ht(M),L--;for(;0<G-L;)V=ht(V),G--;for(;L--;){if(M===V||V!==null&&M===V.alternate){ht=M;break e}M=ht(M),V=ht(V)}ht=null}else ht=null;q!==null&&Lp(Q,j,q,ht,!1),at!==null&&Zt!==null&&Lp(Q,Zt,at,ht,!0)}}t:{if(j=B?un(B):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Bt=tm;else if($d(j))if(em)Bt=O0;else{Bt=I0;var rt=x0}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&xr(B.elementType)&&(Bt=tm):Bt=N0;if(Bt&&(Bt=Bt(t,B))){Wd(Q,Bt,a,k);break t}rt&&rt(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&Hs(j,"number",j.value)}switch(rt=B?un(B):window,t){case"focusin":($d(rt)||rt.contentEditable==="true")&&(Br=rt,Uc=B,el=null);break;case"focusout":el=Uc=Br=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,um(Q,a,k);break;case"selectionchange":if(z0)break;case"keydown":case"keyup":um(Q,a,k)}var At;if(Pt)t:{switch(t){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else Lr?Za(t,a)&&(wt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(wt="onCompositionStart");wt&&(ui&&a.locale!=="ko"&&(Lr||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Lr&&(At=Ks()):(ri=k,Ys="value"in ri?ri.value:ri.textContent,Lr=!0)),rt=bu(B,wt),0<rt.length&&(wt=new oi(wt,t,null,a,k),Q.push({event:wt,listeners:rt}),At?wt.data=At:(At=Ur(a),At!==null&&(wt.data=At)))),(At=An?C0(t,a):w0(t,a))&&(wt=bu(B,"onBeforeInput"),0<wt.length&&(rt=new oi("onBeforeInput","beforeinput",null,a,k),Q.push({event:rt,listeners:wt}),rt.data=At)),_E(Q,t,B,a,k)}zp(Q,n)})}function Cl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function bu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Bn(t,a),c!=null&&l.unshift(Cl(t,c,h)),c=Bn(t,n),c!=null&&l.push(Cl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function SE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Lp(t,n,a,l,c){for(var h=n._reactName,g=[];a!==null&&a!==l;){var E=a,R=E.alternate,B=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||B===null||(R=B,c?(B=Bn(a,h),B!=null&&g.unshift(Cl(a,B,R))):c||(B=Bn(a,h),B!=null&&g.push(Cl(a,B,R)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var AE=/\r\n?/g,bE=/\u0000|\uFFFD/g;function Bp(t){return(typeof t=="string"?t:""+t).replace(AE,`
`).replace(bE,"")}function jp(t,n){return n=Bp(n),Bp(t)===n}function Xt(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":Fs(t,l,h);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ir(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ir(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ir(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Rt("beforetoggle",t),Rt("toggle",t),Dr(t,"popover",l);break;case"xlinkActuate":ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ve(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ve(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ve(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ve(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Dr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bo.get(a)||a,Dr(t,a,l))}}function uf(t,n,a,l,c,h){switch(a){case"style":Fs(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[Oe]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Dr(t,a,l)}}}function ke(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",t),Rt("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,h,g,a,null)}}c&&Xt(t,n,"srcSet",a.srcSet,a,null),l&&Xt(t,n,"src",a.src,a,null);return;case"input":Rt("invalid",t);var E=h=g=c=null,R=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var k=a[l];if(k!=null)switch(l){case"name":c=k;break;case"type":g=k;break;case"checked":R=k;break;case"defaultChecked":B=k;break;case"value":h=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:Xt(t,n,l,k,a,null)}}To(t,h,E,R,B,g,c,!1);return;case"select":Rt("invalid",t),l=g=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(t,n,c,E,a,null)}n=h,a=g,t.multiple=!!l,n!=null?Qi(t,!!l,n,!1):a!=null&&Qi(t,!!l,a,!0);return;case"textarea":Rt("invalid",t),h=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xt(t,n,g,E,a,null)}Yi(t,l,c,h);return;case"option":for(R in a)a.hasOwnProperty(R)&&(l=a[R],l!=null)&&(R==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Xt(t,n,R,l,a,null));return;case"dialog":Rt("beforetoggle",t),Rt("toggle",t),Rt("cancel",t),Rt("close",t);break;case"iframe":case"object":Rt("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Rt(Rl[l],t);break;case"image":Rt("error",t),Rt("load",t);break;case"details":Rt("toggle",t);break;case"embed":case"source":case"link":Rt("error",t),Rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,B,l,a,null)}return;default:if(xr(n)){for(k in a)a.hasOwnProperty(k)&&(l=a[k],l!==void 0&&uf(t,n,k,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Xt(t,n,E,l,a,null))}function RE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,E=null,R=null,B=null,k=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:l.hasOwnProperty(q)||Xt(t,n,q,null,l,Q)}}for(var j in l){var q=l[j];if(Q=a[j],l.hasOwnProperty(j)&&(q!=null||Q!=null))switch(j){case"type":h=q;break;case"name":c=q;break;case"checked":B=q;break;case"defaultChecked":k=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==Q&&Xt(t,n,j,q,l,Q)}}Vr(t,g,E,R,B,k,h,c);return;case"select":q=g=E=j=null;for(h in a)if(R=a[h],a.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(h)||Xt(t,n,h,null,l,R)}for(c in l)if(h=l[c],R=a[c],l.hasOwnProperty(c)&&(h!=null||R!=null))switch(c){case"value":j=h;break;case"defaultValue":E=h;break;case"multiple":g=h;default:h!==R&&Xt(t,n,c,h,l,R)}n=E,a=g,l=q,j!=null?Qi(t,!!a,j,!1):!!l!=!!a&&(n!=null?Qi(t,!!a,n,!0):Qi(t,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(g in l)if(c=l[g],h=a[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":j=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==h&&Xt(t,n,g,c,l,h)}So(t,j,q);return;case"option":for(var at in a)j=a[at],a.hasOwnProperty(at)&&j!=null&&!l.hasOwnProperty(at)&&(at==="selected"?t.selected=!1:Xt(t,n,at,null,l,j));for(R in l)j=l[R],q=a[R],l.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?t.selected=j&&typeof j!="function"&&typeof j!="symbol":Xt(t,n,R,j,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)j=a[ht],a.hasOwnProperty(ht)&&j!=null&&!l.hasOwnProperty(ht)&&Xt(t,n,ht,null,l,j);for(B in l)if(j=l[B],q=a[B],l.hasOwnProperty(B)&&j!==q&&(j!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Xt(t,n,B,j,l,q)}return;default:if(xr(n)){for(var Zt in a)j=a[Zt],a.hasOwnProperty(Zt)&&j!==void 0&&!l.hasOwnProperty(Zt)&&uf(t,n,Zt,void 0,l,j);for(k in l)j=l[k],q=a[k],!l.hasOwnProperty(k)||j===q||j===void 0&&q===void 0||uf(t,n,k,j,l,q);return}}for(var M in a)j=a[M],a.hasOwnProperty(M)&&j!=null&&!l.hasOwnProperty(M)&&Xt(t,n,M,null,l,j);for(Q in l)j=l[Q],q=a[Q],!l.hasOwnProperty(Q)||j===q||j==null&&q==null||Xt(t,n,Q,j,l,q)}function Pp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],h=c.transferSize,g=c.initiatorType,E=c.duration;if(h&&E&&Pp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var R=a[l],B=R.startTime;if(B>E)break;var k=R.transferSize,Q=R.initiatorType;k&&Pp(Q)&&(R=R.responseEnd,g+=k*(R<E?1:(E-B)/(R-B)))}if(--l,n+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var cf=null,hf=null;function Ru(t){return t.nodeType===9?t:t.ownerDocument}function qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ff(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var df=null;function wE(){var t=window.event;return t&&t.type==="popstate"?t===df?!1:(df=t,!0):(df=null,!1)}var Hp=typeof setTimeout=="function"?setTimeout:void 0,DE=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,VE=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(t){return Gp.resolve(null).then(t).catch(xE)}:Hp;function xE(t){setTimeout(function(){throw t})}function pa(t){return t==="head"}function Fp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),hs(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wl(a);for(var h=a.firstChild;h;){var g=h.nextSibling,E=h.nodeName;h[$n]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=g}}else a==="body"&&wl(t.ownerDocument.body);a=c}while(a);hs(n)}function Qp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function mf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mf(a),wr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function IE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[$n])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function NE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=xn(t.nextSibling),t===null))return null;return t}function Yp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=xn(t.nextSibling),t===null))return null;return t}function gf(t){return t.data==="$?"||t.data==="$~"}function pf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function OE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var yf=null;function Kp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return xn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Xp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Zp(t,n,a){switch(n=Ru(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function wl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);wr(t)}var In=new Map,Jp=new Set;function Cu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ji=$.d;$.d={f:ME,r:zE,D:UE,C:LE,L:BE,m:jE,X:qE,S:PE,M:kE};function ME(){var t=ji.f(),n=yu();return t||n}function zE(t){var n=En(t);n!==null&&n.tag===5&&n.type==="form"?mg(n):ji.r(t)}var os=typeof document>"u"?null:document;function $p(t,n,a){var l=os;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Jp.has(c)||(Jp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ke(n,"link",t),_e(n),l.head.appendChild(n)))}}function UE(t){ji.D(t),$p("dns-prefetch",t,null)}function LE(t,n){ji.C(t,n),$p("preconnect",t,n)}function BE(t,n,a){ji.L(t,n,a);var l=os;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+We(a.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var h=c;switch(n){case"style":h=us(t);break;case"script":h=cs(t)}In.has(h)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),In.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Dl(h))||n==="script"&&l.querySelector(Vl(h))||(n=l.createElement("link"),ke(n,"link",t),_e(n),l.head.appendChild(n)))}}function jE(t,n){ji.m(t,n);var a=os;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=cs(t)}if(!In.has(h)&&(t=w({rel:"modulepreload",href:t},n),In.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(h)))return}l=a.createElement("link"),ke(l,"link",t),_e(l),a.head.appendChild(l)}}}function PE(t,n,a){ji.S(t,n,a);var l=os;if(l&&t){var c=ti(l).hoistableStyles,h=us(t);n=n||"default";var g=c.get(h);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Dl(h)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=In.get(h))&&_f(t,a);var R=g=l.createElement("link");_e(R),ke(R,"link",t),R._p=new Promise(function(B,k){R.onload=B,R.onerror=k}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(h,g)}}}function qE(t,n){ji.X(t,n);var a=os;if(a&&t){var l=ti(a).hoistableScripts,c=cs(t),h=l.get(c);h||(h=a.querySelector(Vl(c)),h||(t=w({src:t,async:!0},n),(n=In.get(c))&&vf(t,n),h=a.createElement("script"),_e(h),ke(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function kE(t,n){ji.M(t,n);var a=os;if(a&&t){var l=ti(a).hoistableScripts,c=cs(t),h=l.get(c);h||(h=a.querySelector(Vl(c)),h||(t=w({src:t,async:!0,type:"module"},n),(n=In.get(c))&&vf(t,n),h=a.createElement("script"),_e(h),ke(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Wp(t,n,a,l){var c=(c=St.current)?Cu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=us(a.href),a=ti(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=us(a.href);var h=ti(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(Dl(t)))&&!h._p&&(g.instance=h,g.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),h||HE(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cs(a),a=ti(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function us(t){return'href="'+We(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function ty(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function HE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),_e(n),t.head.appendChild(n))}function cs(t){return'[src="'+We(t)+'"]'}function Vl(t){return"script[async]"+t}function ey(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(a.href)+'"]');if(l)return n.instance=l,_e(l),l;var c=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_e(l),ke(l,"style",c),wu(l,a.precedence,t),n.instance=l;case"stylesheet":c=us(a.href);var h=t.querySelector(Dl(c));if(h)return n.state.loading|=4,n.instance=h,_e(h),h;l=ty(a),(c=In.get(c))&&_f(l,c),h=(t.ownerDocument||t).createElement("link"),_e(h);var g=h;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),ke(h,"link",l),n.state.loading|=4,wu(h,a.precedence,t),n.instance=h;case"script":return h=cs(a.src),(c=t.querySelector(Vl(h)))?(n.instance=c,_e(c),c):(l=a,(c=In.get(h))&&(l=w({},a),vf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),_e(c),ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wu(l,a.precedence,t));return n.instance}function wu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Du=null;function ny(t,n,a){if(Du===null){var l=new Map,c=Du=new Map;c.set(a,l)}else c=Du,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[$n]||h[ye]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(h):l.set(g,[h])}}return l}function iy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function GE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ay(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function FE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=us(l.href),h=n.querySelector(Dl(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Vu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=h,_e(h);return}h=n.ownerDocument||n,l=ty(l),(c=In.get(c))&&_f(l,c),h=h.createElement("link"),_e(h);var g=h;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),ke(h,"link",l),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Vu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ef=0;function QE(t,n){return t.stylesheets&&t.count===0&&Iu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Iu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&Ef===0&&(Ef=62500*CE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Iu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Ef?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Vu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Iu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xu=null;function Iu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xu=new Map,n.forEach(YE,t),xu=null,Vu.call(t))}function YE(t,n){if(!(n.state.loading&4)){var a=xu.get(t);if(a)var l=a.get(null);else{a=new Map,xu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=a.get(g)||l,h===l&&a.set(null,c),a.set(g,c),this.count++,l=Vu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var xl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function KE(t,n,a,l,c,h,g,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function ry(t,n,a,l,c,h,g,E,R,B,k,Q){return t=new KE(t,n,a,g,R,B,k,Q,E),n=1,h===!0&&(n|=24),h=fn(3,null,null,n),t.current=h,h.stateNode=t,n=$c(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},nh(h),t}function sy(t){return t?(t=qr,t):qr}function ly(t,n,a,l,c,h){c=sy(c),l.context===null?l.context=c:l.pendingContext=c,l=ra(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=sa(t,l,n),a!==null&&(sn(a,t,n),ol(a,t,n))}function oy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Tf(t,n){oy(t,n),(t=t.alternate)&&oy(t,n)}function uy(t){if(t.tag===13||t.tag===31){var n=Wa(t,67108864);n!==null&&sn(n,t,67108864),Tf(t,67108864)}}function cy(t){if(t.tag===13||t.tag===31){var n=yn();n=qa(n);var a=Wa(t,n);a!==null&&sn(a,t,n),Tf(t,n)}}var Nu=!0;function XE(t,n,a,l){var c=H.T;H.T=null;var h=$.p;try{$.p=2,Sf(t,n,a,l)}finally{$.p=h,H.T=c}}function ZE(t,n,a,l){var c=H.T;H.T=null;var h=$.p;try{$.p=8,Sf(t,n,a,l)}finally{$.p=h,H.T=c}}function Sf(t,n,a,l){if(Nu){var c=Af(l);if(c===null)of(t,n,l,Ou,a),fy(t,l);else if($E(c,t,n,a,l))l.stopPropagation();else if(fy(t,l),n&4&&-1<JE.indexOf(t)){for(;c!==null;){var h=En(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Kn(h.pendingLanes);if(g!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ce(g);E.entanglements[1]|=R,g&=~R}di(h),(qt&6)===0&&(gu=Ze()+500,bl(0))}}break;case 31:case 13:E=Wa(h,2),E!==null&&sn(E,h,2),yu(),Tf(h,2)}if(h=Af(l),h===null&&of(t,n,l,Ou,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else of(t,n,l,null,a)}}function Af(t){return t=Tn(t),bf(t)}var Ou=null;function bf(t){if(Ou=null,t=Wn(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ou=t,null}function hy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(La()){case Os:return 2;case Ms:return 8;case Gi:case Vc:return 32;case co:return 268435456;default:return 32}default:return 32}}var Rf=!1,ya=null,_a=null,va=null,Il=new Map,Nl=new Map,Ea=[],JE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fy(t,n){switch(t){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":Il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(n.pointerId)}}function Ol(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&uy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function $E(t,n,a,l,c){switch(n){case"focusin":return ya=Ol(ya,t,n,a,l,c),!0;case"dragenter":return _a=Ol(_a,t,n,a,l,c),!0;case"mouseover":return va=Ol(va,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return Il.set(h,Ol(Il.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Nl.set(h,Ol(Nl.get(h)||null,t,n,a,l,c)),!0}return!1}function dy(t){var n=Wn(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,zn(t.priority,function(){cy(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,zn(t.priority,function(){cy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Af(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Qs=l,a.target.dispatchEvent(l),Qs=null}else return n=En(a),n!==null&&uy(n),t.blockedOn=a,!1;n.shift()}return!0}function my(t,n,a){Mu(t)&&a.delete(n)}function WE(){Rf=!1,ya!==null&&Mu(ya)&&(ya=null),_a!==null&&Mu(_a)&&(_a=null),va!==null&&Mu(va)&&(va=null),Il.forEach(my),Nl.forEach(my)}function zu(t,n){t.blockedOn===n&&(t.blockedOn=null,Rf||(Rf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,WE)))}var Uu=null;function gy(t){Uu!==t&&(Uu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uu===t&&(Uu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(bf(l||a)===null)continue;break}var h=En(a);h!==null&&(t.splice(n,3),n-=3,Sh(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function hs(t){function n(R){return zu(R,t)}ya!==null&&zu(ya,t),_a!==null&&zu(_a,t),va!==null&&zu(va,t),Il.forEach(n),Nl.forEach(n);for(var a=0;a<Ea.length;a++){var l=Ea[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ea.length&&(a=Ea[0],a.blockedOn===null);)dy(a),a.blockedOn===null&&Ea.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],g=c[Oe]||null;if(typeof h=="function")g||gy(a);else if(g){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Oe]||null)E=g.formAction;else if(bf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),gy(a)}}}function py(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Cf(t){this._internalRoot=t}Lu.prototype.render=Cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=yn();ly(a,l,t,n,null,null)},Lu.prototype.unmount=Cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ly(t.current,2,null,t,null,null),yu(),n[Jn]=null}};function Lu(t){this._internalRoot=t}Lu.prototype.unstable_scheduleHydration=function(t){if(t){var n=yo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ea.length&&n!==0&&n<Ea[a].priority;a++);Ea.splice(a,0,t),a===0&&dy(t)}};var yy=e.version;if(yy!=="19.2.4")throw Error(r(527,yy,"19.2.4"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var t1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{On=Bu.inject(t1),Le=Bu}catch{}}return zl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=bg,h=Rg,g=Cg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ry(t,1,!1,null,null,a,l,null,c,h,g,py),t[Jn]=n.current,lf(t),new Cf(n)},zl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",h=bg,g=Rg,E=Cg,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=ry(t,1,!0,n,a??null,l,c,R,h,g,E,py),n.context=sy(null),a=n.current,l=yn(),l=qa(l),c=ra(l),c.callback=null,sa(a,c,l),a=l,n.current.lanes=a,ja(n,a),di(n),t[Jn]=n.current,lf(t),new Lu(n)},zl.version="19.2.4",zl}var wy;function c1(){if(wy)return Vf.exports;wy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vf.exports=u1(),Vf.exports}var h1=c1();class f1{variables={};init(e){this.variables={};for(const i of e)i.default_value==="true"?this.variables[i.var_name]=!0:i.default_value==="false"?this.variables[i.var_name]=!1:this.variables[i.var_name]=Number(i.default_value)||0}get(e){return this.variables[e]??0}getAll(){return{...this.variables}}loadFrom(e){this.variables={...e}}checkCondition(e){return!e||e.trim()===""?!0:e.split("&&").map(r=>r.trim()).every(r=>this.evalSingle(r))}evalSingle(e){const i=e.match(/^(\w+)\s*(>=|<=|==|!=|>|<)\s*(.+)$/);if(!i)return!0;const[,r,o,f]=i,d=this.variables[r];let y;switch(f==="true"?y=!0:f==="false"?y=!1:y=Number(f),o){case">=":return Number(d)>=Number(y);case"<=":return Number(d)<=Number(y);case">":return Number(d)>Number(y);case"<":return Number(d)<Number(y);case"==":return d==y;case"!=":return d!=y;default:return!0}}applyEffect(e){if(!e||e.trim()==="")return;const i=e.split(",").map(r=>r.trim());for(const r of i)this.applySingle(r)}applySingle(e){const i=e.match(/^(\w+)=(true|false)$/);if(i){const[,f,d]=i;this.variables[f]=d==="true";return}const r=e.match(/^(\w+)([+-])(\d+)$/);if(r){const[,f,d,y]=r,v=Number(this.variables[f])||0,_=Number(y);this.variables[f]=d==="+"?v+_:v-_;return}const o=e.match(/^(\w+)=(\d+)$/);if(o){const[,f,d]=o;this.variables[f]=Number(d)}}}const Of="CHOICE:",d1="ENDING";class m1{data;variableSystem;currentSceneId="";sceneDialogues=[];dialogueIndex=0;choiceHistory=[];pendingResponse=null;pendingNextScene=null;listeners=new Set;constructor(e){this.data=e,this.variableSystem=new f1}start(){this.variableSystem.init(this.data.variableDefs),this.choiceHistory=[],this.pendingResponse=null,this.pendingNextScene=null;const e=this.data.scenes[0];e&&this.goToScene(e.scene_id)}goToScene(e){this.currentSceneId=e,this.sceneDialogues=this.data.dialogues.filter(i=>i.scene_id===e),this.dialogueIndex=0,this.pendingResponse=null,this.pendingNextScene=null,this.notify()}advance(){if(!this.isAtChoice()){if(this.pendingNextScene){const e=this.pendingNextScene;this.pendingResponse=null,this.pendingNextScene=null,this.notify(),this.pendingNextScene=e,this.notify();return}this.dialogueIndex<this.sceneDialogues.length-1&&(this.dialogueIndex++,this.notify())}}selectChoice(e){const i=this.getCurrentScene();this.choiceHistory.push({checkpoint:i?.scene_name??"",choiceText:e.option_text}),e.effect&&this.variableSystem.applyEffect(e.effect);let r;e.next_scene===d1?r=this.determineEnding():r=e.next_scene,e.response?(this.pendingResponse=e.response,this.pendingNextScene=r,this.notify()):(this.pendingNextScene=r,this.notify())}completeTransition(){if(this.pendingNextScene){const e=this.pendingNextScene;this.pendingResponse=null,this.pendingNextScene=null,this.goToScene(e)}}determineEnding(){const e=Number(this.variableSystem.get("emotion"))||0,i=Number(this.variableSystem.get("risk"))||0;if(i>=4){const r=Math.min(.3,i*.05);if(Math.random()<r)return"end_death"}return e>=7?"end_good":e>=4?"end_neutral":"end_bad"}getCurrentDialogue(){return this.sceneDialogues[this.dialogueIndex]??null}getCurrentScene(){return this.data.scenes.find(e=>e.scene_id===this.currentSceneId)??null}isAtChoice(){return this.pendingResponse||this.pendingNextScene?!1:this.getCurrentDialogue()?.character.startsWith(Of)??!1}isShowingResponse(){return this.pendingResponse!==null}getResponse(){return this.pendingResponse}hasPendingTransition(){return this.pendingNextScene!==null&&this.pendingResponse===null}getPendingTransitionScene(){return this.pendingNextScene}getCurrentChoices(){const e=this.getCurrentDialogue();if(!e||!e.character.startsWith(Of))return[];const i=e.character.replace(Of,"");return this.data.choices.filter(r=>r.choice_id===i).filter(r=>this.variableSystem.checkCondition(r.condition))}getCharacter(e){return this.data.characters.find(i=>i.character_id===e)??null}getVariables(){return this.variableSystem.getAll()}getChoiceHistory(){return[...this.choiceHistory]}getProgress(){const e={cp1:.25,cp2:.5,cp3:.75,cp4:1};return this.currentSceneId.startsWith("end_")?1:e[this.currentSceneId]??0}isEnding(){return this.currentSceneId.startsWith("end_")}isEnd(){return this.getCurrentDialogue()?this.dialogueIndex===this.sceneDialogues.length-1&&!this.isAtChoice()&&!this.isShowingResponse()&&!this.hasPendingTransition():!0}getSaveData(){return{scene_id:this.currentSceneId,dialogue_index:this.dialogueIndex,variables:this.variableSystem.getAll()}}loadSaveData(e){this.variableSystem.loadFrom(e.variables),this.currentSceneId=e.scene_id,this.sceneDialogues=this.data.dialogues.filter(i=>i.scene_id===e.scene_id),this.dialogueIndex=e.dialogue_index,this.notify()}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notify(){this.listeners.forEach(e=>e())}}const g1={scenes:[{scene_id:"cp1",scene_name:"",bg_image:"",bgm:""},{scene_id:"cp2",scene_name:"",bg_image:"",bgm:""},{scene_id:"cp3",scene_name:"",bg_image:"",bgm:""},{scene_id:"cp4",scene_name:"",bg_image:"",bgm:""},{scene_id:"end_good",scene_name:"",bg_image:"",bgm:""},{scene_id:"end_neutral",scene_name:"",bg_image:"",bgm:""},{scene_id:"end_bad",scene_name:"",bg_image:"",bgm:""},{scene_id:"end_death",scene_name:"",bg_image:"",bgm:""}],dialogues:[{id:1,scene_id:"cp1",character:"narrator",text:"",expression:""},{id:2,scene_id:"cp1",character:"narrator",text:"",expression:""},{id:3,scene_id:"cp1",character:"mom",text:"",expression:"serious"},{id:4,scene_id:"cp1",character:"narrator",text:"",expression:""},{id:5,scene_id:"cp1",character:"mom",text:"",expression:"serious"},{id:6,scene_id:"cp1",character:"narrator",text:"",expression:""},{id:7,scene_id:"cp1",character:"mom",text:"",expression:"sad"},{id:8,scene_id:"cp1",character:"mom",text:"",expression:"sad"},{id:9,scene_id:"cp1",character:"narrator",text:"",expression:""},{id:10,scene_id:"cp1",character:"CHOICE:cp1_choice",text:"",expression:""},{id:20,scene_id:"cp2",character:"narrator",text:"",expression:""},{id:21,scene_id:"cp2",character:"narrator",text:"",expression:""},{id:22,scene_id:"cp2",character:"chen_wife",text:"",expression:"demanding"},{id:23,scene_id:"cp2",character:"narrator",text:"",expression:""},{id:24,scene_id:"cp2",character:"chen_wife",text:"",expression:"demanding"},{id:25,scene_id:"cp2",character:"narrator",text:"",expression:""},{id:26,scene_id:"cp2",character:"narrator",text:"",expression:""},{id:27,scene_id:"cp2",character:"mom",text:"",expression:"sad"},{id:28,scene_id:"cp2",character:"mom",text:"",expression:"sad"},{id:29,scene_id:"cp2",character:"CHOICE:cp2_choice",text:"",expression:""},{id:40,scene_id:"cp3",character:"narrator",text:"",expression:""},{id:41,scene_id:"cp3",character:"narrator",text:"",expression:""},{id:42,scene_id:"cp3",character:"narrator",text:"",expression:""},{id:43,scene_id:"cp3",character:"mom",text:"",expression:"crying"},{id:44,scene_id:"cp3",character:"mom",text:"",expression:"crying"},{id:45,scene_id:"cp3",character:"mom",text:"",expression:"crying"},{id:46,scene_id:"cp3",character:"mom",text:"",expression:"crying"},{id:47,scene_id:"cp3",character:"narrator",text:"",expression:""},{id:48,scene_id:"cp3",character:"CHOICE:cp3_choice",text:"",expression:""},{id:60,scene_id:"cp4",character:"narrator",text:"",expression:""},{id:61,scene_id:"cp4",character:"narrator",text:"",expression:""},{id:62,scene_id:"cp4",character:"narrator",text:"",expression:""},{id:63,scene_id:"cp4",character:"narrator",text:"",expression:""},{id:64,scene_id:"cp4",character:"narrator",text:"",expression:""},{id:65,scene_id:"cp4",character:"chen_wife",text:"",expression:"cold"},{id:66,scene_id:"cp4",character:"narrator",text:"",expression:""},{id:67,scene_id:"cp4",character:"narrator",text:"",expression:""},{id:68,scene_id:"cp4",character:"narrator",text:"",expression:""},{id:69,scene_id:"cp4",character:"CHOICE:cp4_choice",text:"",expression:""},{id:80,scene_id:"end_good",character:"narrator",text:"",expression:""},{id:81,scene_id:"end_good",character:"narrator",text:"",expression:""},{id:82,scene_id:"end_good",character:"narrator",text:"",expression:""},{id:83,scene_id:"end_good",character:"narrator",text:"",expression:""},{id:84,scene_id:"end_good",character:"narrator",text:"",expression:""},{id:85,scene_id:"end_good",character:"narrator",text:" END ",expression:""},{id:90,scene_id:"end_neutral",character:"narrator",text:"",expression:""},{id:91,scene_id:"end_neutral",character:"narrator",text:"",expression:""},{id:92,scene_id:"end_neutral",character:"narrator",text:"",expression:""},{id:93,scene_id:"end_neutral",character:"narrator",text:"",expression:""},{id:94,scene_id:"end_neutral",character:"narrator",text:"",expression:""},{id:95,scene_id:"end_neutral",character:"narrator",text:" END ",expression:""},{id:100,scene_id:"end_bad",character:"narrator",text:"",expression:""},{id:101,scene_id:"end_bad",character:"narrator",text:"",expression:""},{id:102,scene_id:"end_bad",character:"narrator",text:"",expression:""},{id:103,scene_id:"end_bad",character:"narrator",text:"",expression:""},{id:104,scene_id:"end_bad",character:"narrator",text:"",expression:""},{id:105,scene_id:"end_bad",character:"narrator",text:" END ",expression:""},{id:110,scene_id:"end_death",character:"narrator",text:"",expression:""},{id:111,scene_id:"end_death",character:"narrator",text:"",expression:""},{id:112,scene_id:"end_death",character:"narrator",text:"",expression:""},{id:113,scene_id:"end_death",character:"narrator",text:"",expression:""},{id:114,scene_id:"end_death",character:"narrator",text:"",expression:""},{id:115,scene_id:"end_death",character:"narrator",text:"",expression:""},{id:116,scene_id:"end_death",character:"narrator",text:" END ",expression:""}],choices:[{choice_id:"cp1_choice",option_text:"",condition:"",effect:"emotion-2,risk+1",next_scene:"cp2",response:""},{choice_id:"cp1_choice",option_text:"",condition:"",effect:"emotion+1",next_scene:"cp2",response:""},{choice_id:"cp1_choice",option_text:"",condition:"",effect:"emotion-1,risk+1",next_scene:"cp2",response:""},{choice_id:"cp2_choice",option_text:"",condition:"",effect:"emotion+2,risk+1",next_scene:"cp3",response:""},{choice_id:"cp2_choice",option_text:"",condition:"",effect:"emotion-1",next_scene:"cp3",response:""},{choice_id:"cp2_choice",option_text:"",condition:"",effect:"",next_scene:"cp3",response:""},{choice_id:"cp3_choice",option_text:"",condition:"",effect:"emotion+3,risk+2",next_scene:"cp4",response:""},{choice_id:"cp3_choice",option_text:"",condition:"",effect:"emotion-1,risk+1",next_scene:"cp4",response:""},{choice_id:"cp3_choice",option_text:"",condition:"",effect:"",next_scene:"cp4",response:""},{choice_id:"cp4_choice",option_text:"",condition:"",effect:"emotion-1,risk+1",next_scene:"ENDING",response:""},{choice_id:"cp4_choice",option_text:"",condition:"",effect:"emotion+1,risk+2",next_scene:"ENDING",response:""},{choice_id:"cp4_choice",option_text:"",condition:"",effect:"emotion+2",next_scene:"ENDING",response:""}],characters:[{character_id:"narrator",display_name:"",default_image:"",color:"#BDBDBD"},{character_id:"mom",display_name:"",default_image:"",color:"#F48FB1"},{character_id:"protagonist",display_name:"",default_image:"",color:"#4FC3F7"},{character_id:"chen_wife",display_name:"",default_image:"",color:"#CE93D8"}],variableDefs:[{var_name:"emotion",default_value:"5",description:""},{var_name:"risk",default_value:"0",description:""}]},p1={cp1:"linear-gradient(180deg, #2c3e50 0%, #3498db 50%, #2c3e50 100%)",cp2:"linear-gradient(180deg, #2c3e50 0%, #e67e22 50%, #2c3e50 100%)",cp3:"linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",cp4:"linear-gradient(180deg, #1a1a1a 0%, #c0392b 30%, #1a1a1a 100%)",end_good:"linear-gradient(180deg, #1a3a2a 0%, #27ae60 50%, #1a3a2a 100%)",end_neutral:"linear-gradient(180deg, #2c3e50 0%, #7f8c8d 50%, #2c3e50 100%)",end_bad:"linear-gradient(180deg, #1a1a2e 0%, #4a1a4a 50%, #1a1a1a 100%)",end_death:"linear-gradient(180deg, #000000 0%, #1a0000 50%, #000000 100%)"},y1=({sceneId:s})=>{const e=p1[s]||"linear-gradient(180deg, #111 0%, #333 100%)";return ot.jsx("div",{style:{position:"absolute",inset:0,background:e,transition:"background 1.0s ease",zIndex:0}})},Dy=({characterName:s,characterColor:e,text:i,onAdvance:r,isEnd:o})=>{const[f,d]=Re.useState(""),[y,v]=Re.useState(!1);Re.useEffect(()=>{d(""),v(!0);let S=0;const w=setInterval(()=>{S++,d(i.slice(0,S)),S>=i.length&&(clearInterval(w),v(!1))},30);return()=>clearInterval(w)},[i]);const _=()=>{y?(d(i),v(!1)):o||r()};return ot.jsxs("div",{onClick:_,style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(0deg, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.8) 100%)",padding:"20px 30px",minHeight:"180px",cursor:"pointer",zIndex:10,borderTop:"1px solid rgba(255,255,255,0.1)"},children:[s&&ot.jsx("div",{style:{color:e,fontSize:"22px",fontWeight:"bold",marginBottom:"10px",textShadow:`0 0 10px ${e}40`},children:s}),ot.jsxs("div",{style:{color:"#e0e0e0",fontSize:"18px",lineHeight:"1.8",minHeight:"80px"},children:[f,y&&ot.jsx("span",{style:{opacity:.5,animation:"blink 0.5s infinite"},children:""})]}),!y&&ot.jsx("div",{style:{textAlign:"right",color:"rgba(255,255,255,0.3)",fontSize:"14px",marginTop:"5px"},children:o?" END ":" "})]})},_1=({choices:s,onSelect:e})=>ot.jsxs("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(0deg, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.85) 100%)",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",zIndex:20,minHeight:"200px",justifyContent:"center",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[ot.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"16px",marginBottom:"8px"},children:"  "}),s.map((i,r)=>ot.jsx("button",{onClick:()=>e(i),style:{background:"transparent",border:"1px solid rgba(255,255,255,0.3)",color:"#e0e0e0",padding:"14px 40px",fontSize:"17px",cursor:"pointer",borderRadius:"4px",width:"80%",maxWidth:"500px",transition:"all 0.2s ease",textAlign:"center"},onMouseEnter:o=>{o.currentTarget.style.background="rgba(255,255,255,0.1)",o.currentTarget.style.borderColor="rgba(255,255,255,0.6)"},onMouseLeave:o=>{o.currentTarget.style.background="transparent",o.currentTarget.style.borderColor="rgba(255,255,255,0.3)"},children:i.option_text},r))]}),v1={emotion:"",risk:""},E1=({variables:s})=>{const e=Object.entries(s);return e.length===0?null:ot.jsx("div",{style:{position:"absolute",top:10,right:10,background:"rgba(0,0,0,0.7)",padding:"10px 15px",borderRadius:"6px",fontSize:"15px",color:"rgba(255,255,255,0.6)",zIndex:30,border:"1px solid rgba(255,255,255,0.1)"},children:e.map(([i,r])=>ot.jsxs("div",{style:{marginBottom:"3px"},children:[ot.jsx("span",{style:{color:"#80CBC4"},children:v1[i]||i}),ot.jsx("span",{style:{color:"rgba(255,255,255,0.3)"},children:" : "}),ot.jsx("span",{style:{color:"#FFD54F",fontWeight:"bold"},children:String(r)})]},i))})},T1=()=>{};var Vy={};const P_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},S1=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const f=s[i++];e[r++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=s[i++],d=s[i++],y=s[i++],v=((o&7)<<18|(f&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const f=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},q_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const f=s[o],d=o+1<s.length,y=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,S=f>>2,w=(f&3)<<4|y>>4;let O=(y&15)<<2|_>>6,F=_&63;v||(F=64,d||(O=64)),r.push(i[S],i[w],i[O],i[F])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(P_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):S1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const f=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,f==null||y==null||_==null||w==null)throw new A1;const O=f<<2|y>>4;if(r.push(O),_!==64){const F=y<<4&240|_>>2;if(r.push(F),w!==64){const J=_<<6&192|w;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class A1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b1=function(s){const e=P_(s);return q_.encodeByteArray(e,!0)},Zu=function(s){return b1(s).replace(/\./g,"")},R1=function(s){try{return q_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function C1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const w1=()=>C1().__FIREBASE_DEFAULTS__,D1=()=>{if(typeof process>"u"||typeof Vy>"u")return;const s=Vy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},V1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&R1(s[1]);return e&&JSON.parse(e)},dd=()=>{try{return T1()||w1()||D1()||V1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},x1=s=>dd()?.emulatorHosts?.[s],I1=s=>{const e=x1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},k_=()=>dd()?.config;class N1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function md(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O1(s){return(await fetch(s,{credentials:"include"})).ok}function M1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Zu(JSON.stringify(i)),Zu(JSON.stringify(d)),""].join(".")}const ql={};function z1(){const s={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?s.emulator.push(e):s.prod.push(e);return s}function U1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let xy=!1;function L1(s,e){if(typeof window>"u"||typeof document>"u"||!md(window.location.host)||ql[s]===e||ql[s]||xy)return;ql[s]=e;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",f=z1().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function y(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,F){O.setAttribute("width","24"),O.setAttribute("id",F),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{xy=!0,d()},O}function S(O,F){O.setAttribute("id",F),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function w(){const O=U1(r),F=i("text"),J=document.getElementById(F)||document.createElement("span"),et=i("learnmore"),tt=document.getElementById(et)||document.createElement("a"),dt=i("preprendIcon"),Tt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const mt=O.element;y(mt),S(tt,et);const xt=_();v(Tt,dt),mt.append(Tt,J,tt,xt),document.body.appendChild(mt)}f?(J.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function B1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j1(){const s=dd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P1(){return!j1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q1(){try{return typeof indexedDB=="object"}catch{return!1}}function k1(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const H1="FirebaseError";class Rs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=H1,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H_.prototype.create)}}class H_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?G1(f,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Rs(o,y,r)}}function G1(s,e){return s.replace(F1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const F1=/\{\$([^}]+)}/g;function Ju(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const f=s[o],d=e[o];if(Iy(f)&&Iy(d)){if(!Ju(f,d))return!1}else if(f!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Iy(s){return s!==null&&typeof s=="object"}function gr(s){return s&&s._delegate?s._delegate:s}class Yl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fr="[DEFAULT]";class Q1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new N1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K1(e))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});r.resolve(f)}catch{}}}}clearInstance(e=fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fr){return this.instances.has(e)}getOptions(e=fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[f,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(f);r===y&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const f=this.instances.get(r);return f&&e(f,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Y1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fr){return this.component?this.component.multipleInstances?e:fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y1(s){return s===fr?void 0:s}function K1(s){return s.instantiationMode==="EAGER"}class X1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Q1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var zt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(zt||(zt={}));const Z1={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},J1=zt.INFO,$1={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},W1=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=$1[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class G_{constructor(e){this.name=e,this._logLevel=J1,this._logHandler=W1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const tT=(s,e)=>e.some(i=>s instanceof i);let Ny,Oy;function eT(){return Ny||(Ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nT(){return Oy||(Oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F_=new WeakMap,Hf=new WeakMap,Q_=new WeakMap,Mf=new WeakMap,gd=new WeakMap;function iT(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",f),s.removeEventListener("error",d)},f=()=>{i(Aa(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",f),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&F_.set(i,s)}).catch(()=>{}),gd.set(e,s),e}function aT(s){if(Hf.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",d),s.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",f),s.addEventListener("error",d),s.addEventListener("abort",d)});Hf.set(s,e)}let Gf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Hf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Q_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Aa(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function rT(s){Gf=s(Gf)}function sT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(zf(this),e,...i);return Q_.set(r,e.sort?e.sort():[e]),Aa(r)}:nT().includes(s)?function(...e){return s.apply(zf(this),e),Aa(F_.get(this))}:function(...e){return Aa(s.apply(zf(this),e))}}function lT(s){return typeof s=="function"?sT(s):(s instanceof IDBTransaction&&aT(s),tT(s,eT())?new Proxy(s,Gf):s)}function Aa(s){if(s instanceof IDBRequest)return iT(s);if(Mf.has(s))return Mf.get(s);const e=lT(s);return e!==s&&(Mf.set(s,e),gd.set(e,s)),e}const zf=s=>gd.get(s);function oT(s,e,{blocked:i,upgrade:r,blocking:o,terminated:f}={}){const d=indexedDB.open(s,e),y=Aa(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Aa(d.result),v.oldVersion,v.newVersion,Aa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{f&&v.addEventListener("close",()=>f()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const uT=["get","getKey","getAll","getAllKeys","count"],cT=["put","add","delete","clear"],Uf=new Map;function My(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=cT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||uT.includes(i)))return;const f=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return Uf.set(e,f),f}rT(s=>({...s,get:(e,i,r)=>My(e,i)||s.get(e,i,r),has:(e,i)=>!!My(e,i)||s.has(e,i)}));class hT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function fT(s){return s.getComponent()?.type==="VERSION"}const Ff="@firebase/app",zy="0.14.8";const Pi=new G_("@firebase/app"),dT="@firebase/app-compat",mT="@firebase/analytics-compat",gT="@firebase/analytics",pT="@firebase/app-check-compat",yT="@firebase/app-check",_T="@firebase/auth",vT="@firebase/auth-compat",ET="@firebase/database",TT="@firebase/data-connect",ST="@firebase/database-compat",AT="@firebase/functions",bT="@firebase/functions-compat",RT="@firebase/installations",CT="@firebase/installations-compat",wT="@firebase/messaging",DT="@firebase/messaging-compat",VT="@firebase/performance",xT="@firebase/performance-compat",IT="@firebase/remote-config",NT="@firebase/remote-config-compat",OT="@firebase/storage",MT="@firebase/storage-compat",zT="@firebase/firestore",UT="@firebase/ai",LT="@firebase/firestore-compat",BT="firebase",jT="12.9.0";const Qf="[DEFAULT]",PT={[Ff]:"fire-core",[dT]:"fire-core-compat",[gT]:"fire-analytics",[mT]:"fire-analytics-compat",[yT]:"fire-app-check",[pT]:"fire-app-check-compat",[_T]:"fire-auth",[vT]:"fire-auth-compat",[ET]:"fire-rtdb",[TT]:"fire-data-connect",[ST]:"fire-rtdb-compat",[AT]:"fire-fn",[bT]:"fire-fn-compat",[RT]:"fire-iid",[CT]:"fire-iid-compat",[wT]:"fire-fcm",[DT]:"fire-fcm-compat",[VT]:"fire-perf",[xT]:"fire-perf-compat",[IT]:"fire-rc",[NT]:"fire-rc-compat",[OT]:"fire-gcs",[MT]:"fire-gcs-compat",[zT]:"fire-fst",[LT]:"fire-fst-compat",[UT]:"fire-vertex","fire-js":"fire-js",[BT]:"fire-js-all"};const $u=new Map,qT=new Map,Yf=new Map;function Uy(s,e){try{s.container.addComponent(e)}catch(i){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wu(s){const e=s.name;if(Yf.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,s);for(const i of $u.values())Uy(i,s);for(const i of qT.values())Uy(i,s);return!0}function kT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function HT(s){return s==null?!1:s.settings!==void 0}const GT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ba=new H_("app","Firebase",GT);class FT{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ba.create("app-deleted",{appName:this._name})}}const QT=jT;function Y_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Qf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ba.create("bad-app-name",{appName:String(o)});if(i||(i=k_()),!i)throw ba.create("no-options");const f=$u.get(o);if(f){if(Ju(i,f.options)&&Ju(r,f.config))return f;throw ba.create("duplicate-app",{appName:o})}const d=new X1(o);for(const v of Yf.values())d.addComponent(v);const y=new FT(i,r,d);return $u.set(o,y),y}function YT(s=Qf){const e=$u.get(s);if(!e&&s===Qf&&k_())return Y_();if(!e)throw ba.create("no-app",{appName:s});return e}function ps(s,e,i){let r=PT[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),f=e.match(/\s|\//);if(o||f){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(d.join(" "));return}Wu(new Yl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const KT="firebase-heartbeat-database",XT=1,Kl="firebase-heartbeat-store";let Lf=null;function K_(){return Lf||(Lf=oT(KT,XT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ba.create("idb-open",{originalErrorMessage:s.message})})),Lf}async function ZT(s){try{const i=(await K_()).transaction(Kl),r=await i.objectStore(Kl).get(X_(s));return await i.done,r}catch(e){if(e instanceof Rs)Pi.warn(e.message);else{const i=ba.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(i.message)}}}async function Ly(s,e){try{const r=(await K_()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,X_(s)),await r.done}catch(i){if(i instanceof Rs)Pi.warn(i.message);else{const r=ba.create("idb-set",{originalErrorMessage:i?.message});Pi.warn(r.message)}}}function X_(s){return`${s.name}!${s.options.appId}`}const JT=1024,$T=30;class WT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new eS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=By();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>$T){const o=nS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=By(),{heartbeatsToSend:i,unsentEntries:r}=tS(this._heartbeatsCache.heartbeats),o=Zu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Pi.warn(e),""}}}function By(){return new Date().toISOString().substring(0,10)}function tS(s,e=JT){const i=[];let r=s.slice();for(const o of s){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),jy(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),jy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class eS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q1()?k1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ZT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ly(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ly(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jy(s){return Zu(JSON.stringify({version:2,heartbeats:s})).length}function nS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function iS(s){Wu(new Yl("platform-logger",e=>new hT(e),"PRIVATE")),Wu(new Yl("heartbeat",e=>new WT(e),"PRIVATE")),ps(Ff,zy,s),ps(Ff,zy,"esm2020"),ps("fire-js","")}iS("");var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ra,Z_;(function(){var s;function e(D,b){function C(){}C.prototype=b.prototype,D.F=b.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(N,x,z){for(var A=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)A[Ut-2]=arguments[Ut];return b.prototype[x].apply(N,A)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,C){C||(C=0);const N=Array(16);if(typeof b=="string")for(var x=0;x<16;++x)N[x]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(x=0;x<16;++x)N[x]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=D.g[0],C=D.g[1],x=D.g[2];let z=D.g[3],A;A=b+(z^C&(x^z))+N[0]+3614090360&4294967295,b=C+(A<<7&4294967295|A>>>25),A=z+(x^b&(C^x))+N[1]+3905402710&4294967295,z=b+(A<<12&4294967295|A>>>20),A=x+(C^z&(b^C))+N[2]+606105819&4294967295,x=z+(A<<17&4294967295|A>>>15),A=C+(b^x&(z^b))+N[3]+3250441966&4294967295,C=x+(A<<22&4294967295|A>>>10),A=b+(z^C&(x^z))+N[4]+4118548399&4294967295,b=C+(A<<7&4294967295|A>>>25),A=z+(x^b&(C^x))+N[5]+1200080426&4294967295,z=b+(A<<12&4294967295|A>>>20),A=x+(C^z&(b^C))+N[6]+2821735955&4294967295,x=z+(A<<17&4294967295|A>>>15),A=C+(b^x&(z^b))+N[7]+4249261313&4294967295,C=x+(A<<22&4294967295|A>>>10),A=b+(z^C&(x^z))+N[8]+1770035416&4294967295,b=C+(A<<7&4294967295|A>>>25),A=z+(x^b&(C^x))+N[9]+2336552879&4294967295,z=b+(A<<12&4294967295|A>>>20),A=x+(C^z&(b^C))+N[10]+4294925233&4294967295,x=z+(A<<17&4294967295|A>>>15),A=C+(b^x&(z^b))+N[11]+2304563134&4294967295,C=x+(A<<22&4294967295|A>>>10),A=b+(z^C&(x^z))+N[12]+1804603682&4294967295,b=C+(A<<7&4294967295|A>>>25),A=z+(x^b&(C^x))+N[13]+4254626195&4294967295,z=b+(A<<12&4294967295|A>>>20),A=x+(C^z&(b^C))+N[14]+2792965006&4294967295,x=z+(A<<17&4294967295|A>>>15),A=C+(b^x&(z^b))+N[15]+1236535329&4294967295,C=x+(A<<22&4294967295|A>>>10),A=b+(x^z&(C^x))+N[1]+4129170786&4294967295,b=C+(A<<5&4294967295|A>>>27),A=z+(C^x&(b^C))+N[6]+3225465664&4294967295,z=b+(A<<9&4294967295|A>>>23),A=x+(b^C&(z^b))+N[11]+643717713&4294967295,x=z+(A<<14&4294967295|A>>>18),A=C+(z^b&(x^z))+N[0]+3921069994&4294967295,C=x+(A<<20&4294967295|A>>>12),A=b+(x^z&(C^x))+N[5]+3593408605&4294967295,b=C+(A<<5&4294967295|A>>>27),A=z+(C^x&(b^C))+N[10]+38016083&4294967295,z=b+(A<<9&4294967295|A>>>23),A=x+(b^C&(z^b))+N[15]+3634488961&4294967295,x=z+(A<<14&4294967295|A>>>18),A=C+(z^b&(x^z))+N[4]+3889429448&4294967295,C=x+(A<<20&4294967295|A>>>12),A=b+(x^z&(C^x))+N[9]+568446438&4294967295,b=C+(A<<5&4294967295|A>>>27),A=z+(C^x&(b^C))+N[14]+3275163606&4294967295,z=b+(A<<9&4294967295|A>>>23),A=x+(b^C&(z^b))+N[3]+4107603335&4294967295,x=z+(A<<14&4294967295|A>>>18),A=C+(z^b&(x^z))+N[8]+1163531501&4294967295,C=x+(A<<20&4294967295|A>>>12),A=b+(x^z&(C^x))+N[13]+2850285829&4294967295,b=C+(A<<5&4294967295|A>>>27),A=z+(C^x&(b^C))+N[2]+4243563512&4294967295,z=b+(A<<9&4294967295|A>>>23),A=x+(b^C&(z^b))+N[7]+1735328473&4294967295,x=z+(A<<14&4294967295|A>>>18),A=C+(z^b&(x^z))+N[12]+2368359562&4294967295,C=x+(A<<20&4294967295|A>>>12),A=b+(C^x^z)+N[5]+4294588738&4294967295,b=C+(A<<4&4294967295|A>>>28),A=z+(b^C^x)+N[8]+2272392833&4294967295,z=b+(A<<11&4294967295|A>>>21),A=x+(z^b^C)+N[11]+1839030562&4294967295,x=z+(A<<16&4294967295|A>>>16),A=C+(x^z^b)+N[14]+4259657740&4294967295,C=x+(A<<23&4294967295|A>>>9),A=b+(C^x^z)+N[1]+2763975236&4294967295,b=C+(A<<4&4294967295|A>>>28),A=z+(b^C^x)+N[4]+1272893353&4294967295,z=b+(A<<11&4294967295|A>>>21),A=x+(z^b^C)+N[7]+4139469664&4294967295,x=z+(A<<16&4294967295|A>>>16),A=C+(x^z^b)+N[10]+3200236656&4294967295,C=x+(A<<23&4294967295|A>>>9),A=b+(C^x^z)+N[13]+681279174&4294967295,b=C+(A<<4&4294967295|A>>>28),A=z+(b^C^x)+N[0]+3936430074&4294967295,z=b+(A<<11&4294967295|A>>>21),A=x+(z^b^C)+N[3]+3572445317&4294967295,x=z+(A<<16&4294967295|A>>>16),A=C+(x^z^b)+N[6]+76029189&4294967295,C=x+(A<<23&4294967295|A>>>9),A=b+(C^x^z)+N[9]+3654602809&4294967295,b=C+(A<<4&4294967295|A>>>28),A=z+(b^C^x)+N[12]+3873151461&4294967295,z=b+(A<<11&4294967295|A>>>21),A=x+(z^b^C)+N[15]+530742520&4294967295,x=z+(A<<16&4294967295|A>>>16),A=C+(x^z^b)+N[2]+3299628645&4294967295,C=x+(A<<23&4294967295|A>>>9),A=b+(x^(C|~z))+N[0]+4096336452&4294967295,b=C+(A<<6&4294967295|A>>>26),A=z+(C^(b|~x))+N[7]+1126891415&4294967295,z=b+(A<<10&4294967295|A>>>22),A=x+(b^(z|~C))+N[14]+2878612391&4294967295,x=z+(A<<15&4294967295|A>>>17),A=C+(z^(x|~b))+N[5]+4237533241&4294967295,C=x+(A<<21&4294967295|A>>>11),A=b+(x^(C|~z))+N[12]+1700485571&4294967295,b=C+(A<<6&4294967295|A>>>26),A=z+(C^(b|~x))+N[3]+2399980690&4294967295,z=b+(A<<10&4294967295|A>>>22),A=x+(b^(z|~C))+N[10]+4293915773&4294967295,x=z+(A<<15&4294967295|A>>>17),A=C+(z^(x|~b))+N[1]+2240044497&4294967295,C=x+(A<<21&4294967295|A>>>11),A=b+(x^(C|~z))+N[8]+1873313359&4294967295,b=C+(A<<6&4294967295|A>>>26),A=z+(C^(b|~x))+N[15]+4264355552&4294967295,z=b+(A<<10&4294967295|A>>>22),A=x+(b^(z|~C))+N[6]+2734768916&4294967295,x=z+(A<<15&4294967295|A>>>17),A=C+(z^(x|~b))+N[13]+1309151649&4294967295,C=x+(A<<21&4294967295|A>>>11),A=b+(x^(C|~z))+N[4]+4149444226&4294967295,b=C+(A<<6&4294967295|A>>>26),A=z+(C^(b|~x))+N[11]+3174756917&4294967295,z=b+(A<<10&4294967295|A>>>22),A=x+(b^(z|~C))+N[2]+718787259&4294967295,x=z+(A<<15&4294967295|A>>>17),A=C+(z^(x|~b))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(x+(A<<21&4294967295|A>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.v=function(D,b){b===void 0&&(b=D.length);const C=b-this.blockSize,N=this.C;let x=this.h,z=0;for(;z<b;){if(x==0)for(;z<=C;)o(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<b;)if(N[x++]=D.charCodeAt(z++),x==this.blockSize){o(this,N),x=0;break}}else for(;z<b;)if(N[x++]=D[z++],x==this.blockSize){o(this,N),x=0;break}}this.h=x,this.o+=b},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,C=0;C<4;++C)for(let N=0;N<32;N+=8)D[b++]=this.g[C]>>>N&255;return D};function f(D,b){var C=y;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=b(D)}function d(D,b){this.h=b;const C=[];let N=!0;for(let x=D.length-1;x>=0;x--){const z=D[x]|0;N&&z==b||(C[x]=z,N=!1)}this.g=C}var y={};function v(D){return-128<=D&&D<128?f(D,function(b){return new d([b|0],b<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return w;if(D<0)return tt(_(-D));const b=[];let C=1;for(let N=0;D>=C;N++)b[N]=D/C|0,C*=4294967296;return new d(b,0)}function S(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return tt(S(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(b,8));let N=w;for(let z=0;z<D.length;z+=8){var x=Math.min(8,D.length-z);const A=parseInt(D.substring(z,z+x),b);x<8?(x=_(Math.pow(b,x)),N=N.j(x).add(_(A))):(N=N.j(C),N=N.add(_(A)))}return N}var w=v(0),O=v(1),F=v(16777216);s=d.prototype,s.m=function(){if(et(this))return-tt(this).m();let D=0,b=1;for(let C=0;C<this.g.length;C++){const N=this.i(C);D+=(N>=0?N:4294967296+N)*b,b*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(et(this))return"-"+tt(this).toString(D);const b=_(Math.pow(D,6));var C=this;let N="";for(;;){const x=xt(C,b).g;C=dt(C,x.j(b));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=x,J(C))return z+N;for(;z.length<6;)z="0"+z;N=z+N}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function et(D){return D.h==-1}s.l=function(D){return D=dt(this,D),et(D)?-1:J(D)?0:1};function tt(D){const b=D.g.length,C=[];for(let N=0;N<b;N++)C[N]=~D.g[N];return new d(C,~D.h).add(O)}s.abs=function(){return et(this)?tt(this):this},s.add=function(D){const b=Math.max(this.g.length,D.g.length),C=[];let N=0;for(let x=0;x<=b;x++){let z=N+(this.i(x)&65535)+(D.i(x)&65535),A=(z>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);N=A>>>16,z&=65535,A&=65535,C[x]=A<<16|z}return new d(C,C[C.length-1]&-2147483648?-1:0)};function dt(D,b){return D.add(tt(b))}s.j=function(D){if(J(this)||J(D))return w;if(et(this))return et(D)?tt(this).j(tt(D)):tt(tt(this).j(D));if(et(D))return tt(this.j(tt(D)));if(this.l(F)<0&&D.l(F)<0)return _(this.m()*D.m());const b=this.g.length+D.g.length,C=[];for(var N=0;N<2*b;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(let x=0;x<D.g.length;x++){const z=this.i(N)>>>16,A=this.i(N)&65535,Ut=D.i(x)>>>16,ue=D.i(x)&65535;C[2*N+2*x]+=A*ue,Tt(C,2*N+2*x),C[2*N+2*x+1]+=z*ue,Tt(C,2*N+2*x+1),C[2*N+2*x+1]+=A*Ut,Tt(C,2*N+2*x+1),C[2*N+2*x+2]+=z*Ut,Tt(C,2*N+2*x+2)}for(D=0;D<b;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=b;D<2*b;D++)C[D]=0;return new d(C,0)};function Tt(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function mt(D,b){this.g=D,this.h=b}function xt(D,b){if(J(b))throw Error("division by zero");if(J(D))return new mt(w,w);if(et(D))return b=xt(tt(D),b),new mt(tt(b.g),tt(b.h));if(et(b))return b=xt(D,tt(b)),new mt(tt(b.g),b.h);if(D.g.length>30){if(et(D)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var C=O,N=b;N.l(D)<=0;)C=$t(C),N=$t(N);var x=It(C,1),z=It(N,1);for(N=It(N,2),C=It(C,2);!J(N);){var A=z.add(N);A.l(D)<=0&&(x=x.add(C),z=A),N=It(N,1),C=It(C,1)}return b=dt(D,x.j(b)),new mt(x,b)}for(x=w;D.l(b)>=0;){for(C=Math.max(1,Math.floor(D.m()/b.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),z=_(C),A=z.j(b);et(A)||A.l(D)>0;)C-=N,z=_(C),A=z.j(b);J(z)&&(z=O),x=x.add(z),D=dt(D,A)}return new mt(x,D)}s.B=function(D){return xt(this,D).h},s.and=function(D){const b=Math.max(this.g.length,D.g.length),C=[];for(let N=0;N<b;N++)C[N]=this.i(N)&D.i(N);return new d(C,this.h&D.h)},s.or=function(D){const b=Math.max(this.g.length,D.g.length),C=[];for(let N=0;N<b;N++)C[N]=this.i(N)|D.i(N);return new d(C,this.h|D.h)},s.xor=function(D){const b=Math.max(this.g.length,D.g.length),C=[];for(let N=0;N<b;N++)C[N]=this.i(N)^D.i(N);return new d(C,this.h^D.h)};function $t(D){const b=D.g.length+1,C=[];for(let N=0;N<b;N++)C[N]=D.i(N)<<1|D.i(N-1)>>>31;return new d(C,D.h)}function It(D,b){const C=b>>5;b%=32;const N=D.g.length-C,x=[];for(let z=0;z<N;z++)x[z]=b>0?D.i(z+C)>>>b|D.i(z+C+1)<<32-b:D.i(z+C);return new d(x,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Z_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Ra=d}).apply(typeof Py<"u"?Py:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var J_,Ll,$_,Gu,Kf,W_,tv,ev;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});var f=f||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function S(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,U,P){for(var Z=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)Z[vt-2]=arguments[vt];return m.prototype[U].apply(T,Z)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var p=typeof U;if(p=p!="object"?p:U?Array.isArray(U)?"array":p:"null",p=="array"||p=="object"&&typeof U.length=="number"){p=u.length||0;const P=U.length||0;u.length=p+P;for(let Z=0;Z<P;Z++)u[p+Z]=U[Z]}else u.push(U)}}class et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,p){const T=mt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new et(()=>new xt,u=>u.reset());class xt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,It=!1,D=new Tt,b=()=>{const u=Promise.resolve(void 0);$t=()=>{u.then(C)}};function C(){for(var u;u=dt();){try{u.h.call(u.g)}catch(p){tt(p)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}It=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function Ut(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Ut,x),Ut.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ut.Z.h.call(this)},Ut.prototype.h=function(){Ut.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),H=0;function $(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Ht(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function I(u){const m={};for(const p in u)m[p]=u[p];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let P=0;P<Y.length;P++)p=Y[P],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,p,T,U){const P=u.toString();u=this.g[P],u||(u=this.g[P]=[],this.h++);const Z=St(u,m,T,U);return Z>-1?(m=u[Z],p||(m.fa=!1)):(m=new $(m,this.src,P,!!T,U),m.fa=p,u.push(m)),m};function gt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),P;(P=U>=0)&&Array.prototype.splice.call(T,U,1),P&&(ut(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function St(u,m,p,T){for(let U=0;U<u.length;++U){const P=u[U];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==T)return U}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),we={};function ne(u,m,p,T,U){if(Array.isArray(m)){for(let P=0;P<m.length;P++)ne(u,m[P],p,T,U);return null}return p=Ns(p),u&&u[ue]?u.J(m,p,y(T)?!!T.capture:!1,U):za(u,m,p,!1,T,U)}function za(u,m,p,T,U,P){if(!m)throw Error("Invalid event type");const Z=y(U)?!!U.capture:!!U;let vt=Ua(u);if(vt||(u[Ot]=vt=new it(u)),p=vt.add(m,p,T,Z,P),p.proxy)return p;if(T=Sr(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)z||(U=Z),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Qn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Sr(){function u(p){return m.call(u.src,u.listener,p)}const m=xs;return u}function Ar(u,m,p,T,U){if(Array.isArray(m))for(var P=0;P<m.length;P++)Ar(u,m[P],p,T,U);else T=y(T)?!!T.capture:!!T,p=Ns(p),u&&u[ue]?(u=u.i,P=String(m).toString(),P in u.g&&(m=u.g[P],p=St(m,p,T,U),p>-1&&(ut(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[P],u.h--)))):u&&(u=Ua(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,p,T,U)),(p=u>-1?m[u]:null)&&br(p))}function br(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])gt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Qn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ua(m))?(gt(p,u),p.h==0&&(p.src=null,m[Ot]=null)):ut(u)}}}function Qn(u){return u in we?we[u]:we[u]="on"+u}function xs(u,m){if(u.da)u=!0;else{m=new Ut(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&br(u),u=p.call(T,m)}return u}function Ua(u){return u=u[Ot],u instanceof it?u:null}var Is="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ns(u){return typeof u=="function"?u:(u[Is]||(u[Is]=function(m){return u.handleEvent(m)}),u[Is])}function ge(){N.call(this),this.i=new it(this),this.M=this,this.G=null}w(ge,N),ge.prototype[ue]=!0,ge.prototype.removeEventListener=function(u,m,p,T){Ar(this,u,m,p,T)};function De(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var U=m;m=new x(T,u),W(m,U)}U=!0;let P,Z;if(p)for(Z=p.length-1;Z>=0;Z--)P=m.g=p[Z],U=Hi(P,T,!0,m)&&U;if(P=m.g=u,U=Hi(P,T,!0,m)&&U,U=Hi(P,T,!1,m)&&U,p)for(Z=0;Z<p.length;Z++)P=m.g=p[Z],U=Hi(P,T,!1,m)&&U}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)ut(p[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ge.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Hi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let P=0;P<m.length;++P){const Z=m[P];if(Z&&!Z.da&&Z.capture==p){const vt=Z.listener,he=Z.ha||Z.src;Z.fa&&gt(u.i,Z),U=vt.call(he,T)!==!1&&U}}return U&&!T.defaultPrevented}function Dc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function uo(u){u.g=Dc(()=>{u.g=null,u.i&&(u.i=!1,uo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends N{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(u){N.call(this),this.h=u,this.g={}}w(La,N);var Os=[];function Ms(u){Lt(u.g,function(m,p){this.g.hasOwnProperty(p)&&br(m)},u),u.g={}}La.prototype.N=function(){La.Z.N.call(this),Ms(this)},La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=d.JSON.stringify,Vc=d.JSON.parse,co=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ho(){}function fo(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){x.call(this,"d")}w(Le,x);function vn(){x.call(this,"c")}w(vn,x);var ce={},mo=null;function Rr(){return mo=mo||new ge}ce.Ia="serverreachability";function go(u){x.call(this,ce.Ia,u)}w(go,x);function Yn(u){const m=Rr();De(m,new go(m))}ce.STAT_EVENT="statevent";function Ba(u,m){x.call(this,ce.STAT_EVENT,u),this.stat=m}w(Ba,x);function pe(u){const m=Rr();De(m,new Ba(m,u))}ce.Ja="timingevent";function Kn(u,m){x.call(this,ce.Ja,u),this.size=m}w(Kn,x);function Xn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function xc(u,m,p,T,U,P){u.info(function(){if(u.g)if(P){var Z="",vt=P.split("&");for(let Pt=0;Pt<vt.length;Pt++){var he=vt[Pt].split("=");if(he.length>1){const ie=he[0];he=he[1];const An=ie.split("_");Z=An.length>=2&&An[1]=="type"?Z+(ie+"="+he+"&"):Z+(ie+"=redacted&")}}}else Z=null;else Z=P;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+Z})}function po(u,m,p,T,U,P,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+P+" "+Z})}function Zn(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ic(u,p)+(T?" "+T:"")})}function ja(u,m){u.info(function(){return"TIMEOUT: "+m})}Mn.prototype.info=function(){};function Ic(u,m){if(!u.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(u=0;u<P.length;u++)if(Array.isArray(P[u])){var p=P[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let Z=1;Z<T.length;Z++)T[Z]=""}}}}return Gi(P)}catch{return m}}var Pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Us;function qa(){}w(qa,ho),qa.prototype.g=function(){return new XMLHttpRequest},Us=new qa;function Ti(u){return encodeURIComponent(String(u))}function yo(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function zn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new La(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var ye={},Oe={};function Jn(u,m,p){u.M=1,u.A=ka(ve(m)),u.u=p,u.R=!0,Cr(u,null)}function Cr(u,m){u.F=Date.now(),$n(u),u.B=ve(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),xr(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Un,u.g=No(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Os[0]=U.toString()),U=Os);for(let P=0;P<U.length;P++){const Z=ne(p,U[P],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Yn(),xc(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const vt=jn(this.g),he=this.g.ya(),Pt=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||vt!=4||he==7||(he==8||Pt<=0?Yn(3):Yn(2)),Wn(this);var m=this.g.ca();this.X=m;var p=Nc(this);if(this.o=m==200,po(this.i,this.v,this.B,this.l,this.S,vt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(T)){var P=T;break e}}P=null}if(u=P)Zn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ti(this,u);else{this.o=!1,this.m=3,pe(12),un(this),En(this);break t}}if(this.R){u=!0;let ie;for(;!this.K&&this.C<p.length;)if(ie=vo(this,p),ie==Oe){vt==4&&(this.m=4,pe(14),u=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(ie==ye){this.m=4,pe(15),Zn(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Zn(this.i,this.l,ie,null),ti(this,ie);if(_o(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||p.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)Zn(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),En(this);else if(p.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Js(Z),Z.P=!0,pe(11))}}else Zn(this.i,this.l,p,null),ti(this,p);vt==4&&un(this),this.o&&!this.K&&(vt==4?Do(this.j,this):(this.o=!1,$n(this)))}else Ai(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),un(this),En(this)}}}catch{}};function Nc(u){if(!_o(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let p="";const T=m.length,U=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),En(u),"";u.h.i=new d.TextDecoder}for(let P=0;P<T;P++)u.h.h=!0,p+=u.h.i.decode(m[P],{stream:!(U&&P==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function _o(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function vo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Oe:(p=Number(m.substring(p,T)),isNaN(p)?ye:(T+=1,T+p>m.length?Oe:(m=m.slice(T,T+p),u.C=T+p,m)))}zn.prototype.cancel=function(){this.K=!0,un(this)};function $n(u){u.T=Date.now()+u.H,wr(u,u.H)}function wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Xn(_(u.aa,u),m)}function Wn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ja(this.i,this.B),this.M!=2&&(Yn(),pe(17)),un(this),this.m=2,En(this)):wr(this,this.T-u)};function En(u){u.j.I==0||u.K||Do(u.j,u)}function un(u){Wn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ms(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ti(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ni(p.h,u))){if(!u.L&&ni(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)zr(p),$i(p);else break t;Xa(p),pe(18)}}else p.xa=U[1],0<p.xa-p.K&&U[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Xn(_(p.Va,p),6e3));ei(p.h)<=1&&p.ta&&(p.ta=void 0)}else oi(p,11)}else if((u.L||p.g==u)&&zr(p),!A(m))for(U=p.Ba.g.parse(m),m=0;m<U.length;m++){let Pt=U[m];const ie=Pt[0];if(!(ie<=p.K))if(p.K=ie,Pt=Pt[1],p.I==2)if(Pt[0]=="c"){p.M=Pt[1],p.ba=Pt[2];const An=Pt[3];An!=null&&(p.ka=An,p.j.info("VER="+p.ka));const ui=Pt[4];ui!=null&&(p.za=ui,p.j.info("SVER="+p.za));const Pn=Pt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const qn=u.g;if(qn){const Za=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Za){var P=T.h;P.g||Za.indexOf("spdy")==-1&&Za.indexOf("quic")==-1&&Za.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(js(P,P.h),P.h=null))}if(T.G){const Ur=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ur&&(T.wa=Ur,Gt(T.J,T.G,Ur))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var Z=u;if(T.na=Io(T,T.L?T.ba:null,T.W),Z.L){Ps(T.h,Z);var vt=Z,he=T.O;he&&(vt.H=he),vt.D&&(Wn(vt),$n(vt)),T.g=Z}else Co(T);p.i.length>0&&li(p)}else Pt[0]!="stop"&&Pt[0]!="close"||oi(p,7);else p.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?oi(p,7):Xs(p):Pt[0]!="noop"&&p.l&&p.l.qa(Pt),p.A=0)}}Yn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function Ls(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ei(u){return u.h?1:u.g?u.g.size:0}function ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function js(u,m){u.g?u.g.add(m):u.h=m}function Ps(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ls.prototype.cancel=function(){if(this.i=qs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function qs(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return F(u.i)}var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dr(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let U,P=null;T>=0?(U=u[p].substring(0,T),P=u[p].substring(T+1)):U=u[p],m(U,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,Fi(this,u.u),this.h=u.h,ks(this,bo(u.i)),this.m=u.m):u&&(m=String(u).match(Eo))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ii(m[2]||""),this.g=ii(m[3]||"",!0),Fi(this,m[4]),this.h=ii(m[5]||"",!0),ks(this,m[6]||"",!0),this.m=ii(m[7]||"")):(this.l=!1,this.i=new Yi(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ha(m,Vr,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ha(m,Vr,!0),"@"),u.push(Ti(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Ha(p,p.charAt(0)=="/"?Hs:To,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Ha(p,So)),u.join("")},cn.prototype.resolve=function(u){const m=ve(this);let p=!!u.j;p?Me(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Fi(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const P=[];for(let Z=0;Z<U.length;){const vt=U[Z++];vt=="."?T&&Z==U.length&&P.push(""):vt==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&Z==U.length&&P.push("")):(P.push(vt),T=!0)}T=P.join("/")}else T=U}return p?m.h=T:p=u.i.toString()!=="",p?ks(m,bo(u.i)):p=!!u.m,p&&(m.m=u.m),m};function ve(u){return new cn(u)}function Me(u,m,p){u.j=p?ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Fi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ks(u,m,p){m instanceof Yi?(u.i=m,Ir(u.i,u.l)):(p||(m=Ha(m,Qi)),u.i=new Yi(m,u.l))}function Gt(u,m,p){u.i.set(m,p)}function ka(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ha(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,We),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Vr=/[#\/\?@]/g,To=/[#\?:]/g,Hs=/[#\?]/g,Qi=/[#\?@]/g,So=/#/g;function Yi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Dr(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Yi.prototype,s.add=function(u,m){tn(this),this.i=null,u=Ki(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Ao(u,m){tn(u),m=Ki(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Gs(u,m){return tn(u),m=Ki(u,m),u.g.has(m)}s.forEach=function(u,m){tn(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Fs(u,m){tn(u);let p=[];if(typeof m=="string")Gs(u,m)&&(p=p.concat(u.g.get(Ki(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}s.set=function(u,m){return tn(this),this.i=null,u=Ki(this,u),Gs(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Fs(this,u),u.length>0?String(u[0]):m):m};function xr(u,m,p){Ao(u,m),p.length>0&&(u.i=null,u.g.set(Ki(u,m),F(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const U=Ti(p);p=Fs(this,p);for(let P=0;P<p.length;P++){let Z=U;p[P]!==""&&(Z+="="+Ti(p[P])),u.push(Z)}}return this.i=u.join("&")};function bo(u){const m=new Yi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ki(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ir(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(p,T){const U=T.toLowerCase();T!=U&&(Ao(this,T),xr(this,U,p))},u)),u.j=m}function Ln(u,m){const p=new Mn;if(d.Image){const T=new Image;T.onload=S(Tn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Tn,p,"TestLoadImage: error",!1,m,T),T.onabort=S(Tn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Tn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Qs(u,m){const p=new Mn,T=new AbortController,U=setTimeout(()=>{T.abort(),Tn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(P=>{clearTimeout(U),P.ok?Tn(p,"TestPingServer: ok",!0,m):Tn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Tn(p,"TestPingServer: error",!1,m)})}function Tn(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Xi(){this.g=new co}function ai(u){this.i=u.Sb||null,this.h=u.ab||!1}w(ai,ho),ai.prototype.g=function(){return new Ga(this.i,this.h)};function Ga(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Ga,ge),s=Ga.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Nr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Zi(this):Bn(this),this.readyState==3&&Nr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Zi(this))},s.Na=function(u){this.g&&(this.response=u,Zi(this))},s.ga=function(){this.g&&Zi(this)};function Zi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ga.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return Lt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Fa(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Sn(p),typeof u=="string"?p!=null&&Ti(p):Gt(u,m,p))}function Yt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Yt,ge);var ri=/^https?$/i,Ys=["POST","PUT"];s=Yt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Us.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(P){Qa(this,P);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())p.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ys,m,void 0)>=0)||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,Z]of p)this.g.setRequestHeader(P,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(P){Qa(this,P)}};function Qa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ks(u),Si(u)}function Ks(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Si(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),Yt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ya(this):this.Xa())},s.Xa=function(){Ya(this)};function Ya(u){if(u.h&&typeof f<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),jn(u)==4){u.h=!1;try{const P=u.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=P===0){let Z=String(u.D).match(Eo)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),T=!ri.test(Z?Z.toLowerCase():"")}p=T}if(p)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=jn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ks(u)}}finally{Si(u)}}}}function Si(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||De(u,"ready");try{p.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Vc(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ai(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(A(u[T]))continue;var p=yo(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[U]||[];m[U]=P,P.push(p)}Ht(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function si(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Ji(u){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=si("baseRetryDelayMs",5e3,u),this.Za=si("retryDelaySeedMs",1e4,u),this.Ta=si("forwardChannelMaxRetries",2,u),this.va=si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ls(u&&u.concurrentRequestLimit),this.Ba=new Xi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ji.prototype,s.ka=8,s.I=1,s.connect=function(u,m,p,T){pe(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Io(this,null,this.W),li(this)};function Xs(u){if(Or(u),u.I==3){var m=u.V++,p=ve(u.J);if(Gt(p,"SID",u.M),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),Ka(u,p),m=new zn(u,u.j,m),m.M=2,m.A=ka(ve(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=No(m.j,null),m.g.ea(m.A)),m.F=Date.now(),$n(m)}xo(u)}function $i(u){u.g&&(Js(u),u.g.cancel(),u.g=null)}function Or(u){$i(u),u.v&&(d.clearTimeout(u.v),u.v=null),zr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function li(u){if(!Bs(u.h)&&!u.m){u.m=!0;var m=u.Ea;$t||b(),It||($t(),It=!0),D.add(m,u),u.D=0}}function Mr(u,m){return ei(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Xn(_(u.Ea,u,m),Vo(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new zn(this,this.j,u);let P=this.o;if(this.U&&(P?(P=I(P),W(P,this.U)):P=this.U),this.u!==null||this.R||(U.J=P,P=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Ro(this,U,m),p=ve(this.J),Gt(p,"RID",u),Gt(p,"CVER",22),this.G&&Gt(p,"X-HTTP-Session-Id",this.G),Ka(this,p),P&&(this.R?m="headers="+Ti(Sn(P))+"&"+m:this.u&&Fa(p,this.u,P)),js(this.h,U),this.Ra&&Gt(p,"TYPE","init"),this.S?(Gt(p,"$req",m),Gt(p,"SID","null"),U.U=!0,Jn(U,p,null)):Jn(U,p,m),this.I=2}}else this.I==3&&(u?Zs(this,u):this.i.length==0||Bs(this.h)||Zs(this))};function Zs(u,m){var p;m?p=m.l:p=u.V++;const T=ve(u.J);Gt(T,"SID",u.M),Gt(T,"RID",p),Gt(T,"AID",u.K),Ka(u,T),u.u&&u.o&&Fa(T,u.u,u.o),p=new zn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ro(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),js(u.h,p),Jn(p,T,m)}function Ka(u,m){u.H&&Lt(u.H,function(p,T){Gt(m,T,p)}),u.l&&Lt({},function(p,T){Gt(m,T,p)})}function Ro(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let vt=-1;for(;;){const he=["count="+p];vt==-1?p>0?(vt=U[0].g,he.push("ofs="+vt)):vt=0:he.push("ofs="+vt);let Pt=!0;for(let ie=0;ie<p;ie++){var P=U[ie].g;const An=U[ie].map;if(P-=vt,P<0)vt=Math.max(0,U[ie].g-100),Pt=!1;else try{P="req"+P+"_"||"";try{var Z=An instanceof Map?An:Object.entries(An);for(const[ui,Pn]of Z){let qn=Pn;y(Pn)&&(qn=Gi(Pn)),he.push(P+ui+"="+encodeURIComponent(qn))}}catch(ui){throw he.push(P+"type="+encodeURIComponent("_badmap")),ui}}catch{T&&T(An)}}if(Pt){Z=he.join("&");break t}}Z=void 0}return u=u.i.splice(0,p),m.G=u,Z}function Co(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$t||b(),It||($t(),It=!0),D.add(m,u),u.A=0}}function Xa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Xn(_(u.Da,u),Vo(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,wo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Xn(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),$i(this),wo(this))};function Js(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function wo(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),Ka(u,m),u.u&&u.o&&Fa(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=ka(ve(m)),p.u=null,p.R=!0,Cr(p,u)}s.Va=function(){this.C!=null&&(this.C=null,$i(this),Xa(this),pe(19))};function zr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Do(u,m){var p=null;if(u.g==m){zr(u),Js(u),u.g=null;var T=2}else if(ni(u.h,m))p=m.G,Ps(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Rr(),De(T,new Kn(T,p)),li(u)}else Co(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Mr(u,m)||T==2&&Xa(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),U){case 1:oi(u,5);break;case 4:oi(u,10);break;case 3:oi(u,6);break;default:oi(u,2)}}}function Vo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function oi(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const U=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),ka(T),U?Ln(T.toString(),p):Qs(T.toString(),p)}else pe(2);u.I=0,u.l&&u.l.pa(m),xo(u),Or(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function xo(u){if(u.I=0,u.ja=[],u.l){const m=qs(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Io(u,m,p){var T=p instanceof cn?ve(p):new cn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Fi(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const P=new cn(null);T&&Me(P,T),m&&(P.g=m),U&&Fi(P,U),p&&(P.h=p),T=P}return p=u.G,m=u.wa,p&&m&&Gt(T,p,m),Gt(T,"VER",u.ka),Ka(u,T),T}function No(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ai({ab:p})):new Yt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oo(){}s=Oo.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Wi(){}Wi.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ge.call(this),this.g=new Ji(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!A(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new bi(this)}w(Je,ge),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Xs(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Gi(u),u=p);m.i.push(new _e(m.Ya++,u)),m.I==3&&li(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Xs(this.g),delete this.g,Je.Z.N.call(this)};function Mo(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Mo,Le);function zo(){vn.call(this),this.status=1}w(zo,vn);function bi(u){this.g=u}w(bi,Oo),bi.prototype.ra=function(){De(this.g,"a")},bi.prototype.qa=function(u){De(this.g,new Mo(u))},bi.prototype.pa=function(u){De(this.g,new zo)},bi.prototype.oa=function(){De(this.g,"b")},Wi.prototype.createWebChannel=Wi.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,ev=function(){return new Wi},tv=function(){return Rr()},W_=ce,Kf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pa.NO_ERROR=0,Pa.TIMEOUT=8,Pa.HTTP_ERROR=6,Gu=Pa,zs.COMPLETE="complete",$_=zs,fo.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",ge.prototype.listen=ge.prototype.J,Ll=fo,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,J_=Yt}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let Cs="12.9.0";function aS(s){Cs=s}const pr=new G_("@firebase/firestore");function fs(){return pr.logLevel}function nt(s,...e){if(pr.logLevel<=zt.DEBUG){const i=e.map(pd);pr.debug(`Firestore (${Cs}): ${s}`,...i)}}function qi(s,...e){if(pr.logLevel<=zt.ERROR){const i=e.map(pd);pr.error(`Firestore (${Cs}): ${s}`,...i)}}function yr(s,...e){if(pr.logLevel<=zt.WARN){const i=e.map(pd);pr.warn(`Firestore (${Cs}): ${s}`,...i)}}function pd(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ft(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,nv(s,r,i)}function nv(s,e,i){let r=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw qi(r),new Error(r)}function kt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||nv(e,o,r)}function _t(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ca{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class iv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class sS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class lS{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let f=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Ca,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=f;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Ca)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string",31837,{l:r}),new iv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class oS{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class uS{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new oS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,HT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const r=f=>{f.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>r(f)))};const o=f=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>o(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new qy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class yd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=hS(40);for(let f=0;f<o.length;++f)r.length<20&&o[f]<i&&(r+=e.charAt(o[f]%62))}return r}}function Dt(s,e){return s<e?-1:s>e?1:0}function Xf(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),f=e.charAt(r);if(o!==f)return Bf(o)===Bf(f)?Dt(o,f):Bf(o)?1:-1}return Dt(s.length,e.length)}const fS=55296,dS=57343;function Bf(s){const e=s.charCodeAt(0);return e>=fS&&e<=dS}function vs(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const ky="__name__";class mi{constructor(e,i,r){i===void 0?i=0:i>e.length&&ft(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&ft(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const f=mi.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return Dt(e.length,i.length)}static compareSegments(e,i){const r=mi.isNumericId(e),o=mi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?mi.extractNumericId(e).compare(mi.extractNumericId(i)):Xf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ra.fromString(e.substring(4,e.length-2))}}class re extends mi{construct(e,i,r){return new re(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new st(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const mS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends mi{construct(e,i,r){return new Ge(e,i,r)}static isValidIdentifier(e){return mS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ky}static keyField(){return new Ge([ky])}static fromServerFormat(e){const i=[];let r="",o=0;const f=()=>{if(r.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new st(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new st(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(f(),o++)}if(f(),d)throw new st(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}class ct{constructor(e){this.path=e}static fromPath(e){return new ct(re.fromString(e))}static fromName(e){return new ct(re.fromString(e).popFirst(5))}static empty(){return new ct(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return re.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new re(e.slice()))}}function gS(s,e,i){if(!i)throw new st(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function pS(s,e,i,r){if(e===!0&&r===!0)throw new st(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Hy(s){if(!ct.isDocumentKey(s))throw new st(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function av(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function _d(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ft(12329,{type:typeof s})}function _r(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new st(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_d(s);throw new st(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ce(s,e){const i={typeString:s};return e&&(i.value=e),i}function ao(s,e){if(!av(s))throw new st(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,f="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${r}' field to equal '${f.value}'`;break}}if(i)throw new st(X.INVALID_ARGUMENT,i);return!0}const Gy=-62135596800,Fy=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Fy);return new ee(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Gy)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fy}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ao(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Ce("string",ee._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new ee(0,0))}static max(){return new pt(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xl=-1;function yS(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=pt.fromTimestamp(r===1e9?new ee(i+1,0):new ee(i,r));return new wa(o,ct.empty(),e)}function _S(s){return new wa(s.readTime,s.key,Xl)}class wa{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new wa(pt.min(),ct.empty(),Xl)}static max(){return new wa(pt.max(),ct.empty(),Xl)}}function vS(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,e.documentKey),i!==0?i:Dt(s.largestBatchId,e.largestBatchId))}const ES="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ws(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==ES)throw s;nt("LocalStore","Unexpectedly lost primary lease")}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K(((r,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(r,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):K.reject(i)}static resolve(e){return new K(((i,r)=>{i(e)}))}static reject(e){return new K(((i,r)=>{r(e)}))}static waitFor(e){return new K(((i,r)=>{let o=0,f=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++f,d&&f===o&&i()}),(v=>r(v)))})),d=!0,f===o&&i()}))}static or(e){let i=K.resolve(!1);for(const r of e)i=i.next((o=>o?K.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,f)=>{r.push(i.call(this,o,f))})),this.waitFor(r)}static mapArray(e,i){return new K(((r,o)=>{const f=e.length,d=new Array(f);let y=0;for(let v=0;v<f;v++){const _=v;i(e[_]).next((S=>{d[_]=S,++y,y===f&&r(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new K(((r,o)=>{const f=()=>{e()===!0?i().next((()=>{f()}),o):r()};f()}))}}function SS(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ds(s){return s.name==="IndexedDbTransactionError"}class hc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hc.ce=-1;const vd=-1;function fc(s){return s==null}function tc(s){return s===0&&1/s==-1/0}function AS(s){return typeof s=="number"&&Number.isInteger(s)&&!tc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const rv="";function bS(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Qy(e)),e=RS(s.get(i),e);return Qy(e)}function RS(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const f=s.charAt(o);switch(f){case"\0":i+="";break;case rv:i+="";break;default:i+=f}}return i}function Qy(s){return s+rv+""}function Yy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Oa(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function sv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class se{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?r(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,r,o,f){this.key=e,this.value=i,this.color=r??He.RED,this.left=o??He.EMPTY,this.right=f??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,f){return new He(e??this.key,i??this.value,r??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const f=r(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,r),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ft(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ft(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw ft(57766)}get value(){throw ft(16141)}get color(){throw ft(16727)}get left(){throw ft(29726)}get right(){throw ft(36894)}copy(e,i,r,o,f){return this}insert(e,i,r){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ne{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ky(this.data.getIterator())}getIteratorFrom(e){return new Ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=r.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ne(this.comparator);return i.data=e,i}}class Ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _n{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new _n([])}unionWith(e){let i=new Ne(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new _n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class lv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new lv("Invalid base64 string: "+f):f}})(e);return new Fe(i)}static fromUint8Array(e){const i=(function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f})(e);return new Fe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const CS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(s){if(kt(!!s,39018),typeof s=="string"){let e=0;const i=CS.exec(s);if(kt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Va(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}const ov="server_timestamp",uv="__type__",cv="__previous_value__",hv="__local_write_time__";function Ed(s){return(s?.mapValue?.fields||{})[uv]?.stringValue===ov}function dc(s){const e=s.mapValue.fields[cv];return Ed(e)?dc(e):e}function Zl(s){const e=Da(s.mapValue.fields[hv].timestampValue);return new ee(e.seconds,e.nanos)}class wS{constructor(e,i,r,o,f,d,y,v,_,S,w){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=w}}const ec="(default)";class Jl{constructor(e,i){this.projectId=e,this.database=i||ec}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===ec}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}function DS(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new st(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(s.options.projectId,e)}const fv="__type__",VS="__max__",qu={mapValue:{}},dv="__vector__",nc="value";function xa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ed(s)?4:IS(s)?9007199254740991:xS(s)?10:11:ft(28295,{value:s})}function vi(s,e){if(s===e)return!0;const i=xa(s);if(i!==xa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zl(s).isEqual(Zl(e));case 3:return(function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=Da(o.timestampValue),y=Da(f.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,f){return Va(o.bytesValue).isEqual(Va(f.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,f){return me(o.geoPointValue.latitude)===me(f.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(f.geoPointValue.longitude)})(s,e);case 2:return(function(o,f){if("integerValue"in o&&"integerValue"in f)return me(o.integerValue)===me(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=me(o.doubleValue),y=me(f.doubleValue);return d===y?tc(d)===tc(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return vs(s.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return(function(o,f){const d=o.mapValue.fields||{},y=f.mapValue.fields||{};if(Yy(d)!==Yy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!vi(d[v],y[v])))return!1;return!0})(s,e);default:return ft(52216,{left:s})}}function $l(s,e){return(s.values||[]).find((i=>vi(i,e)))!==void 0}function Es(s,e){if(s===e)return 0;const i=xa(s),r=xa(e);if(i!==r)return Dt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,e.booleanValue);case 2:return(function(f,d){const y=me(f.integerValue||f.doubleValue),v=me(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return Xy(s.timestampValue,e.timestampValue);case 4:return Xy(Zl(s),Zl(e));case 5:return Xf(s.stringValue,e.stringValue);case 6:return(function(f,d){const y=Va(f),v=Va(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(f,d){const y=f.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const S=Dt(y[_],v[_]);if(S!==0)return S}return Dt(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(f,d){const y=Dt(me(f.latitude),me(d.latitude));return y!==0?y:Dt(me(f.longitude),me(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Zy(s.arrayValue,e.arrayValue);case 10:return(function(f,d){const y=f.fields||{},v=d.fields||{},_=y[nc]?.arrayValue,S=v[nc]?.arrayValue,w=Dt(_?.values?.length||0,S?.values?.length||0);return w!==0?w:Zy(_,S)})(s.mapValue,e.mapValue);case 11:return(function(f,d){if(f===qu.mapValue&&d===qu.mapValue)return 0;if(f===qu.mapValue)return 1;if(d===qu.mapValue)return-1;const y=f.fields||{},v=Object.keys(y),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let w=0;w<v.length&&w<S.length;++w){const O=Xf(v[w],S[w]);if(O!==0)return O;const F=Es(y[v[w]],_[S[w]]);if(F!==0)return F}return Dt(v.length,S.length)})(s.mapValue,e.mapValue);default:throw ft(23264,{he:i})}}function Xy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Dt(s,e);const i=Da(s),r=Da(e),o=Dt(i.seconds,r.seconds);return o!==0?o:Dt(i.nanos,r.nanos)}function Zy(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const f=Es(i[o],r[o]);if(f)return f}return Dt(i.length,r.length)}function Ts(s){return Zf(s)}function Zf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Da(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Va(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const f of i.values||[])o?o=!1:r+=",",r+=Zf(f);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of r)f?f=!1:o+=",",o+=`${d}:${Zf(i.fields[d])}`;return o+"}"})(s.mapValue):ft(61005,{value:s})}function Fu(s){switch(xa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dc(s);return e?16+Fu(e):16;case 5:return 2*s.stringValue.length;case 6:return Va(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,f)=>o+Fu(f)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Oa(r.fields,((f,d)=>{o+=f.length+Fu(d)})),o})(s.mapValue);default:throw ft(13486,{value:s})}}function Jf(s){return!!s&&"integerValue"in s}function Td(s){return!!s&&"arrayValue"in s}function Jy(s){return!!s&&"nullValue"in s}function $y(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Qu(s){return!!s&&"mapValue"in s}function xS(s){return(s?.mapValue?.fields||{})[fv]?.stringValue===dv}function kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Oa(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=kl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=kl(s.arrayValue.values[i]);return e}return{...s}}function IS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===VS}class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Qu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(i)}setAll(e){let i=Ge.emptyPath(),r={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=y.popLast()}d?r[y.lastSegment()]=kl(d):o.push(y.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,r,o)}delete(e){const i=this.field(e.popLast());Qu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Oa(i,((o,f)=>e[o]=f));for(const o of r)delete e[o]}clone(){return new on(kl(this.value))}}function mv(s){const e=[];return Oa(s.fields,((i,r)=>{const o=new Ge([i]);if(Qu(r)){const f=mv(r.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)})),new _n(e)}class Xe{constructor(e,i,r,o,f,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=f,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Xe(e,0,pt.min(),pt.min(),pt.min(),on.empty(),0)}static newFoundDocument(e,i,r,o){return new Xe(e,1,i,pt.min(),r,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,pt.min(),pt.min(),on.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,pt.min(),pt.min(),on.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ic{constructor(e,i){this.position=e,this.inclusive=i}}function Wy(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const f=e[o],d=s.position[o];if(f.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=Es(d,i.data.field(f.field)),f.dir==="desc"&&(r*=-1),r!==0)break}return r}function t_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!vi(s.position[i],e.position[i]))return!1;return!0}class ac{constructor(e,i="asc"){this.field=e,this.dir=i}}function NS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class gv{}class xe extends gv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new MS(e,i,r):i==="array-contains"?new LS(e,r):i==="in"?new BS(e,r):i==="not-in"?new jS(e,r):i==="array-contains-any"?new PS(e,r):new xe(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new zS(e,r):new US(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Es(i,this.value)):i!==null&&xa(this.value)===xa(i)&&this.matchesComparison(Es(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends gv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ei(e,i)}matches(e){return pv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pv(s){return s.op==="and"}function yv(s){return OS(s)&&pv(s)}function OS(s){for(const e of s.filters)if(e instanceof Ei)return!1;return!0}function $f(s){if(s instanceof xe)return s.field.canonicalString()+s.op.toString()+Ts(s.value);if(yv(s))return s.filters.map((e=>$f(e))).join(",");{const e=s.filters.map((i=>$f(i))).join(",");return`${s.op}(${e})`}}function _v(s,e){return s instanceof xe?(function(r,o){return o instanceof xe&&r.op===o.op&&r.field.isEqual(o.field)&&vi(r.value,o.value)})(s,e):s instanceof Ei?(function(r,o){return o instanceof Ei&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((f,d,y)=>f&&_v(d,o.filters[y])),!0):!1})(s,e):void ft(19439)}function vv(s){return s instanceof xe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ts(i.value)}`})(s):s instanceof Ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(vv).join(" ,")+"}"})(s):"Filter"}class MS extends xe{constructor(e,i,r){super(e,i,r),this.key=ct.fromName(r.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class zS extends xe{constructor(e,i){super(e,"in",i),this.keys=Ev("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class US extends xe{constructor(e,i){super(e,"not-in",i),this.keys=Ev("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Ev(s,e){return(e.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class LS extends xe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Td(i)&&$l(i.arrayValue,this.value)}}class BS extends xe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class jS extends xe{constructor(e,i){super(e,"not-in",i)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$l(this.value.arrayValue,i)}}class PS extends xe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Td(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>$l(this.value.arrayValue,r)))}}class qS{constructor(e,i=null,r=[],o=[],f=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=f,this.startAt=d,this.endAt=y,this.Te=null}}function e_(s,e=null,i=[],r=[],o=null,f=null,d=null){return new qS(s,e,i,r,o,f,d)}function Sd(s){const e=_t(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>$f(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(f){return f.field.canonicalString()+f.dir})(r))).join(","),fc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Ts(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Ts(r))).join(",")),e.Te=i}return e.Te}function Ad(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!NS(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!_v(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!t_(s.startAt,e.startAt)&&t_(s.endAt,e.endAt)}function Wf(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class mc{constructor(e,i=null,r=[],o=[],f=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=f,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function kS(s,e,i,r,o,f,d,y){return new mc(s,e,i,r,o,f,d,y)}function bd(s){return new mc(s)}function n_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function HS(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function GS(s){return s.collectionGroup!==null}function Hl(s){const e=_t(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ne(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new ac(f,r))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new ac(Ge.keyField(),r))}return e.Ie}function gi(s){const e=_t(s);return e.Ee||(e.Ee=FS(e,Hl(s))),e.Ee}function FS(s,e){if(s.limitType==="F")return e_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const f=o.dir==="desc"?"asc":"desc";return new ac(o.field,f)}));const i=s.endAt?new ic(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ic(s.startAt.position,s.startAt.inclusive):null;return e_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function td(s,e,i){return new mc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function gc(s,e){return Ad(gi(s),gi(e))&&s.limitType===e.limitType}function Tv(s){return`${Sd(gi(s))}|lt:${s.limitType}`}function ds(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>vv(o))).join(", ")}]`),fc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Ts(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Ts(o))).join(",")),`Target(${r})`})(gi(s))}; limitType=${s.limitType})`}function pc(s,e){return e.isFoundDocument()&&(function(r,o){const f=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(f):ct.isDocumentKey(r.path)?r.path.isEqual(f):r.path.isImmediateParentOf(f)})(s,e)&&(function(r,o){for(const f of Hl(r))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const f of r.filters)if(!f.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,y,v){const _=Wy(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,Hl(r),o)||r.endAt&&!(function(d,y,v){const _=Wy(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,Hl(r),o))})(s,e)}function QS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Sv(s){return(e,i)=>{let r=!1;for(const o of Hl(s)){const f=YS(o,e,i);if(f!==0)return f;r=r||o.field.isKeyField()}return 0}}function YS(s,e,i){const r=s.field.isKeyField()?ct.comparator(e.key,i.key):(function(f,d,y){const v=d.data.field(f),_=y.data.field(f);return v!==null&&_!==null?Es(v,_):ft(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ft(19790,{direction:s.dir})}}class Er{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,f]of r)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,((i,r)=>{for(const[o,f]of r)e(o,f)}))}isEmpty(){return sv(this.inner)}size(){return this.innerSize}}const KS=new se(ct.comparator);function ki(){return KS}const Av=new se(ct.comparator);function Bl(...s){let e=Av;for(const i of s)e=e.insert(i.key,i);return e}function bv(s){let e=Av;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function dr(){return Gl()}function Rv(){return Gl()}function Gl(){return new Er((s=>s.toString()),((s,e)=>s.isEqual(e)))}const XS=new se(ct.comparator),ZS=new Ne(ct.comparator);function Vt(...s){let e=ZS;for(const i of s)e=e.add(i);return e}const JS=new Ne(Dt);function $S(){return JS}function Rd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function Cv(s){return{integerValue:""+s}}function wv(s,e){return AS(e)?Cv(e):Rd(s,e)}class yc{constructor(){this._=void 0}}function WS(s,e,i){return s instanceof rc?(function(o,f){const d={fields:{[uv]:{stringValue:ov},[hv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&Ed(f)&&(f=dc(f)),f&&(d.fields[cv]=f),{mapValue:d}})(i,e):s instanceof Wl?Vv(s,e):s instanceof to?xv(s,e):(function(o,f){const d=Dv(o,f),y=i_(d)+i_(o.Ae);return Jf(d)&&Jf(o.Ae)?Cv(y):Rd(o.serializer,y)})(s,e)}function tA(s,e,i){return s instanceof Wl?Vv(s,e):s instanceof to?xv(s,e):i}function Dv(s,e){return s instanceof eo?(function(r){return Jf(r)||(function(f){return!!f&&"doubleValue"in f})(r)})(e)?e:{integerValue:0}:null}class rc extends yc{}class Wl extends yc{constructor(e){super(),this.elements=e}}function Vv(s,e){const i=Iv(e);for(const r of s.elements)i.some((o=>vi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class to extends yc{constructor(e){super(),this.elements=e}}function xv(s,e){let i=Iv(e);for(const r of s.elements)i=i.filter((o=>!vi(o,r)));return{arrayValue:{values:i}}}class eo extends yc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function i_(s){return me(s.integerValue||s.doubleValue)}function Iv(s){return Td(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class eA{constructor(e,i){this.field=e,this.transform=i}}function nA(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Wl&&o instanceof Wl||r instanceof to&&o instanceof to?vs(r.elements,o.elements,vi):r instanceof eo&&o instanceof eo?vi(r.Ae,o.Ae):r instanceof rc&&o instanceof rc})(s.transform,e.transform)}class iA{constructor(e,i){this.version=e,this.transformResults=i}}class pi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class _c{}function Nv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Mv(s.key,pi.none()):new ro(s.key,s.data,pi.none());{const i=s.data,r=on.empty();let o=new Ne(Ge.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?r.delete(f):r.set(f,d),o=o.add(f)}return new Ma(s.key,r,new _n(o.toArray()),pi.none())}}function aA(s,e,i){s instanceof ro?(function(o,f,d){const y=o.value.clone(),v=r_(o.fieldTransforms,f,d.transformResults);y.setAll(v),f.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Ma?(function(o,f,d){if(!Yu(o.precondition,f))return void f.convertToUnknownDocument(d.version);const y=r_(o.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(Ov(o)),v.setAll(y),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fl(s,e,i,r){return s instanceof ro?(function(f,d,y,v){if(!Yu(f.precondition,d))return y;const _=f.value.clone(),S=s_(f.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Ma?(function(f,d,y,v){if(!Yu(f.precondition,d))return y;const _=s_(f.fieldTransforms,v,d),S=d.data;return S.setAll(Ov(f)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(f,d,y){return Yu(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function rA(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),f=Dv(r.transform,o||null);f!=null&&(i===null&&(i=on.empty()),i.set(r.field,f))}return i||null}function a_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&vs(r,o,((f,d)=>nA(f,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ro extends _c{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ma extends _c{constructor(e,i,r,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Ov(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function r_(s,e,i){const r=new Map;kt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const f=s[o],d=f.transform,y=e.data.field(f.field);r.set(f.field,tA(d,y,i[o]))}return r}function s_(s,e,i){const r=new Map;for(const o of s){const f=o.transform,d=i.data.field(o.field);r.set(o.field,WS(f,d,e))}return r}class Mv extends _c{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sA extends _c{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lA{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&aA(f,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Rv();return this.mutations.forEach((o=>{const f=e.get(o.key),d=f.overlayedDocument;let y=this.applyToLocalView(d,f.mutatedFields);y=i.has(o.key)?null:y;const v=Nv(d,y);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(pt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Vt())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,((i,r)=>a_(i,r)))&&vs(this.baseMutations,e.baseMutations,((i,r)=>a_(i,r)))}}class Cd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return XS})();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,r[d].version);return new Cd(e,i,r,o)}}class oA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uA{constructor(e,i){this.count=e,this.unchangedNames=i}}var be,Mt;function cA(s){switch(s){case X.OK:return ft(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ft(15467,{code:s})}}function zv(s){if(s===void 0)return qi("GRPC error has no .code"),X.UNKNOWN;switch(s){case be.OK:return X.OK;case be.CANCELLED:return X.CANCELLED;case be.UNKNOWN:return X.UNKNOWN;case be.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case be.INTERNAL:return X.INTERNAL;case be.UNAVAILABLE:return X.UNAVAILABLE;case be.UNAUTHENTICATED:return X.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case be.NOT_FOUND:return X.NOT_FOUND;case be.ALREADY_EXISTS:return X.ALREADY_EXISTS;case be.PERMISSION_DENIED:return X.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case be.ABORTED:return X.ABORTED;case be.OUT_OF_RANGE:return X.OUT_OF_RANGE;case be.UNIMPLEMENTED:return X.UNIMPLEMENTED;case be.DATA_LOSS:return X.DATA_LOSS;default:return ft(39323,{code:s})}}(Mt=be||(be={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";function hA(){return new TextEncoder}const fA=new Ra([4294967295,4294967295],0);function l_(s){const e=hA().encode(s),i=new Z_;return i.update(e),new Uint8Array(i.digest())}function o_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Ra([i,r],0),new Ra([o,f],0)]}class wd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new jl(`Invalid padding: ${i}`);if(r<0)throw new jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new jl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ra.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ra.fromNumber(r)));return o.compare(fA)===1&&(o=new Ra([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=l_(e),[r,o]=o_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(r,o,f);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new wd(f,o,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=l_(e),[r,o]=o_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(r,o,f);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vc{constructor(e,i,r,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,so.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new vc(pt.min(),o,new se(Dt),ki(),Vt())}}class so{constructor(e,i,r,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new so(r,i,Vt(),Vt(),Vt())}}class Ku{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Uv{constructor(e,i){this.targetId=e,this.Ce=i}}class Lv{constructor(e,i,r=Fe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class u_{constructor(){this.ve=0,this.Fe=c_(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),r=Vt();return this.Fe.forEach(((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:ft(38017,{changeType:f})}})),new so(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=c_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class dA{constructor(e){this.Ge=e,this.ze=new Map,this.je=ki(),this.He=ku(),this.Je=ku(),this.Ze=new se(Dt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:ft(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const f=o.target;if(Wf(f))if(r===0){const d=new ct(f.path);this.et(i,d,Xe.newNoDocument(d,pt.min()))}else kt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:f=0}=i;let d,y;try{d=Va(r).toUint8Array()}catch(v){if(v instanceof lv)return yr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new wd(d,o,f)}catch(v){return yr(v instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((f=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(y)||(this.et(i,f,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((f,d)=>{const y=this.ot(d);if(y){if(f.current&&Wf(y.target)){const v=new ct(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}f.Be&&(i.set(d,f.ke()),f.Ke())}}));let r=Vt();this.Je.forEach(((f,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(f))})),this.je.forEach(((f,d)=>d.setReadTime(e)));const o=new vc(e,i,this.Ze,this.je,r);return this.je=ki(),this.He=ku(),this.Je=ku(),this.Ze=new se(Dt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new u_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ne(Dt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ne(Dt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function ku(){return new se(ct.comparator)}function c_(){return new se(ct.comparator)}const mA={asc:"ASCENDING",desc:"DESCENDING"},gA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pA={and:"AND",or:"OR"};class yA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ed(s,e){return s.useProto3Json||fc(e)?e:{value:e}}function sc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function _A(s,e){return sc(s,e.toTimestamp())}function yi(s){return kt(!!s,49232),pt.fromTimestamp((function(i){const r=Da(i);return new ee(r.seconds,r.nanos)})(s))}function Dd(s,e){return nd(s,e).canonicalString()}function nd(s,e){const i=(function(o){return new re(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function jv(s){const e=re.fromString(s);return kt(Gv(e),10190,{key:e.toString()}),e}function id(s,e){return Dd(s.databaseId,e.path)}function jf(s,e){const i=jv(e);if(i.get(1)!==s.databaseId.projectId)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(qv(i))}function Pv(s,e){return Dd(s.databaseId,e)}function vA(s){const e=jv(s);return e.length===4?re.emptyPath():qv(e)}function ad(s){return new re(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function qv(s){return kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function h_(s,e,i){return{name:id(s,e),fields:i.value.mapValue.fields}}function EA(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ft(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=(function(_,S){return _.useProto3Json?(kt(S===void 0||typeof S=="string",58123),Fe.fromBase64String(S||"")):(kt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Fe.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?X.UNKNOWN:zv(_.code);return new st(S,_.message||"")})(d);i=new Lv(r,o,f,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=jf(s,r.document.name),f=yi(r.document.updateTime),d=r.document.createTime?yi(r.document.createTime):pt.min(),y=new on({mapValue:{fields:r.document.fields}}),v=Xe.newFoundDocument(o,f,d,y),_=r.targetIds||[],S=r.removedTargetIds||[];i=new Ku(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=jf(s,r.document),f=r.readTime?yi(r.readTime):pt.min(),d=Xe.newNoDocument(o,f),y=r.removedTargetIds||[];i=new Ku([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=jf(s,r.document),f=r.removedTargetIds||[];i=new Ku([],f,o,null)}else{if(!("filter"in e))return ft(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:f}=r,d=new uA(o,f),y=r.targetId;i=new Uv(y,d)}}return i}function TA(s,e){let i;if(e instanceof ro)i={update:h_(s,e.key,e.value)};else if(e instanceof Mv)i={delete:id(s,e.key)};else if(e instanceof Ma)i={update:h_(s,e.key,e.data),updateMask:xA(e.fieldMask)};else{if(!(e instanceof sA))return ft(16599,{dt:e.type});i={verify:id(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(f,d){const y=d.transform;if(y instanceof rc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof to)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof eo)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw ft(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,f){return f.updateTime!==void 0?{updateTime:_A(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:ft(27497)})(s,e.precondition)),i}function SA(s,e){return s&&s.length>0?(kt(e!==void 0,14353),s.map((i=>(function(o,f){let d=o.updateTime?yi(o.updateTime):yi(f);return d.isEqual(pt.min())&&(d=yi(f)),new iA(d,o.transformResults||[])})(i,e)))):[]}function AA(s,e){return{documents:[Pv(s,e.path)]}}function bA(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Pv(s,o);const f=(function(_){if(_.length!==0)return Hv(Ei.create(_,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(_){if(_.length!==0)return _.map((S=>(function(O){return{field:ms(O.field),direction:wA(O.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=ed(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function RA(s){let e=vA(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){kt(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let f=[];i.where&&(f=(function(w){const O=kv(w);return O instanceof Ei&&yv(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((O=>(function(J){return new ac(gs(J.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(O)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let O;return O=typeof w=="object"?w.value:w,fc(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(w){const O=!!w.before,F=w.values||[];return new ic(F,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const O=!w.before,F=w.values||[];return new ic(F,O)})(i.endAt)),kS(e,o,d,f,y,"F",v,_)}function CA(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function kv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=gs(i.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=gs(i.unaryFilter.field);return xe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=gs(i.unaryFilter.field);return xe.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gs(i.unaryFilter.field);return xe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ft(61313);default:return ft(60726)}})(s):s.fieldFilter!==void 0?(function(i){return xe.create(gs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ft(58110);default:return ft(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ei.create(i.compositeFilter.filters.map((r=>kv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ft(1026)}})(i.compositeFilter.op))})(s):ft(30097,{filter:s})}function wA(s){return mA[s]}function DA(s){return gA[s]}function VA(s){return pA[s]}function ms(s){return{fieldPath:s.canonicalString()}}function gs(s){return Ge.fromServerFormat(s.fieldPath)}function Hv(s){return s instanceof xe?(function(i){if(i.op==="=="){if($y(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NAN"}};if(Jy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if($y(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NAN"}};if(Jy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(i.field),op:DA(i.op),value:i.value}}})(s):s instanceof Ei?(function(i){const r=i.getFilters().map((o=>Hv(o)));return r.length===1?r[0]:{compositeFilter:{op:VA(i.op),filters:r}}})(s):ft(54877,{filter:s})}function xA(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Gv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function Fv(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Sa{constructor(e,i,r,o,f=pt.min(),d=pt.min(),y=Fe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class IA{constructor(e){this.yt=e}}function NA(s){const e=RA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?td(e,e.limit,"L"):e}class OA{constructor(){this.Sn=new MA}addToCollectionParentIndex(e,i){return this.Sn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(wa.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(wa.min())}updateCollectionGroup(e,i,r){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class MA{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ne(re.comparator),f=!o.has(r);return this.index[i]=o.add(r),f}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ne(re.comparator)).toArray()}}const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qv=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(Qv,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class Ss{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ss(0)}static ar(){return new Ss(-1)}}const d_="LruGarbageCollector",zA=1048576;function m_([s,e],[i,r]){const o=Dt(s,i);return o===0?Dt(e,r):o}class UA{constructor(e){this.Pr=e,this.buffer=new Ne(m_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();m_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class LA{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){nt(d_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ds(i)?nt(d_,"Ignoring IndexedDB error during garbage collection: ",i):await ws(i)}await this.Ar(3e5)}))}}class BA{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return K.resolve(hc.ce);const r=new UA(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(f_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,f,d,y,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,y=Date.now(),this.removeTargets(e,r,i)))).next((w=>(f=w,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(_=Date.now(),fs()<=zt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${f} targets in `+(v-y)+`ms
	Removed ${w} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:w}))))}}function jA(s,e){return new BA(s,e)}class PA{constructor(){this.changes=new Er((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?K.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class kA{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Fl(r.mutation,o,_n.empty(),ee.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Vt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Vt()){const o=dr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((f=>{let d=Bl();return f.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=dr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Vt())))}populateOverlays(e,i,r){const o=[];return r.forEach((f=>{i.has(f)||o.push(f)})),this.documentOverlayCache.getOverlays(e,o).next((f=>{f.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,o){let f=ki();const d=Gl(),y=(function(){return Gl()})();return i.forEach(((v,_)=>{const S=r.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof Ma)?f=f.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Fl(S.mutation,_,S.mutation.getFieldMask(),ee.now())):d.set(_.key,_n.empty())})),this.recalculateAndSaveOverlays(e,f).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new qA(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=Gl();let o=new se(((d,y)=>d-y)),f=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=r.get(v)||_n.empty();S=y.applyToLocalView(_,S),r.set(v,S);const w=(o.get(y.batchId)||Vt()).add(v);o=o.insert(y.batchId,w)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,S=v.value,w=Rv();S.forEach((O=>{if(!f.has(O)){const F=Nv(i.get(O),r.get(O));F!==null&&w.set(O,F),f=f.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return K.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return HS(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):GS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-f.size):K.resolve(dr());let y=Xl,v=f;return d.next((_=>K.forEach(_,((S,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),f.get(S)?K.resolve():this.remoteDocumentCache.getEntry(e,S).next((O=>{v=v.insert(S,O)}))))).next((()=>this.populateOverlays(e,_,f))).next((()=>this.computeViews(e,v,_,Vt()))).next((S=>({batchId:y,changes:bv(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next((r=>{let o=Bl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const f=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,f).next((y=>K.forEach(y,(v=>{const _=(function(w,O){return new mc(O,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((S=>{S.forEach(((w,O)=>{d=d.insert(w,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,f,o)))).next((d=>{f.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Xe.newInvalidDocument(S)))}));let y=Bl();return d.forEach(((v,_)=>{const S=f.get(v);S!==void 0&&Fl(S.mutation,_,_n.empty(),ee.now()),pc(i,_)&&(y=y.insert(v,_))})),y}))}}class HA{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return K.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}})(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:NA(o.bundledQuery),readTime:yi(o.readTime)}})(i)),K.resolve()}}class GA{constructor(){this.overlays=new se(ct.comparator),this.Lr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const r=dr();return K.forEach(i,(o=>this.getOverlay(e,o).next((f=>{f!==null&&r.set(o,f)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,f)=>{this.bt(e,i,f)})),K.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((f=>this.overlays=this.overlays.remove(f))),this.Lr.delete(r)),K.resolve()}getOverlaysForCollection(e,i,r){const o=dr(),f=i.length+1,d=new ct(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>r&&o.set(v.getKey(),v)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let f=new se(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let S=f.get(_.largestBatchId);S===null&&(S=dr(),f=f.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=dr(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=o)););return K.resolve(y)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new oA(i,r));let f=this.Lr.get(i);f===void 0&&(f=Vt(),this.Lr.set(i,f)),this.Lr.set(i,f.add(r.key))}}class FA{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}class Vd{constructor(){this.kr=new Ne(Ue.Kr),this.qr=new Ne(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Ue(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Ue(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new ct(new re([])),r=new Ue(i,e),o=new Ue(i,e+1),f=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),f.push(d.key)})),f}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ct(new re([])),r=new Ue(i,e),o=new Ue(i,e+1);let f=Vt();return this.qr.forEachInRange([r,o],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new Ue(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ct.comparator(e.key,i.key)||Dt(e.Hr,i.Hr)}static Ur(e,i){return Dt(e.Hr,i.Hr)||ct.comparator(e.key,i.key)}}class QA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ne(Ue.Kr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const f=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new lA(f,i,r,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new Ue(y.key,f)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),f=o<0?0:o;return K.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?vd:this.Yn-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),f=[];return this.Jr.forEachInRange([r,o],(d=>{const y=this.Zr(d.Hr);f.push(y)})),K.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ne(Dt);return i.forEach((o=>{const f=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([f,d],(y=>{r=r.add(y.Hr)}))})),K.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let f=r;ct.isDocumentKey(f)||(f=f.child(""));const d=new Ue(new ct(f),0);let y=new Ne(Dt);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Hr)),!0)}),d),K.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){kt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return K.forEach(i.mutations,(o=>{const f=new Ue(o.key,i.batchId);return r=r.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Ue(i,0),o=this.Jr.firstAfterOrEqual(r);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class YA{constructor(e){this.ti=e,this.docs=(function(){return new se(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),f=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return K.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let r=ki();return i.forEach((o=>{const f=this.docs.get(o);r=r.insert(o,f?f.document.mutableCopy():Xe.newInvalidDocument(o))})),K.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let f=ki();const d=i.path,y=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||vS(_S(S),r)<=0||(o.has(S.key)||pc(i,S))&&(f=f.insert(S.key,S.mutableCopy()))}return K.resolve(f)}getAllFromCollectionGroup(e,i,r,o){ft(9500)}ni(e,i){return K.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new KA(this)}getSize(e){return K.resolve(this.size)}}class KA extends PA{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),K.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class XA{constructor(e){this.persistence=e,this.ri=new Er((i=>Sd(i)),Ad),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.ii=0,this.si=new Vd,this.targetCount=0,this.oi=Ss._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),K.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Ss(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.lr(i),K.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,r){let o=0;const f=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.ri.delete(d),f.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),K.waitFor(f).next((()=>o))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return K.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),K.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach((d=>{f.push(o.markPotentiallyOrphaned(e,d))})),K.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return K.resolve(r)}containsKey(e,i){return K.resolve(this.si.containsKey(i))}}class Yv{constructor(e,i){this._i={},this.overlays={},this.ai=new hc(0),this.ui=!1,this.ui=!0,this.ci=new FA,this.referenceDelegate=e(this),this.li=new XA(this),this.indexManager=new OA,this.remoteDocumentCache=(function(o){return new YA(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new IA(i),this.Pi=new HA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new GA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new QA(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){nt("MemoryPersistence","Starting transaction:",e);const o=new ZA(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((f=>this.referenceDelegate.Ii(o).next((()=>f)))).toPromise().then((f=>(o.raiseOnCommittedEvent(),f)))}Ei(e,i){return K.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class ZA extends TS{constructor(e){super(),this.currentSequenceNumber=e}}class xd{constructor(e){this.persistence=e,this.Ri=new Vd,this.Ai=null}static Vi(e){return new xd(e)}get di(){if(this.Ai)return this.Ai;throw ft(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),K.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((f=>this.di.add(f.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,(r=>{const o=ct.fromPath(r);return this.mi(e,o).next((f=>{f||i.removeEntry(o,pt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class lc{constructor(e,i){this.persistence=e,this.fi=new Er((r=>bS(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=jA(this,i)}static Vi(e,i){return new lc(e,i)}Ti(){}Ii(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return K.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((f=>f?K.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(r++,f.removeEntry(d,pt.min()))})))).next((()=>f.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),K.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fu(e.data.value)),i}wr(e,i,r){return K.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return K.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Id{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Vt(),o=Vt();for(const f of i.docChanges)switch(f.type){case 0:r=r.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new Id(e,i.fromCache,r,o)}}class JA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $A{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return P1()?8:SS(B1())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const f={result:null};return this.gs(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ps(e,i,o,r).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new JA;return this.ys(e,i,d).next((y=>{if(f.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>f.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(fs()<=zt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(fs()<=zt.DEBUG&&nt("QueryEngine","Query:",ds(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(fs()<=zt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(i))):K.resolve())}gs(e,i){if(n_(i))return K.resolve(null);let r=gi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=td(i,null,"F"),r=gi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((f=>{const d=Vt(...f);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.bs(i,y);return this.Ss(i,_,d,v.readTime)?this.gs(e,td(i,null,"F")):this.Ds(e,_,i,v)}))))})))))}ps(e,i,r,o){return n_(i)||o.isEqual(pt.min())?K.resolve(null):this.fs.getDocuments(e,r).next((f=>{const d=this.bs(i,f);return this.Ss(i,d,r,o)?K.resolve(null):(fs()<=zt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ds(i)),this.Ds(e,d,i,yS(o,Xl)).next((y=>y)))}))}bs(e,i){let r=new Ne(Sv(e));return i.forEach(((o,f)=>{pc(e,f)&&(r=r.add(f))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}ys(e,i,r){return fs()<=zt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",ds(i)),this.fs.getDocumentsMatchingQuery(e,i,wa.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}const Nd="LocalStore",WA=3e8;class t2{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new se(Dt),this.Fs=new Er((f=>Sd(f)),Ad),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function e2(s,e,i,r){return new t2(s,e,i,r)}async function Kv(s,e){const i=_t(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((f=>(o=f,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((f=>{const d=[],y=[];let v=Vt();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of f){y.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function n2(s,e){const i=_t(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),f=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,S){const w=_.batch,O=w.keys();let F=K.resolve();return O.forEach((J=>{F=F.next((()=>S.getEntry(v,J))).next((et=>{const tt=_.docVersions.get(J);kt(tt!==null,48541),et.version.compareTo(tt)<0&&(w.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),S.addEntry(et)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(v,w)))})(i,r,e,f).next((()=>f.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=Vt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Xv(s){const e=_t(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function i2(s,e){const i=_t(s),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const y=[];e.targetChanges.forEach(((S,w)=>{const O=o.get(w);if(!O)return;y.push(i.li.removeMatchingKeys(f,S.removedDocuments,w).next((()=>i.li.addMatchingKeys(f,S.addedDocuments,w))));let F=O.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(w)!==null?F=F.withResumeToken(Fe.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):S.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(S.resumeToken,r)),o=o.insert(w,F),(function(et,tt,dt){return et.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=WA?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(O,F,S)&&y.push(i.li.updateTargetData(f,F))}));let v=ki(),_=Vt();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(f,S))})),y.push(a2(f,d,e.documentUpdates).next((S=>{v=S.Bs,_=S.Ls}))),!r.isEqual(pt.min())){const S=i.li.getLastRemoteSnapshotVersion(f).next((w=>i.li.setTargetsMetadata(f,f.currentSequenceNumber,r)));y.push(S)}return K.waitFor(y).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,v,_))).next((()=>v))})).then((f=>(i.vs=o,f)))}function a2(s,e,i){let r=Vt(),o=Vt();return i.forEach((f=>r=r.add(f))),e.getEntries(s,r).next((f=>{let d=ki();return i.forEach(((y,v)=>{const _=f.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(pt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):nt(Nd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function r2(s,e){const i=_t(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=vd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function s2(s,e){const i=_t(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((f=>f?(o=f,K.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Sa(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function rd(s,e,i){const r=_t(s),o=r.vs.get(e),f=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",f,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ds(d))throw d;nt(Nd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function g_(s,e,i){const r=_t(s);let o=pt.min(),f=Vt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const w=_t(v),O=w.Fs.get(S);return O!==void 0?K.resolve(w.vs.get(O)):w.li.getTargetData(_,S)})(r,d,gi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,y.targetId).next((v=>{f=v}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:pt.min(),i?f:Vt()))).next((y=>(l2(r,QS(e),y),{documents:y,ks:f})))))}function l2(s,e,i){let r=s.Ms.get(e)||pt.min();i.forEach(((o,f)=>{f.readTime.compareTo(r)>0&&(r=f.readTime)})),s.Ms.set(e,r)}class p_{constructor(){this.activeTargetIds=$S()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o2{constructor(){this.vo=new p_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new p_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class u2{Mo(e){}shutdown(){}}const y_="ConnectivityMonitor";class __{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){nt(y_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){nt(y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hu=null;function sd(){return Hu===null?Hu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hu++,"0x"+Hu.toString(16)}const Pf="RestConnection",c2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class h2{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===ec?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,f){const d=sd(),y=this.Qo(e,i.toUriEncodedString());nt(Pf,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,f);const{host:_}=new URL(y),S=md(_);return this.zo(e,y,v,r,S).then((w=>(nt(Pf,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw yr(Pf,`RPC '${e}' ${d} failed with error: `,w,"url: ",y,"request:",r),w}))}jo(e,i,r,o,f,d){return this.Wo(e,i,r,o,f)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Cs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,f)=>e[f]=o)),r&&r.headers.forEach(((o,f)=>e[f]=o))}Qo(e,i){const r=c2[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class f2{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Ye="WebChannelConnection",Ul=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ys extends h2{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ys.c_){const e=tv();Ul(e,W_.STAT_EVENT,(i=>{i.stat===Kf.PROXY?nt(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===Kf.NOPROXY&&nt(Ye,"STAT_EVENT: detected no buffering proxy")})),ys.c_=!0}}zo(e,i,r,o,f){const d=sd();return new Promise(((y,v)=>{const _=new J_;_.setWithCredentials(!0),_.listenOnce($_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Gu.NO_ERROR:const w=_.getResponseJson();nt(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),y(w);break;case Gu.TIMEOUT:nt(Ye,`RPC '${e}' ${d} timed out`),v(new st(X.DEADLINE_EXCEEDED,"Request time out"));break;case Gu.HTTP_ERROR:const O=_.getStatus();if(nt(Ye,`RPC '${e}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const et=(function(dt){const Tt=dt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Tt)>=0?Tt:X.UNKNOWN})(J.status);v(new st(et,J.message))}else v(new st(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new st(X.UNAVAILABLE,"Connection failed."));break;default:ft(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{nt(Ye,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);nt(Ye,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,r,15)}))}T_(e,i,r){const o=sd(),f=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const _=f.join("");nt(Ye,`Creating RPC '${e}' stream ${o}: ${_}`,y);const S=d.createWebChannel(_,y);this.I_(S);let w=!1,O=!1;const F=new f2({Ho:J=>{O?nt(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(w||(nt(Ye,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),nt(Ye,`RPC '${e}' stream ${o} sending:`,J),S.send(J))},Jo:()=>S.close()});return Ul(S,Ll.EventType.OPEN,(()=>{O||(nt(Ye,`RPC '${e}' stream ${o} transport opened.`),F.i_())})),Ul(S,Ll.EventType.CLOSE,(()=>{O||(O=!0,nt(Ye,`RPC '${e}' stream ${o} transport closed`),F.o_(),this.E_(S))})),Ul(S,Ll.EventType.ERROR,(J=>{O||(O=!0,yr(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),F.o_(new st(X.UNAVAILABLE,"The operation could not be completed")))})),Ul(S,Ll.EventType.MESSAGE,(J=>{if(!O){const et=J.data[0];kt(!!et,16349);const tt=et,dt=tt?.error||tt[0]?.error;if(dt){nt(Ye,`RPC '${e}' stream ${o} received error:`,dt);const Tt=dt.status;let mt=(function(It){const D=be[It];if(D!==void 0)return zv(D)})(Tt),xt=dt.message;Tt==="NOT_FOUND"&&xt.includes("database")&&xt.includes("does not exist")&&xt.includes(this.databaseId.database)&&yr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),mt===void 0&&(mt=X.INTERNAL,xt="Unknown error status: "+Tt+" with message "+dt.message),O=!0,F.o_(new st(mt,xt)),S.close()}else nt(Ye,`RPC '${e}' stream ${o} received:`,et),F.__(et)}})),ys.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ev()}}function d2(s){return new ys(s)}function qf(){return typeof document<"u"?document:null}function Ec(s){return new yA(s,!0)}ys.c_=!1;class Zv{constructor(e,i,r=1e3,o=1.5,f=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=f,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const v_="PersistentStream";class Jv{constructor(e,i,r,o,f,d,y,v){this.Ci=e,this.b_=r,this.S_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Zv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(qi(i.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new st(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return nt(v_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(nt(v_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class m2 extends Jv{constructor(e,i,r,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=EA(this.serializer,e),r=(function(f){if(!("targetChange"in f))return pt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?yi(d.readTime):pt.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=ad(this.serializer),i.addTarget=(function(f,d){let y;const v=d.target;if(y=Wf(v)?{documents:AA(f,v)}:{query:bA(f,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Bv(f,d.resumeToken);const _=ed(f,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(pt.min())>0){y.readTime=sc(f,d.snapshotVersion.toTimestamp());const _=ed(f,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=CA(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=ad(this.serializer),i.removeTarget=e,this.K_(i)}}class g2 extends Jv{constructor(e,i,r,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=f}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=SA(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=ad(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>TA(this.serializer,r)))};this.K_(i)}}class p2{}class y2 extends p2{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Wo(e,nd(i,r),o,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new st(X.UNKNOWN,f.toString())}))}jo(e,i,r,o,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,nd(i,r),o,d,y,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function _2(s,e,i,r){return new y2(s,e,i,r)}class v2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qi(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vr="RemoteStore";class E2{constructor(e,i,r,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=f,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Tr(this)&&(nt(vr,"Restarting streams for network reachability change."),await(async function(v){const _=_t(v);_.Ea.add(4),await lo(_),_.Va.set("Unknown"),_.Ea.delete(4),await Tc(_)})(this))}))})),this.Va=new v2(r,o)}}async function Tc(s){if(Tr(s))for(const e of s.Ra)await e(!0)}async function lo(s){for(const e of s.Ra)await e(!1)}function $v(s,e){const i=_t(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Ud(i)?zd(i):Vs(i).O_()&&Md(i,e))}function Od(s,e){const i=_t(s),r=Vs(i);i.Ia.delete(e),r.O_()&&Wv(i,e),i.Ia.size===0&&(r.O_()?r.L_():Tr(i)&&i.Va.set("Unknown"))}function Md(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Vs(s).Z_(e)}function Wv(s,e){s.da.$e(e),Vs(s).X_(e)}function zd(s){s.da=new dA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Vs(s).start(),s.Va.ua()}function Ud(s){return Tr(s)&&!Vs(s).x_()&&s.Ia.size>0}function Tr(s){return _t(s).Ea.size===0}function t0(s){s.da=void 0}async function T2(s){s.Va.set("Online")}async function S2(s){s.Ia.forEach(((e,i)=>{Md(s,e)}))}async function A2(s,e){t0(s),Ud(s)?(s.Va.ha(e),zd(s)):s.Va.set("Unknown")}async function b2(s,e,i){if(s.Va.set("Online"),e instanceof Lv&&e.state===2&&e.cause)try{await(async function(o,f){const d=f.cause;for(const y of f.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(s,e)}catch(r){nt(vr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await oc(s,r)}else if(e instanceof Ku?s.da.Xe(e):e instanceof Uv?s.da.st(e):s.da.tt(e),!i.isEqual(pt.min()))try{const r=await Xv(s.localStore);i.compareTo(r)>=0&&await(function(f,d){const y=f.da.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=f.Ia.get(_);S&&f.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const S=f.Ia.get(v);if(!S)return;f.Ia.set(v,S.withResumeToken(Fe.EMPTY_BYTE_STRING,S.snapshotVersion)),Wv(f,v);const w=new Sa(S.target,v,_,S.sequenceNumber);Md(f,w)})),f.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){nt(vr,"Failed to raise snapshot:",r),await oc(s,r)}}async function oc(s,e,i){if(!Ds(e))throw e;s.Ea.add(1),await lo(s),s.Va.set("Offline"),i||(i=()=>Xv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{nt(vr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Tc(s)}))}function e0(s,e){return e().catch((i=>oc(s,i,e)))}async function Sc(s){const e=_t(s),i=Ia(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vd;for(;R2(e);)try{const o=await r2(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,C2(e,o)}catch(o){await oc(e,o)}n0(e)&&i0(e)}function R2(s){return Tr(s)&&s.Ta.length<10}function C2(s,e){s.Ta.push(e);const i=Ia(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function n0(s){return Tr(s)&&!Ia(s).x_()&&s.Ta.length>0}function i0(s){Ia(s).start()}async function w2(s){Ia(s).ra()}async function D2(s){const e=Ia(s);for(const i of s.Ta)e.ea(i.mutations)}async function V2(s,e,i){const r=s.Ta.shift(),o=Cd.from(r,e,i);await e0(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Sc(s)}async function x2(s,e){e&&Ia(s).Y_&&await(async function(r,o){if((function(d){return cA(d)&&d!==X.ABORTED})(o.code)){const f=r.Ta.shift();Ia(r).B_(),await e0(r,(()=>r.remoteSyncer.rejectFailedWrite(f.batchId,o))),await Sc(r)}})(s,e),n0(s)&&i0(s)}async function E_(s,e){const i=_t(s);i.asyncQueue.verifyOperationInProgress(),nt(vr,"RemoteStore received new credentials");const r=Tr(i);i.Ea.add(3),await lo(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Tc(i)}async function I2(s,e){const i=_t(s);e?(i.Ea.delete(2),await Tc(i)):e||(i.Ea.add(2),await lo(i),i.Va.set("Unknown"))}function Vs(s){return s.ma||(s.ma=(function(i,r,o){const f=_t(i);return f.sa(),new m2(r,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(s.datastore,s.asyncQueue,{Zo:T2.bind(null,s),Yo:S2.bind(null,s),t_:A2.bind(null,s),J_:b2.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Ud(s)?zd(s):s.Va.set("Unknown")):(await s.ma.stop(),t0(s))}))),s.ma}function Ia(s){return s.fa||(s.fa=(function(i,r,o){const f=_t(i);return f.sa(),new g2(r,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:w2.bind(null,s),t_:x2.bind(null,s),ta:D2.bind(null,s),na:V2.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Sc(s)):(await s.fa.stop(),s.Ta.length>0&&(nt(vr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ld{constructor(e,i,r,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=f,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,f){const d=Date.now()+r,y=new Ld(e,i,d,o,f);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bd(s,e){if(qi("AsyncQueue",`${e}: ${s}`),Ds(s))return new st(X.UNAVAILABLE,`${e}: ${s}`);throw s}class _s{static emptySet(e){return new _s(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=Bl(),this.sortedSet=new se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof _s)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=r.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new _s;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class T_{constructor(){this.ga=new se(ct.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ft(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class As{constructor(e,i,r,o,f,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,f){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new As(e,i,_s.emptySet(i),d,r,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class N2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class O2{constructor(){this.queries=S_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=_t(i),f=o.queries;o.queries=S_(),f.forEach(((d,y)=>{for(const v of y.ba)v.onError(r)}))})(this,new st(X.ABORTED,"Firestore shutting down"))}}function S_(){return new Er((s=>Tv(s)),gc)}async function M2(s,e){const i=_t(s);let r=3;const o=e.query;let f=i.queries.get(o);f?!f.Sa()&&e.Da()&&(r=2):(f=new N2,r=e.Da()?0:1);try{switch(r){case 0:f.wa=await i.onListen(o,!0);break;case 1:f.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=Bd(d,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,f),f.ba.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&jd(i)}async function z2(s,e){const i=_t(s),r=e.query;let o=3;const f=i.queries.get(r);if(f){const d=f.ba.indexOf(e);d>=0&&(f.ba.splice(d,1),f.ba.length===0?o=e.Da()?0:1:!f.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function U2(s,e){const i=_t(s);let r=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const y of d.ba)y.Fa(o)&&(r=!0);d.wa=o}}r&&jd(i)}function L2(s,e,i){const r=_t(s),o=r.queries.get(e);if(o)for(const f of o.ba)f.onError(i);r.queries.delete(e)}function jd(s){s.Ca.forEach((e=>{e.next()}))}var ld,A_;(A_=ld||(ld={})).Ma="default",A_.Cache="cache";class B2{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new As(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=As.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ld.Cache}}class a0{constructor(e){this.key=e}}class r0{constructor(e){this.key=e}}class j2{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=Sv(e),this.tu=new _s(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new T_,o=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,w)=>{const O=o.get(S),F=pc(this.query,w)?w:null,J=!!O&&this.mutatedKeys.has(O.key),et=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let tt=!1;O&&F?O.data.isEqual(F.data)?J!==et&&(r.track({type:3,doc:F}),tt=!0):this.su(O,F)||(r.track({type:2,doc:F}),tt=!0,(v&&this.eu(F,v)>0||_&&this.eu(F,_)<0)&&(y=!0)):!O&&F?(r.track({type:0,doc:F}),tt=!0):O&&!F&&(r.track({type:1,doc:O}),tt=!0,(v||_)&&(y=!0)),tt&&(F?(d=d.add(F),f=et?f.add(S):f.delete(S)):(d=d.delete(S),f=f.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),f=f.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Ss:y,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(F,J){const et=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft(20277,{Vt:tt})}};return et(F)-et(J)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new As(this.query,e.tu,f,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new r0(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new a0(r))})),i}cu(e){this.Za=e.ks,this.Ya=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return As.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Pd="SyncEngine";class P2{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class q2{constructor(e){this.key=e,this.hu=!1}}class k2{constructor(e,i,r,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Er((y=>Tv(y)),gc),this.Iu=new Map,this.Eu=new Set,this.Ru=new se(ct.comparator),this.Au=new Map,this.Vu=new Vd,this.du={},this.mu=new Map,this.fu=Ss.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function H2(s,e,i=!0){const r=h0(s);let o;const f=r.Tu.get(e);return f?(r.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.lu()):o=await s0(r,e,i,!0),o}async function G2(s,e){const i=h0(s);await s0(i,e,!0,!1)}async function s0(s,e,i,r){const o=await s2(s.localStore,gi(e)),f=o.targetId,d=s.sharedClientState.addLocalQueryTarget(f,i);let y;return r&&(y=await F2(s,e,f,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&$v(s.remoteStore,o),y}async function F2(s,e,i,r,o){s.pu=(w,O,F)=>(async function(et,tt,dt,Tt){let mt=tt.view.ru(dt);mt.Ss&&(mt=await g_(et.localStore,tt.query,!1).then((({documents:D})=>tt.view.ru(D,mt))));const xt=Tt&&Tt.targetChanges.get(tt.targetId),$t=Tt&&Tt.targetMismatches.get(tt.targetId)!=null,It=tt.view.applyChanges(mt,et.isPrimaryClient,xt,$t);return R_(et,tt.targetId,It.au),It.snapshot})(s,w,O,F);const f=await g_(s.localStore,e,!0),d=new j2(e,f.ks),y=d.ru(f.documents),v=so.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(y,s.isPrimaryClient,v);R_(s,i,_.au);const S=new P2(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function Q2(s,e,i){const r=_t(s),o=r.Tu.get(e),f=r.Iu.get(o.targetId);if(f.length>1)return r.Iu.set(o.targetId,f.filter((d=>!gc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await rd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Od(r.remoteStore,o.targetId),od(r,o.targetId)})).catch(ws)):(od(r,o.targetId),await rd(r.localStore,o.targetId,!0))}async function Y2(s,e){const i=_t(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Od(i.remoteStore,r.targetId))}async function K2(s,e,i){const r=eb(s);try{const o=await(function(d,y){const v=_t(d),_=ee.now(),S=y.reduce(((F,J)=>F.add(J.key)),Vt());let w,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=ki(),et=Vt();return v.xs.getEntries(F,S).next((tt=>{J=tt,J.forEach(((dt,Tt)=>{Tt.isValidDocument()||(et=et.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(F,J))).next((tt=>{w=tt;const dt=[];for(const Tt of y){const mt=rA(Tt,w.get(Tt.key).overlayedDocument);mt!=null&&dt.push(new Ma(Tt.key,mt,mv(mt.value.mapValue),pi.exists(!0)))}return v.mutationQueue.addMutationBatch(F,_,dt,y)})).next((tt=>{O=tt;const dt=tt.applyToLocalDocumentSet(w,et);return v.documentOverlayCache.saveOverlays(F,tt.batchId,dt)}))})).then((()=>({batchId:O.batchId,changes:bv(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.du[d.currentUser.toKey()];_||(_=new se(Dt)),_=_.insert(y,v),d.du[d.currentUser.toKey()]=_})(r,o.batchId,i),await oo(r,o.changes),await Sc(r.remoteStore)}catch(o){const f=Bd(o,"Failed to persist write");i.reject(f)}}async function l0(s,e){const i=_t(s);try{const r=await i2(i.localStore,e);e.targetChanges.forEach(((o,f)=>{const d=i.Au.get(f);d&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?kt(d.hu,14607):o.removedDocuments.size>0&&(kt(d.hu,42227),d.hu=!1))})),await oo(i,r,e)}catch(r){await ws(r)}}function b_(s,e,i){const r=_t(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((f,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=_t(d);v.onlineState=y;let _=!1;v.queries.forEach(((S,w)=>{for(const O of w.ba)O.va(y)&&(_=!0)})),_&&jd(v)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function X2(s,e,i){const r=_t(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),f=o&&o.key;if(f){let d=new se(ct.comparator);d=d.insert(f,Xe.newNoDocument(f,pt.min()));const y=Vt().add(f),v=new vc(pt.min(),new Map,new se(Dt),d,y);await l0(r,v),r.Ru=r.Ru.remove(f),r.Au.delete(e),qd(r)}else await rd(r.localStore,e,!1).then((()=>od(r,e,i))).catch(ws)}async function Z2(s,e){const i=_t(s),r=e.batch.batchId;try{const o=await n2(i.localStore,e);u0(i,r,null),o0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await oo(i,o)}catch(o){await ws(o)}}async function J2(s,e,i){const r=_t(s);try{const o=await(function(d,y){const v=_t(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,y).next((w=>(kt(w!==null,37113),S=w.keys(),v.mutationQueue.removeMutationBatch(_,w)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(r.localStore,e);u0(r,e,i),o0(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await oo(r,o)}catch(o){await ws(o)}}function o0(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function u0(s,e,i){const r=_t(s);let o=r.du[r.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function od(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||c0(s,r)}))}function c0(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Od(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),qd(s))}function R_(s,e,i){for(const r of i)r instanceof a0?(s.Vu.addReference(r.key,e),$2(s,r)):r instanceof r0?(nt(Pd,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||c0(s,r.key)):ft(19791,{wu:r})}function $2(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(nt(Pd,"New document in limbo: "+i),s.Eu.add(r),qd(s))}function qd(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ct(re.fromString(e)),r=s.fu.next();s.Au.set(r,new q2(i)),s.Ru=s.Ru.insert(i,r),$v(s.remoteStore,new Sa(gi(bd(i.path)),r,"TargetPurposeLimboResolution",hc.ce))}}async function oo(s,e,i){const r=_t(s),o=[],f=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Id.Es(v.targetId,_);f.push(S)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(v,_){const S=_t(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>K.forEach(_,(O=>K.forEach(O.Ts,(F=>S.persistence.referenceDelegate.addReference(w,O.targetId,F))).next((()=>K.forEach(O.Is,(F=>S.persistence.referenceDelegate.removeReference(w,O.targetId,F)))))))))}catch(w){if(!Ds(w))throw w;nt(Nd,"Failed to update sequence numbers: "+w)}for(const w of _){const O=w.targetId;if(!w.fromCache){const F=S.vs.get(O),J=F.snapshotVersion,et=F.withLastLimboFreeSnapshotVersion(J);S.vs=S.vs.insert(O,et)}}})(r.localStore,f))}async function W2(s,e){const i=_t(s);if(!i.currentUser.isEqual(e)){nt(Pd,"User change. New user:",e.toKey());const r=await Kv(i.localStore,e);i.currentUser=e,(function(f,d){f.mu.forEach((y=>{y.forEach((v=>{v.reject(new st(X.CANCELLED,d))}))})),f.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await oo(i,r.Ns)}}function tb(s,e){const i=_t(s),r=i.Au.get(e);if(r&&r.hu)return Vt().add(r.key);{let o=Vt();const f=i.Iu.get(e);if(!f)return o;for(const d of f){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function h0(s){const e=_t(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=l0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X2.bind(null,e),e.Pu.J_=U2.bind(null,e.eventManager),e.Pu.yu=L2.bind(null,e.eventManager),e}function eb(s){const e=_t(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J2.bind(null,e),e}class uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ec(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return e2(this.persistence,new $A,e.initialUser,this.serializer)}Cu(e){return new Yv(xd.Vi,this.serializer)}Du(e){return new o2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uc.provider={build:()=>new uc};class nb extends uc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){kt(this.persistence.referenceDelegate instanceof lc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LA(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new Yv((r=>lc.Vi(r,i)),this.serializer)}}class ud{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W2.bind(null,this.syncEngine),await I2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new O2})()}createDatastore(e){const i=Ec(e.databaseInfo.databaseId),r=d2(e.databaseInfo);return _2(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,f,d,y){return new E2(r,o,f,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>b_(this.syncEngine,i,0)),(function(){return __.v()?new __:new u2})())}createSyncEngine(e,i){return(function(o,f,d,y,v,_,S){const w=new k2(o,f,d,y,v,_);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=_t(i);nt(vr,"RemoteStore shutting down."),r.Ea.add(5),await lo(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ud.provider={build:()=>new ud};class ib{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Na="FirestoreClient";class ab{constructor(e,i,r,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=yd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(r,(async d=>{nt(Na,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(nt(Na,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Bd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function kf(s,e){s.asyncQueue.verifyOperationInProgress(),nt(Na,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Kv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function C_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await rb(s);nt(Na,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>E_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>E_(e.remoteStore,o))),s._onlineComponents=e}async function rb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Na,"Using user provided OfflineComponentProvider");try{await kf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;yr("Error using user provided cache. Falling back to memory cache: "+i),await kf(s,new uc)}}else nt(Na,"Using default OfflineComponentProvider"),await kf(s,new nb(void 0));return s._offlineComponents}async function f0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Na,"Using user provided OnlineComponentProvider"),await C_(s,s._uninitializedComponentsProvider._online)):(nt(Na,"Using default OnlineComponentProvider"),await C_(s,new ud))),s._onlineComponents}function sb(s){return f0(s).then((e=>e.syncEngine))}async function lb(s){const e=await f0(s),i=e.eventManager;return i.onListen=H2.bind(null,e.syncEngine),i.onUnlisten=Q2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=G2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Y2.bind(null,e.syncEngine),i}function ob(s,e,i={}){const r=new Ca;return s.asyncQueue.enqueueAndForget((async()=>(function(f,d,y,v,_){const S=new ib({next:O=>{S.Nu(),d.enqueueAndForget((()=>z2(f,w)));const F=O.docs.has(y);!F&&O.fromCache?_.reject(new st(X.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&O.fromCache&&v&&v.source==="server"?_.reject(new st(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(O)},error:O=>_.reject(O)}),w=new B2(bd(y.path),S,{includeMetadataChanges:!0,Ka:!0});return M2(f,w)})(await lb(s),s.asyncQueue,e,i,r))),r.promise}function ub(s,e){const i=new Ca;return s.asyncQueue.enqueueAndForget((async()=>K2(await sb(s),e,i))),i.promise}function d0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const cb="ComponentProvider",w_=new Map;function hb(s,e,i,r,o){return new wS(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,d0(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const m0="firestore.googleapis.com",D_=!0;class V_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m0,this.ssl=D_}else this.host=e.host,this.ssl=e.ssl??D_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Qv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zA)throw new st(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rS;switch(r.type){case"firstParty":return new uS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=w_.get(i);r&&(nt(cb,"Removing Datastore"),w_.delete(i),r.terminate())})(this),Promise.resolve()}}function fb(s,e,i,r={}){s=_r(s,kd);const o=md(e),f=s._getSettings(),d={...f,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(O1(`https://${y}`),L1("Firestore",!0)),f.host!==m0&&f.host!==y&&yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:y,ssl:o,emulatorOptions:r};if(!Ju(v,d)&&(s._setSettings(v),r.mockUserToken)){let _,S;if(typeof r.mockUserToken=="string")_=r.mockUserToken,S=Ke.MOCK_USER;else{_=M1(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new st(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ke(w)}s._authCredentials=new sS(new iv(_,S))}}class Hd{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hd(this.firestore,e,this._query)}}class Ie{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ie(this.firestore,e,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(ao(i,Ie._jsonSchema))return new Ie(e,r||null,new ct(re.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Ce("string",Ie._jsonSchemaVersion),referencePath:Ce("string")};class no extends Hd{constructor(e,i,r){super(e,i,bd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ie(this.firestore,null,new ct(e))}withConverter(e){return new no(this.firestore,e,this._path)}}function Gd(s,e,...i){if(s=gr(s),arguments.length===1&&(e=yd.newId()),gS("doc","path",e),s instanceof kd){const r=re.fromString(e,...i);return Hy(r),new Ie(s,null,new ct(r))}{if(!(s instanceof Ie||s instanceof no))throw new st(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(re.fromString(e,...i));return Hy(r),new Ie(s.firestore,s instanceof no?s.converter:null,new ct(r))}}const x_="AsyncQueue";class I_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Zv(this,"async_queue_retry"),this._c=()=>{const r=qf();r&&nt(x_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=qf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=qf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ds(e))throw e;nt(x_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qi("INTERNAL UNHANDLED ERROR: ",N_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Ld.createAndSchedule(this,e,i,r,(f=>this.hc(f)));return this.tc.push(o),o}uc(){this.nc&&ft(47125,{Pc:N_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function N_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Ac extends kd{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new I_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I_(e),this._firestoreClient=void 0,await e}}}function db(s,e){const i=typeof s=="object"?s:YT(),r=typeof s=="string"?s:ec,o=kT(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const f=I1("firestore");f&&fb(o,...f)}return o}function g0(s){if(s._terminated)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||mb(s),s._firestoreClient}function mb(s){const e=s._freezeSettings(),i=hb(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new ab(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const f=o?._online.build();return{_offline:o?._offline.build(f),_online:f}})(s._componentsProvider))}class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Fe.fromBase64String(e))}catch(i){throw new st(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Nn(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ao(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Ce("string",Nn._jsonSchemaVersion),bytes:Ce("string")};class Fd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bc{constructor(e){this._methodName=e}}class _i{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(e){if(ao(e,_i._jsonSchema))return new _i(e.latitude,e.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:Ce("string",_i._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Fn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let f=0;f<r.length;++f)if(r[f]!==o[f])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ao(e,Fn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Fn(e.vectorValues);throw new st(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fn._jsonSchemaVersion="firestore/vectorValue/1.0",Fn._jsonSchema={type:Ce("string",Fn._jsonSchemaVersion),vectorValues:Ce("object")};const gb=/^__.*__$/;class pb{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,i,this.fieldTransforms):new ro(e,this.data,i,this.fieldTransforms)}}class p0{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ma(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function y0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft(40011,{dataSource:s})}}class Qd{constructor(e,i,r,o,f,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,f===void 0&&this.validatePath(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Qd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return cc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(y0(this.dataSource)&&gb.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class yb{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Ec(e)}createContext(e,i,r,o=!1){return new Qd({dataSource:e,methodName:i,targetDoc:r,path:Ge.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _0(s){const e=s._freezeSettings(),i=Ec(s._databaseId);return new yb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function _b(s,e,i,r,o,f={}){const d=s.createContext(f.merge||f.mergeFields?2:0,e,i,o);Kd("Data must be an object, but it was:",d,r);const y=v0(r,d);let v,_;if(f.merge)v=new _n(d.fieldMask),_=d.fieldTransforms;else if(f.mergeFields){const S=[];for(const w of f.mergeFields){const O=io(e,w,i);if(!d.contains(O))throw new st(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);S0(S,O)||S.push(O)}v=new _n(S),_=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,_=d.fieldTransforms;return new pb(new on(y),v,_)}class Rc extends bc{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rc}}class Yd extends bc{constructor(e,i){super(e),this.Vc=i}_toFieldTransform(e){const i=new eo(e.serializer,wv(e.serializer,this.Vc));return new eA(e.path,i)}isEqual(e){return e instanceof Yd&&this.Vc===e.Vc}}function vb(s,e,i,r){const o=s.createContext(1,e,i);Kd("Data must be an object, but it was:",o,r);const f=[],d=on.empty();Oa(r,((v,_)=>{const S=T0(e,v,i);_=gr(_);const w=o.childContextForFieldPath(S);if(_ instanceof Rc)f.push(S);else{const O=Cc(_,w);O!=null&&(f.push(S),d.set(S,O))}}));const y=new _n(f);return new p0(d,y,o.fieldTransforms)}function Eb(s,e,i,r,o,f){const d=s.createContext(1,e,i),y=[io(e,r,i)],v=[o];if(f.length%2!=0)throw new st(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<f.length;O+=2)y.push(io(e,f[O])),v.push(f[O+1]);const _=[],S=on.empty();for(let O=y.length-1;O>=0;--O)if(!S0(_,y[O])){const F=y[O];let J=v[O];J=gr(J);const et=d.childContextForFieldPath(F);if(J instanceof Rc)_.push(F);else{const tt=Cc(J,et);tt!=null&&(_.push(F),S.set(F,tt))}}const w=new _n(_);return new p0(S,w,d.fieldTransforms)}function Cc(s,e){if(E0(s=gr(s)))return Kd("Unsupported field value:",e,s),v0(s,e);if(s instanceof bc)return(function(r,o){if(!y0(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const f=r._toFieldTransform(o);f&&o.fieldTransforms.push(f)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const f=[];let d=0;for(const y of r){let v=Cc(y,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),d++}return{arrayValue:{values:f}}})(s,e)}return(function(r,o){if((r=gr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wv(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const f=ee.fromDate(r);return{timestampValue:sc(o.serializer,f)}}if(r instanceof ee){const f=new ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sc(o.serializer,f)}}if(r instanceof _i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nn)return{bytesValue:Bv(o.serializer,r._byteString)};if(r instanceof Ie){const f=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(f))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Dd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Fn)return(function(d,y){const v=d instanceof Fn?d.toArray():d;return{mapValue:{fields:{[fv]:{stringValue:dv},[nc]:{arrayValue:{values:v.map((S=>{if(typeof S!="number")throw y.createError("VectorValues must only contain numeric values.");return Rd(y.serializer,S)}))}}}}}})(r,o);if(Fv(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${_d(r)}`)})(s,e)}function v0(s,e){const i={};return sv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(s,((r,o)=>{const f=Cc(o,e.childContextForField(r));f!=null&&(i[r]=f)})),{mapValue:{fields:i}}}function E0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ee||s instanceof _i||s instanceof Nn||s instanceof Ie||s instanceof bc||s instanceof Fn||Fv(s))}function Kd(s,e,i){if(!E0(i)||!av(i)){const r=_d(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function io(s,e,i){if((e=gr(e))instanceof Fd)return e._internalPath;if(typeof e=="string")return T0(s,e);throw cc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Tb=new RegExp("[~\\*/\\[\\]]");function T0(s,e,i){if(e.search(Tb)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Fd(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function cc(s,e,i,r,o){const f=r&&!r.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new st(X.INVALID_ARGUMENT,y+s+v)}function S0(s,e){return s.some((i=>i.isEqual(e)))}class Sb{convertValue(e,i="none"){switch(xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ft(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Oa(e,((o,f)=>{r[o]=this.convertValue(f,i)})),r}convertVectorValue(e){const i=e.fields?.[nc].arrayValue?.values?.map((r=>me(r.doubleValue)));return new Fn(i)}convertGeoPoint(e){return new _i(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=dc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=Da(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=re.fromString(e);kt(Gv(r),9688,{name:e});const o=new Jl(r.get(1),r.get(3)),f=new ct(r.popFirst(5));return o.isEqual(i)||qi(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}class Ab extends Sb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function cd(s){return new Yd("increment",s)}const O_="@firebase/firestore",M_="4.11.0";class A0{constructor(e,i,r,o,f){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(io("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class bb extends A0{data(){return super.data()}}function Rb(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Pl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mr extends A0{constructor(e,i,r,o,f,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(io("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=mr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}mr._jsonSchemaVersion="firestore/documentSnapshot/1.0",mr._jsonSchema={type:Ce("string",mr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Xu extends mr{data(e={}){return super.data(e)}}class Ql{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Xu(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Xu(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Pl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>f||y.type!==3)).map((y=>{const v=new Xu(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Pl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:Cb(y.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ql._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((f=>{f._document!==null&&(i.push(f._document),r.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),o.push(f.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Cb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft(61501,{type:s})}}Ql._jsonSchemaVersion="firestore/querySnapshot/1.0",Ql._jsonSchema={type:Ce("string",Ql._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function Xd(s){s=_r(s,Ie);const e=_r(s.firestore,Ac),i=g0(e);return ob(i,s._key).then((r=>Db(e,s,r)))}function wb(s,e,i){s=_r(s,Ie);const r=_r(s.firestore,Ac),o=Rb(s.converter,e),f=_0(r);return R0(r,[_b(f,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,pi.none())])}function b0(s,e,i,...r){s=_r(s,Ie);const o=_r(s.firestore,Ac),f=_0(o);let d;return d=typeof(e=gr(e))=="string"||e instanceof Fd?Eb(f,"updateDoc",s._key,e,i,r):vb(f,"updateDoc",s._key,e),R0(o,[d.toMutation(s._key,pi.exists(!0))])}function R0(s,e){const i=g0(s);return ub(i,e)}function Db(s,e,i){const r=i.docs.get(e._key),o=new Ab(s);return new mr(s,o,e._key,r,new Pl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){aS(QT),Wu(new Yl("firestore",((r,{instanceIdentifier:o,options:f})=>{const d=r.getProvider("app").getImmediate(),y=new Ac(new lS(r.getProvider("auth-internal")),new cS(d,r.getProvider("app-check-internal")),DS(d,o),d);return f={useFetchStreams:i,...f},y._setSettings(f),y}),"PUBLIC").setMultipleInstances(!0)),ps(O_,M_,e),ps(O_,M_,"esm2020")})();var Vb="firebase",xb="12.9.0";ps(Vb,xb,"app");const hd={apiKey:"AIzaSyBiu9kqb5MgfE9Z7DX_YhhRObyh8oQO8DU",authDomain:"ten-months-promise.firebaseapp.com",projectId:"ten-months-promise",storageBucket:"ten-months-promise.firebasestorage.app",messagingSenderId:"520634711667",appId:"1:520634711667:web:805feaa5aca9dd625ff406"},wc=hd.apiKey&&hd.projectId,z_=wc?Y_(hd):null,bs=z_?db(z_):null,Zd="game_stats",Jd="surrogate_mother";async function Ib(){if(!bs||!wc){console.log("[Analytics] Firebase ");return}try{const s=Gd(bs,Zd,Jd);(await Xd(s)).exists()?await b0(s,{play_count:cd(1),last_played:new Date().toISOString()}):await wb(s,{game_name:"",play_count:1,first_played:new Date().toISOString(),last_played:new Date().toISOString()}),console.log("[Analytics]  +1")}catch(s){console.warn("[Analytics] :",s)}}async function Nb(s){if(!(!bs||!wc))try{const e=Gd(bs,Zd,Jd);if((await Xd(e)).exists()){const r=`endings.${s}`;await b0(e,{complete_count:cd(1),[r]:cd(1)})}console.log(`[Analytics] : ${s}`)}catch(e){console.warn("[Analytics] :",e)}}async function U_(){if(!bs||!wc)return null;try{const s=Gd(bs,Zd,Jd),e=await Xd(s);if(e.exists()){const i=e.data();return{play_count:i.play_count??0,complete_count:i.complete_count??0,endings:i.endings??{}}}}catch(s){console.warn("[Analytics] :",s)}return null}const L_="v0.2.1",Ob="2026-02-17",B_={cp1:" 3 ",cp2:" 6 ",cp3:" 9 ",cp4:" 10 "},j_={cp2:"",cp3:"",cp4:"",end_good:"",end_neutral:"",end_bad:"",end_death:""};function Mb(){const s=Re.useMemo(()=>new m1(g1),[]),[,e]=Re.useState(0),[i,r]=Re.useState("title"),[o,f]=Re.useState(""),[d,y]=Re.useState(""),v=Re.useRef(null),[_,S]=Re.useState(null),w=Re.useRef(!1);Re.useEffect(()=>{const A=s.subscribe(()=>e(Ut=>Ut+1));return()=>{A()}},[s]),Re.useEffect(()=>{U_().then(A=>{A&&S(A.play_count)})},[]);const O=s.getCurrentDialogue(),F=s.getCurrentScene(),J=s.isAtChoice(),et=J?s.getCurrentChoices():[],tt=s.isEnd(),dt=s.getVariables(),Tt=s.getProgress(),mt=s.isEnding(),xt=F?.scene_id??"",$t=s.getResponse(),It=O?s.getCharacter(O.character):null;Re.useEffect(()=>{mt&&!w.current&&(w.current=!0,Nb(xt))},[mt,xt]);const D=Re.useCallback(()=>{s.start(),r("playing"),w.current=!1,Ib().then(()=>{U_().then(A=>{A&&S(A.play_count)})})},[s]),b=Re.useCallback(()=>{if(i==="response"){const A=s.getPendingTransitionScene();A&&(v.current=A,y(j_[A]??""),f("fade-out"),r("transition"),setTimeout(()=>{s.completeTransition(),setTimeout(()=>{f("fade-in"),r("playing"),setTimeout(()=>f(""),800)},1500)},800));return}s.advance()},[s,i]),C=Re.useCallback(A=>{if(s.selectChoice(A),A.response)r("response");else{const Ut=s.getPendingTransitionScene();Ut&&(v.current=Ut,y(j_[Ut]??""),f("fade-out"),r("transition"),setTimeout(()=>{s.completeTransition(),setTimeout(()=>{f("fade-in"),r("playing"),setTimeout(()=>f(""),800)},1500)},800))}},[s]),N=Re.useCallback(()=>{r("title")},[]),x=Re.useCallback(()=>{r("review")},[]);if(i==="title")return ot.jsxs("div",{style:{width:"100vw",height:"100vh",background:"linear-gradient(180deg, #0a0a0a 0%, #1a1a2e 50%, #0a0a0a 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"'Noto Sans TC', sans-serif",cursor:"pointer"},onClick:D,children:[ot.jsx("div",{style:{color:"rgba(255,255,255,0.15)",fontSize:16,letterSpacing:6,marginBottom:20},children:""}),ot.jsx("h1",{style:{color:"#e0e0e0",fontSize:42,fontWeight:300,letterSpacing:8,marginBottom:15,textShadow:"0 0 30px rgba(255,255,255,0.1)"},children:""}),ot.jsx("div",{style:{color:"rgba(255,255,255,0.25)",fontSize:16,marginBottom:60},children:""}),ot.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:17,letterSpacing:3,animation:"blink 2s infinite"},children:""}),_!==null&&ot.jsxs("div",{style:{position:"absolute",bottom:40,left:"50%",transform:"translateX(-50%)",color:"rgba(255,255,255,0.2)",fontSize:13},children:[" ",_," "]}),ot.jsxs("div",{style:{position:"absolute",bottom:15,right:20,color:"rgba(255,255,255,0.15)",fontSize:12},children:[L_,"  ",Ob]})]});if(i==="review"){const A=s.getChoiceHistory();return ot.jsx("div",{style:{width:"100vw",height:"100vh",overflow:"auto",fontFamily:"'Noto Sans TC', sans-serif",background:"#0a0a0a"},children:ot.jsxs("div",{style:{maxWidth:650,margin:"0 auto",padding:"40px 20px"},children:[ot.jsx("h2",{style:{color:"#e0e0e0",textAlign:"center",marginBottom:30,fontWeight:400},children:""}),A.map((Ut,ue)=>ot.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",borderLeft:"3px solid #3498db",padding:"15px 20px",marginBottom:15,borderRadius:"0 6px 6px 0"},children:[ot.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:14,marginBottom:6},children:Ut.checkpoint}),ot.jsx("div",{style:{color:"#e0e0e0",fontSize:17,lineHeight:1.6},children:Ut.choiceText})]},ue)),ot.jsxs("div",{style:{marginTop:30,padding:20,background:"rgba(255,255,255,0.03)",borderRadius:8,border:"1px solid rgba(255,255,255,0.1)"},children:[ot.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:15,marginBottom:8},children:""}),ot.jsxs("div",{style:{color:"#80CBC4",fontSize:16},children:["",String(dt.emotion),"  ",String(dt.risk)]})]}),ot.jsx("div",{style:{textAlign:"center",marginTop:30},children:ot.jsx("button",{onClick:N,style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.3)",color:"#e0e0e0",padding:"14px 34px",fontSize:16,cursor:"pointer",borderRadius:4},children:""})})]})})}if(!O||!F)return ot.jsx("div",{style:{color:"white",padding:40},children:"Loading..."});const z=i==="transition";return ot.jsxs("div",{style:{width:"100vw",height:"100vh",position:"relative",overflow:"hidden",fontFamily:"'Noto Sans TC', 'Noto Sans JP', sans-serif"},children:[ot.jsx(y1,{sceneId:xt}),ot.jsx("div",{style:{position:"absolute",inset:0,background:"#000",zIndex:50,pointerEvents:"none",opacity:o==="fade-out"||z?1:0,transition:"opacity 0.8s ease"},children:z&&ot.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:ot.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:26,letterSpacing:4,fontWeight:300},children:d})})}),ot.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,zIndex:30,padding:"15px 20px 10px"},children:[ot.jsxs("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:15,marginBottom:8,display:"flex",justifyContent:"space-between"},children:[ot.jsx("span",{children:""}),ot.jsx("span",{children:F.scene_name})]}),ot.jsx("div",{style:{height:3,background:"rgba(255,255,255,0.1)",borderRadius:2,overflow:"hidden"},children:ot.jsx("div",{style:{height:"100%",width:`${Tt*100}%`,borderRadius:2,background:mt?"rgba(255,255,255,0.4)":"linear-gradient(90deg, #3498db, #2980b9)",transition:"width 0.8s ease"}})})]}),B_[xt]&&ot.jsx("div",{style:{position:"absolute",top:55,left:20,color:"rgba(255,255,255,0.35)",fontSize:24,fontWeight:"bold",letterSpacing:2,zIndex:30},children:B_[xt]}),ot.jsx(E1,{variables:dt}),i==="response"&&$t?ot.jsx(Dy,{characterName:"",characterColor:"#BDBDBD",text:$t,onAdvance:b,isEnd:!1}):J?ot.jsx(_1,{choices:et,onSelect:C}):ot.jsx(Dy,{characterName:It?.display_name??"",characterColor:It?.color??"#ffffff",text:O.text,onAdvance:b,isEnd:tt}),ot.jsx("div",{style:{position:"absolute",bottom:5,right:10,color:"rgba(255,255,255,0.1)",fontSize:11,zIndex:5},children:L_}),tt&&i==="playing"&&ot.jsxs("div",{style:{position:"absolute",bottom:210,left:"50%",transform:"translateX(-50%)",display:"flex",gap:15,zIndex:30},children:[ot.jsx("button",{onClick:x,style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.3)",color:"#e0e0e0",padding:"14px 28px",fontSize:16,cursor:"pointer",borderRadius:4},children:""}),ot.jsx("button",{onClick:N,style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.3)",color:"#e0e0e0",padding:"14px 28px",fontSize:16,cursor:"pointer",borderRadius:4},children:""})]})]})}h1.createRoot(document.getElementById("root")).render(ot.jsx(Re.StrictMode,{children:ot.jsx(Mb,{})}));
